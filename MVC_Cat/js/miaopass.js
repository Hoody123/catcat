(function(a,f){function c(b){var h=b.length,p=d.type(b);return d.isWindow(b)?!1:1===b.nodeType&&h?!0:"array"===p||"function"!==p&&(0===h||"number"==typeof h&&0<h&&h-1 in b)}function e(b){var h=va[b]={};return d.each(b.match(ba)||[],function(b,d){h[d]=!0}),h}function k(b,h,p,a){if(d.acceptData(b)){var c,e,n=d.expando,q="string"==typeof h,g=b.nodeType,k=g?d.cache:b,l=g?b[n]:b[n]&&n;if(l&&k[l]&&(a||k[l].data)||!q||p!==f)return l||(g?b[n]=l=Q.pop()||d.guid++:l=n),k[l]||(k[l]={},g||(k[l].toJSON=d.noop)),
("object"==typeof h||"function"==typeof h)&&(a?k[l]=d.extend(k[l],h):k[l].data=d.extend(k[l].data,h)),c=k[l],a||(c.data||(c.data={}),c=c.data),p!==f&&(c[d.camelCase(h)]=p),q?(e=c[h],null==e&&(e=c[d.camelCase(h)])):e=c,e}}function g(b,h,p){if(d.acceptData(b)){var a,c,e,f=b.nodeType,q=f?d.cache:b,g=f?b[d.expando]:d.expando;if(q[g]){if(h&&(e=p?q[g]:q[g].data)){d.isArray(h)?h=h.concat(d.map(h,d.camelCase)):h in e?h=[h]:(h=d.camelCase(h),h=h in e?[h]:h.split(" "));a=0;for(c=h.length;c>a;a++)delete e[h[a]];
if(!(p?r:d.isEmptyObject)(e))return}(p||(delete q[g].data,r(q[g])))&&(f?d.cleanData([b],!0):d.support.deleteExpando||q!=q.window?delete q[g]:q[g]=null)}}}function m(b,h,p){if(p===f&&1===b.nodeType){var a="data-"+h.replace(ab,"-$1").toLowerCase();if(p=b.getAttribute(a),"string"==typeof p){try{p="true"===p?!0:"false"===p?!1:"null"===p?null:+p+""===p?+p:Wa.test(p)?d.parseJSON(p):p}catch(c){}d.data(b,h,p)}else p=f}return p}function r(b){for(var h in b)if(("data"!==h||!d.isEmptyObject(b[h]))&&"toJSON"!==
h)return!1;return!0}function t(){return!0}function y(){return!1}function H(b,h){do b=b[h];while(b&&1!==b.nodeType);return b}function D(b,h,p){if(h=h||0,d.isFunction(h))return d.grep(b,function(b,d){return!!h.call(b,d,b)===p});if(h.nodeType)return d.grep(b,function(b){return b===h===p});if("string"==typeof h){var a=d.grep(b,function(b){return 1===b.nodeType});if(Ib.test(h))return d.filter(h,a,!p);h=d.filter(h,a)}return d.grep(b,function(b){return 0<=d.inArray(b,h)===p})}function T(b){var h=nb.split("|");
b=b.createDocumentFragment();if(b.createElement)for(;h.length;)b.createElement(h.pop());return b}function B(b,h){return b.getElementsByTagName(h)[0]||b.appendChild(b.ownerDocument.createElement(h))}function u(b){var h=b.getAttributeNode("type");return b.type=(h&&h.specified)+"/"+b.type,b}function G(b){var h=Jb.exec(b.type);return h?b.type=h[1]:b.removeAttribute("type"),b}function R(b,h){for(var p,a=0;null!=(p=b[a]);a++)d._data(p,"globalEval",!h||d._data(h[a],"globalEval"))}function A(b,h){if(1===
h.nodeType&&d.hasData(b)){var p,a,c;a=d._data(b);var e=d._data(h,a),f=a.events;if(f)for(p in delete e.handle,e.events={},f)for(a=0,c=f[p].length;c>a;a++)d.event.add(h,p,f[p][a]);e.data&&(e.data=d.extend({},e.data))}}function E(b,h){var p,a,c=0,e=typeof b.getElementsByTagName!==ca?b.getElementsByTagName(h||"*"):typeof b.querySelectorAll!==ca?b.querySelectorAll(h||"*"):f;if(!e)for(e=[],p=b.childNodes||b;null!=(a=p[c]);c++)!h||d.nodeName(a,h)?e.push(a):d.merge(e,E(a,h));return h===f||h&&d.nodeName(b,
h)?d.merge([b],e):e}function N(b){bb.test(b.type)&&(b.defaultChecked=b.checked)}function X(b,h){if(h in b)return h;for(var d=h.charAt(0).toUpperCase()+h.slice(1),a=h,c=ob.length;c--;)if(h=ob[c]+d,h in b)return h;return a}function la(b,h){return b=h||b,"none"===d.css(b,"display")||!d.contains(b.ownerDocument,b)}function P(b,h){for(var p,a,c,e=[],f=0,q=b.length;q>f;f++)a=b[f],a.style&&(e[f]=d._data(a,"olddisplay"),p=a.style.display,h?(e[f]||"none"!==p||(a.style.display=""),""===a.style.display&&la(a)&&
(e[f]=d._data(a,"olddisplay",fa(a.nodeName)))):e[f]||(c=la(a),(p&&"none"!==p||!c)&&d._data(a,"olddisplay",c?p:d.css(a,"display"))));for(f=0;q>f;f++)a=b[f],a.style&&(h&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=h?e[f]||"":"none"));return b}function J(b,h,d){return(b=Kb.exec(h))?Math.max(0,b[1]-(d||0))+(b[2]||"px"):h}function l(b,h,p,a,c){h=p===(a?"border":"content")?4:"width"===h?1:0;for(var e=0;4>h;h+=2)"margin"===p&&(e+=d.css(b,p+Ca[h],!0,c)),a?("content"===p&&(e-=d.css(b,
"padding"+Ca[h],!0,c)),"margin"!==p&&(e-=d.css(b,"border"+Ca[h]+"Width",!0,c))):(e+=d.css(b,"padding"+Ca[h],!0,c),"padding"!==p&&(e+=d.css(b,"border"+Ca[h]+"Width",!0,c)));return e}function O(b,h,p){var a=!0,c="width"===h?b.offsetWidth:b.offsetHeight,e=Da(b),f=d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,e);if(0>=c||null==c){if(c=Ea(b,h,e),(0>c||null==c)&&(c=b.style[h]),Xa.test(c))return c;a=f&&(d.support.boxSizingReliable||c===b.style[h]);c=parseFloat(c)||0}return c+l(b,h,p||(f?"border":
"content"),a,e)+"px"}function fa(b){var h=x,p=pb[b];return p||(p=Fa(b,h),"none"!==p&&p||(Qa=(Qa||d("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(h.documentElement),h=(Qa[0].contentWindow||Qa[0].contentDocument).document,h.write("<!doctype html><html><body>"),h.close(),p=Fa(b,h),Qa.detach()),pb[b]=p),p}function Fa(b,h){var p=d(h.createElement(b)).appendTo(h.body),a=d.css(p[0],"display");return p.remove(),a}function Ma(b,h,p,a){var c;if(d.isArray(h))d.each(h,
function(h,d){p||Lb.test(b)?a(b,d):Ma(b+"["+("object"==typeof d?h:"")+"]",d,p,a)});else if(p||"object"!==d.type(h))a(b,h);else for(c in h)Ma(b+"["+c+"]",h[c],p,a)}function U(b){return function(h,p){"string"!=typeof h&&(p=h,h="*");var a,c=0,e=h.toLowerCase().match(ba)||[];if(d.isFunction(p))for(;a=e[c++];)"+"===a[0]?(a=a.slice(1)||"*",(b[a]=b[a]||[]).unshift(p)):(b[a]=b[a]||[]).push(p)}}function Ra(b,h,p,a){function c(q){var g;return e[q]=!0,d.each(b[q]||[],function(b,d){var q=d(h,p,a);return"string"!=
typeof q||n||e[q]?n?!(g=q):f:(h.dataTypes.unshift(q),c(q),!1)}),g}var e={},n=b===cb;return c(h.dataTypes[0])||!e["*"]&&c("*")}function Ga(b,h){var p,a,c=d.ajaxSettings.flatOptions||{};for(a in h)h[a]!==f&&((c[a]?b:p||(p={}))[a]=h[a]);return p&&d.extend(!0,b,p),b}function M(){try{return new a.XMLHttpRequest}catch(b){}}function K(){return setTimeout(function(){Oa=f}),Oa=d.now()}function F(b,h){d.each(h,function(h,d){for(var a=(Sa[h]||[]).concat(Sa["*"]),c=0,e=a.length;e>c&&!a[c].call(b,h,d);c++);})}
function ma(b,h,p){var a,c=0,e=Ya.length,f=d.Deferred().always(function(){delete q.elem}),q=function(){if(a)return!1;for(var h=Oa||K(),h=Math.max(0,g.startTime+g.duration-h),d=1-(h/g.duration||0),p=0,c=g.tweens.length;c>p;p++)g.tweens[p].run(d);return f.notifyWith(b,[g,d,h]),1>d&&c?h:(f.resolveWith(b,[g]),!1)},g=f.promise({elem:b,props:d.extend({},h),opts:d.extend(!0,{specialEasing:{}},p),originalProperties:h,originalOptions:p,startTime:Oa||K(),duration:p.duration,tweens:[],createTween:function(h,
p){var a=d.Tween(b,g.opts,h,p,g.opts.specialEasing[h]||g.opts.easing);return g.tweens.push(a),a},stop:function(h){var d=0,p=h?g.tweens.length:0;if(a)return this;for(a=!0;p>d;d++)g.tweens[d].run(1);return h?f.resolveWith(b,[g,h]):f.rejectWith(b,[g,h]),this}});p=g.props;for(wa(p,g.opts.specialEasing);e>c;c++)if(h=Ya[c].call(g,b,p,g.opts))return h;return F(g,p),d.isFunction(g.opts.start)&&g.opts.start.call(b,g),d.fx.timer(d.extend(q,{elem:b,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,
g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function wa(b,h){var p,a,c,e,f;for(c in b)if(a=d.camelCase(c),e=h[a],p=b[c],d.isArray(p)&&(e=p[1],p=b[c]=p[0]),c!==a&&(b[a]=p,delete b[c]),f=d.cssHooks[a],f&&"expand"in f)for(c in p=f.expand(p),delete b[a],p)c in b||(b[c]=p[c],h[c]=e);else h[a]=e}function W(b,h,d,a,c){return new W.prototype.init(b,h,d,a,c)}function na(b,h){var d,a={height:b},c=0;for(h=h?1:0;4>c;c+=2-h)d=Ca[c],a["margin"+d]=a["padding"+d]=b;return h&&(a.opacity=a.width=b),a}
function xa(b){return d.isWindow(b)?b:9===b.nodeType?b.defaultView||b.parentWindow:!1}var Y,sa,ca=typeof f,x=a.document,Ha=a.location,Ia=a.jQuery,Ja=a.$,ta={},Q=[],Z=Q.concat,ua=Q.push,aa=Q.slice,Za=Q.indexOf,ha=ta.toString,L=ta.hasOwnProperty,pa="1.9.1".trim,d=function(b,h){return new d.fn.init(b,h,sa)},da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ba=/\S+/g,ia=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,v=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,qa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ja=/^[\],:{}\s]*$/,Ta=/(?:^|:|,)(?:\s*\[)+/g,
ra=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ea=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,za=/^-ms-/,V=/-([\da-z])/gi,ya=function(b,h){return h.toUpperCase()},ga=function(b){(x.addEventListener||"load"===b.type||"complete"===x.readyState)&&(oa(),d.ready())},oa=function(){x.addEventListener?(x.removeEventListener("DOMContentLoaded",ga,!1),a.removeEventListener("load",ga,!1)):(x.detachEvent("onreadystatechange",ga),a.detachEvent("onload",ga))};d.fn=d.prototype={jquery:"1.9.1",constructor:d,
init:function(b,h,p){var a,c;if(!b)return this;if("string"==typeof b){if(a="<"===b.charAt(0)&&">"===b.charAt(b.length-1)&&3<=b.length?[null,b,null]:v.exec(b),!a||!a[1]&&h)return!h||h.jquery?(h||p).find(b):this.constructor(h).find(b);if(a[1]){if(h=h instanceof d?h[0]:h,d.merge(this,d.parseHTML(a[1],h&&h.nodeType?h.ownerDocument||h:x,!0)),qa.test(a[1])&&d.isPlainObject(h))for(a in h)d.isFunction(this[a])?this[a](h[a]):this.attr(a,h[a]);return this}if(c=x.getElementById(a[2]),c&&c.parentNode){if(c.id!==
a[2])return p.find(b);this.length=1;this[0]=c}return this.context=x,this.selector=b,this}return b.nodeType?(this.context=this[0]=b,this.length=1,this):d.isFunction(b)?p.ready(b):(b.selector!==f&&(this.selector=b.selector,this.context=b.context),d.makeArray(b,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return aa.call(this)},get:function(b){return null==b?this.toArray():0>b?this[this.length+b]:this[b]},pushStack:function(b){b=d.merge(this.constructor(),b);return b.prevObject=
this,b.context=this.context,b},each:function(b,h){return d.each(this,b,h)},ready:function(b){return d.ready.promise().done(b),this},slice:function(){return this.pushStack(aa.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(b){var h=this.length;b=+b+(0>b?h:0);return this.pushStack(0<=b&&h>b?[this[b]]:[])},map:function(b){return this.pushStack(d.map(this,function(h,d){return b.call(h,d,h)}))},end:function(){return this.prevObject||this.constructor(null)},
push:ua,sort:[].sort,splice:[].splice};d.fn.init.prototype=d.fn;d.extend=d.fn.extend=function(){var b,h,a,c,e,w,n=arguments[0]||{},q=1,g=arguments.length,l=!1;"boolean"==typeof n&&(l=n,n=arguments[1]||{},q=2);"object"==typeof n||d.isFunction(n)||(n={});for(g===q&&(n=this,--q);g>q;q++)if(null!=(e=arguments[q]))for(c in e)b=n[c],a=e[c],n!==a&&(l&&a&&(d.isPlainObject(a)||(h=d.isArray(a)))?(h?(h=!1,w=b&&d.isArray(b)?b:[]):w=b&&d.isPlainObject(b)?b:{},n[c]=d.extend(l,w,a)):a!==f&&(n[c]=a));return n};d.extend({noConflict:function(b){return a.$===
d&&(a.$=Ja),b&&a.jQuery===d&&(a.jQuery=Ia),d},isReady:!1,readyWait:1,holdReady:function(b){b?d.readyWait++:d.ready(!0)},ready:function(b){if(!0===b?!--d.readyWait:!d.isReady){if(!x.body)return setTimeout(d.ready);d.isReady=!0;!0!==b&&0<--d.readyWait||(Y.resolveWith(x,[d]),d.fn.trigger&&d(x).trigger("ready").off("ready"))}},isFunction:function(b){return"function"===d.type(b)},isArray:Array.isArray||function(b){return"array"===d.type(b)},isWindow:function(b){return null!=b&&b==b.window},isNumeric:function(b){return!isNaN(parseFloat(b))&&
isFinite(b)},type:function(b){return null==b?b+"":"object"==typeof b||"function"==typeof b?ta[ha.call(b)]||"object":typeof b},isPlainObject:function(b){if(!b||"object"!==d.type(b)||b.nodeType||d.isWindow(b))return!1;try{if(b.constructor&&!L.call(b,"constructor")&&!L.call(b.constructor.prototype,"isPrototypeOf"))return!1}catch(h){return!1}for(var a in b);return a===f||L.call(b,a)},isEmptyObject:function(b){for(var h in b)return!1;return!0},error:function(b){throw Error(b);},parseHTML:function(b,h,
a){if(!b||"string"!=typeof b)return null;"boolean"==typeof h&&(a=h,h=!1);h=h||x;var c=qa.exec(b);a=!a&&[];return c?[h.createElement(c[1])]:(c=d.buildFragment([b],h,a),a&&d(a).remove(),d.merge([],c.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=d.trim(b),b&&ja.test(b.replace(ra,"@").replace(ea,"]").replace(Ta,"")))?Function("return "+b)():(d.error("Invalid JSON: "+b),f)},parseXML:function(b){var h,p;if(!b||"string"!=typeof b)return null;
try{a.DOMParser?(p=new DOMParser,h=p.parseFromString(b,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(b))}catch(c){h=f}return h&&h.documentElement&&!h.getElementsByTagName("parsererror").length||d.error("Invalid XML: "+b),h},noop:function(){},globalEval:function(b){b&&d.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(b){return b.replace(za,"ms-").replace(V,ya)},nodeName:function(b,h){return b.nodeName&&b.nodeName.toLowerCase()===h.toLowerCase()},
each:function(b,h,d){var a,e=0,f=b.length,n=c(b);if(d)if(n)for(;f>e&&(a=h.apply(b[e],d),!1!==a);e++);else for(e in b){if(a=h.apply(b[e],d),!1===a)break}else if(n)for(;f>e&&(a=h.call(b[e],e,b[e]),!1!==a);e++);else for(e in b)if(a=h.call(b[e],e,b[e]),!1===a)break;return b},trim:pa&&!pa.call("\ufeff\u00a0")?function(b){return null==b?"":pa.call(b)}:function(b){return null==b?"":(b+"").replace(ia,"")},makeArray:function(b,h){var a=h||[];return null!=b&&(c(Object(b))?d.merge(a,"string"==typeof b?[b]:b):
ua.call(a,b)),a},inArray:function(b,h,d){var a;if(h){if(Za)return Za.call(h,b,d);a=h.length;for(d=d?0>d?Math.max(0,a+d):d:0;a>d;d++)if(d in h&&h[d]===b)return d}return-1},merge:function(b,h){var d=h.length,a=b.length,c=0;if("number"==typeof d)for(;d>c;c++)b[a++]=h[c];else for(;h[c]!==f;)b[a++]=h[c++];return b.length=a,b},grep:function(b,h,d){var a,c=[],e=0,f=b.length;for(d=!!d;f>e;e++)a=!!h(b[e],e),d!==a&&c.push(b[e]);return c},map:function(b,h,d){var a,e=0,f=b.length,n=[];if(c(b))for(;f>e;e++)a=
h(b[e],e,d),null!=a&&(n[n.length]=a);else for(e in b)a=h(b[e],e,d),null!=a&&(n[n.length]=a);return Z.apply([],n)},guid:1,proxy:function(b,h){var a,c,e;return"string"==typeof h&&(e=b[h],h=b,b=e),d.isFunction(b)?(a=aa.call(arguments,2),c=function(){return b.apply(h||this,a.concat(aa.call(arguments)))},c.guid=b.guid=b.guid||d.guid++,c):f},access:function(b,h,a,c,e,w,n){var q=0,g=b.length,l=null==a;if("object"===d.type(a))for(q in e=!0,a)d.access(b,h,q,a[q],!0,w,n);else if(c!==f&&(e=!0,d.isFunction(c)||
(n=!0),l&&(n?(h.call(b,c),h=null):(l=h,h=function(b,h,a){return l.call(d(b),a)})),h))for(;g>q;q++)h(b[q],a,n?c:c.call(b[q],q,h(b[q],a)));return e?b:l?h.call(b):g?h(b[0],a):w},now:function(){return(new Date).getTime()}});d.ready.promise=function(b){if(!Y)if(Y=d.Deferred(),"complete"===x.readyState)setTimeout(d.ready);else if(x.addEventListener)x.addEventListener("DOMContentLoaded",ga,!1),a.addEventListener("load",ga,!1);else{x.attachEvent("onreadystatechange",ga);a.attachEvent("onload",ga);var h=!1;
try{h=null==a.frameElement&&x.documentElement}catch(p){}h&&h.doScroll&&function I(){if(!d.isReady){try{h.doScroll("left")}catch(b){return setTimeout(I,50)}oa();d.ready()}}()}return Y.promise(b)};d.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(b,h){ta["[object "+h+"]"]=h.toLowerCase()});sa=d(x);var va={};d.Callbacks=function(b){b="string"==typeof b?va[b]||e(b):d.extend({},b);var h,a,c,I,w,n,q=[],g=!b.once&&[],l=function(d){a=b.memory&&d;c=!0;w=n||0;n=0;I=
q.length;for(h=!0;q&&I>w;w++)if(!1===q[w].apply(d[0],d[1])&&b.stopOnFalse){a=!1;break}h=!1;q&&(g?g.length&&l(g.shift()):a?q=[]:k.disable())},k={add:function(){if(q){var c=q.length;(function Mb(h){d.each(h,function(h,a){var p=d.type(a);"function"===p?b.unique&&k.has(a)||q.push(a):a&&a.length&&"string"!==p&&Mb(a)})})(arguments);h?I=q.length:a&&(n=c,l(a))}return this},remove:function(){return q&&d.each(arguments,function(b,a){for(var p;-1<(p=d.inArray(a,q,p));)q.splice(p,1),h&&(I>=p&&I--,w>=p&&w--)}),
this},has:function(b){return b?-1<d.inArray(b,q):!(!q||!q.length)},empty:function(){return q=[],this},disable:function(){return q=g=a=f,this},disabled:function(){return!q},lock:function(){return g=f,a||k.disable(),this},locked:function(){return!g},fireWith:function(b,d){return d=d||[],d=[b,d.slice?d.slice():d],!q||c&&!g||(h?g.push(d):l(d)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k};d.extend({Deferred:function(b){var h=[["resolve","done",d.Callbacks("once memory"),
"resolved"],["reject","fail",d.Callbacks("once memory"),"rejected"],["notify","progress",d.Callbacks("memory")]],a="pending",c={state:function(){return a},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var b=arguments;return d.Deferred(function(a){d.each(h,function(h,p){var f=p[0],g=d.isFunction(b[h])&&b[h];e[p[1]](function(){var b=g&&g.apply(this,arguments);b&&d.isFunction(b.promise)?b.promise().done(a.resolve).fail(a.reject).progress(a.notify):a[f+"With"](this===
c?a.promise():this,g?[b]:arguments)})});b=null}).promise()},promise:function(b){return null!=b?d.extend(b,c):c}},e={};return c.pipe=c.then,d.each(h,function(b,d){var f=d[2],g=d[3];c[d[1]]=f.add;g&&f.add(function(){a=g},h[1^b][2].disable,h[2][2].lock);e[d[0]]=function(){return e[d[0]+"With"](this===e?c:this,arguments),this};e[d[0]+"With"]=f.fireWith}),c.promise(e),b&&b.call(e,e),e},when:function(b){var h=0,a=aa.call(arguments),c=a.length,e=1!==c||b&&d.isFunction(b.promise)?c:0,f=1===e?b:d.Deferred(),
n=function(b,h,d){return function(a){h[b]=this;d[b]=1<arguments.length?aa.call(arguments):a;d===g?f.notifyWith(h,d):--e||f.resolveWith(h,d)}},g,l,k;if(1<c)for(g=Array(c),l=Array(c),k=Array(c);c>h;h++)a[h]&&d.isFunction(a[h].promise)?a[h].promise().done(n(h,k,a)).fail(f.reject).progress(n(h,l,g)):--e;return e||f.resolveWith(k,a),f.promise()}});d.support=function(){var b,h,p,c,e,f,n,g=x.createElement("div");if(g.setAttribute("className","t"),g.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
h=g.getElementsByTagName("*"),p=g.getElementsByTagName("a")[0],!h||!p||!h.length)return{};c=x.createElement("select");e=c.appendChild(x.createElement("option"));h=g.getElementsByTagName("input")[0];p.style.cssText="top:1px;float:left;opacity:.5";b={getSetAttribute:"t"!==g.className,leadingWhitespace:3===g.firstChild.nodeType,tbody:!g.getElementsByTagName("tbody").length,htmlSerialize:!!g.getElementsByTagName("link").length,style:/top/.test(p.getAttribute("style")),hrefNormalized:"/a"===p.getAttribute("href"),
opacity:/^0.5/.test(p.style.opacity),cssFloat:!!p.style.cssFloat,checkOn:!!h.value,optSelected:e.selected,enctype:!!x.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==x.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===x.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};h.checked=!0;b.noCloneChecked=h.cloneNode(!0).checked;c.disabled=!0;b.optDisabled=!e.disabled;try{delete g.test}catch(l){b.deleteExpando=
!1}h=x.createElement("input");h.setAttribute("value","");b.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");b.radioValue="t"===h.value;h.setAttribute("checked","t");h.setAttribute("name","t");p=x.createDocumentFragment();p.appendChild(h);b.appendChecked=h.checked;b.checkClone=p.cloneNode(!0).cloneNode(!0).lastChild.checked;g.attachEvent&&(g.attachEvent("onclick",function(){b.noCloneEvent=!1}),g.cloneNode(!0).click());for(n in{submit:!0,change:!0,focusin:!0})g.setAttribute(p=
"on"+n,"t"),b[n+"Bubbles"]=p in a||!1===g.attributes[p].expando;return g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===g.style.backgroundClip,d(function(){var h,d,p,c=x.getElementsByTagName("body")[0];c&&(h=x.createElement("div"),h.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",c.appendChild(h).appendChild(g),g.innerHTML="<table><tr><td></td><td>t</td></tr></table>",p=g.getElementsByTagName("td"),
p[0].style.cssText="padding:0;margin:0;border:0;display:none",f=0===p[0].offsetHeight,p[0].style.display="",p[1].style.display="none",b.reliableHiddenOffsets=f&&0===p[0].offsetHeight,g.innerHTML="",g.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===g.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==c.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==
(a.getComputedStyle(g,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(g,null)||{width:"4px"}).width,d=g.appendChild(x.createElement("div")),d.style.cssText=g.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",d.style.marginRight=d.style.width="0",g.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof g.style.zoom!==ca&&(g.innerHTML="",g.style.cssText=
"padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===g.offsetWidth,g.style.display="block",g.innerHTML="<div></div>",g.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==g.offsetWidth,b.inlineBlockNeedsLayout&&(c.style.zoom=1)),c.removeChild(h),g=null)}),h=c=p=e=p=h=null,b}();var Wa=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ab=/([A-Z])/g;d.extend({cache:{},expando:"jQuery"+
("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(b){return b=b.nodeType?d.cache[b[d.expando]]:b[d.expando],!!b&&!r(b)},data:function(b,h,d){return k(b,h,d)},removeData:function(b,h){return g(b,h)},_data:function(b,h,d){return k(b,h,d,!0)},_removeData:function(b,h){return g(b,h,!0)},acceptData:function(b){if(b.nodeType&&1!==b.nodeType&&9!==b.nodeType)return!1;var h=b.nodeName&&d.noData[b.nodeName.toLowerCase()];
return!h||!0!==h&&b.getAttribute("classid")===h}});d.fn.extend({data:function(b,h){var a,c,e=this[0],g=0,n=null;if(b===f){if(this.length&&(n=d.data(e),1===e.nodeType&&!d._data(e,"parsedAttrs"))){for(a=e.attributes;a.length>g;g++)c=a[g].name,c.indexOf("data-")||(c=d.camelCase(c.slice(5)),m(e,c,n[c]));d._data(e,"parsedAttrs",!0)}return n}return"object"==typeof b?this.each(function(){d.data(this,b)}):d.access(this,function(h){return h===f?e?m(e,b,d.data(e,b)):null:(this.each(function(){d.data(this,b,
h)}),f)},null,h,1<arguments.length,null,!0)},removeData:function(b){return this.each(function(){d.removeData(this,b)})}});d.extend({queue:function(b,h,a){var c;return b?(h=(h||"fx")+"queue",c=d._data(b,h),a&&(!c||d.isArray(a)?c=d._data(b,h,d.makeArray(a)):c.push(a)),c||[]):f},dequeue:function(b,h){h=h||"fx";var a=d.queue(b,h),c=a.length,e=a.shift(),f=d._queueHooks(b,h),g=function(){d.dequeue(b,h)};"inprogress"===e&&(e=a.shift(),c--);(f.cur=e)&&("fx"===h&&a.unshift("inprogress"),delete f.stop,e.call(b,
g,f));!c&&f&&f.empty.fire()},_queueHooks:function(b,h){var a=h+"queueHooks";return d._data(b,a)||d._data(b,a,{empty:d.Callbacks("once memory").add(function(){d._removeData(b,h+"queue");d._removeData(b,a)})})}});d.fn.extend({queue:function(b,h){var a=2;return"string"!=typeof b&&(h=b,b="fx",a--),a>arguments.length?d.queue(this[0],b):h===f?this:this.each(function(){var a=d.queue(this,b,h);d._queueHooks(this,b);"fx"===b&&"inprogress"!==a[0]&&d.dequeue(this,b)})},dequeue:function(b){return this.each(function(){d.dequeue(this,
b)})},delay:function(b,h){return b=d.fx?d.fx.speeds[b]||b:b,h=h||"fx",this.queue(h,function(h,d){var a=setTimeout(h,b);d.stop=function(){clearTimeout(a)}})},clearQueue:function(b){return this.queue(b||"fx",[])},promise:function(b,h){var a,c=1,e=d.Deferred(),g=this,n=this.length,q=function(){--c||e.resolveWith(g,[g])};"string"!=typeof b&&(h=b,b=f);for(b=b||"fx";n--;)(a=d._data(g[n],b+"queueHooks"))&&a.empty&&(c++,a.empty.add(q));return q(),e.promise(h)}});var Aa,C,z=/[\t\r\n]/g,Ua=/\r/g,Nb=/^(?:input|select|textarea|button|object)$/i,
Ob=/^(?:a|area)$/i,qb=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,db=/^(?:checked|selected)$/i,Ka=d.support.getSetAttribute,eb=d.support.input;d.fn.extend({attr:function(b,h){return d.access(this,d.attr,b,h,1<arguments.length)},removeAttr:function(b){return this.each(function(){d.removeAttr(this,b)})},prop:function(b,h){return d.access(this,d.prop,b,h,1<arguments.length)},removeProp:function(b){return b=d.propFix[b]||
b,this.each(function(){try{this[b]=f,delete this[b]}catch(h){}})},addClass:function(b){var h,a,c,e,f,g=0,q=this.length;h="string"==typeof b&&b;if(d.isFunction(b))return this.each(function(h){d(this).addClass(b.call(this,h,this.className))});if(h)for(h=(b||"").match(ba)||[];q>g;g++)if(a=this[g],c=1===a.nodeType&&(a.className?(" "+a.className+" ").replace(z," "):" ")){for(f=0;e=h[f++];)0>c.indexOf(" "+e+" ")&&(c+=e+" ");a.className=d.trim(c)}return this},removeClass:function(b){var h,a,c,e,f,g=0,q=
this.length;h=0===arguments.length||"string"==typeof b&&b;if(d.isFunction(b))return this.each(function(h){d(this).removeClass(b.call(this,h,this.className))});if(h)for(h=(b||"").match(ba)||[];q>g;g++)if(a=this[g],c=1===a.nodeType&&(a.className?(" "+a.className+" ").replace(z," "):"")){for(f=0;e=h[f++];)for(;0<=c.indexOf(" "+e+" ");)c=c.replace(" "+e+" "," ");a.className=b?d.trim(c):""}return this},toggleClass:function(b,h){var a=typeof b,c="boolean"==typeof h;return d.isFunction(b)?this.each(function(a){d(this).toggleClass(b.call(this,
a,this.className,h),h)}):this.each(function(){if("string"===a)for(var e,f=0,g=d(this),q=h,l=b.match(ba)||[];e=l[f++];)q=c?q:!g.hasClass(e),g[q?"addClass":"removeClass"](e);else(a===ca||"boolean"===a)&&(this.className&&d._data(this,"__className__",this.className),this.className=this.className||!1===b?"":d._data(this,"__className__")||"")})},hasClass:function(b){b=" "+b+" ";for(var h=0,a=this.length;a>h;h++)if(1===this[h].nodeType&&0<=(" "+this[h].className+" ").replace(z," ").indexOf(b))return!0;return!1},
val:function(b){var h,a,c,e=this[0];if(arguments.length)return c=d.isFunction(b),this.each(function(h){var e,g=d(this);1===this.nodeType&&(e=c?b.call(this,h,g.val()):b,null==e?e="":"number"==typeof e?e+="":d.isArray(e)&&(e=d.map(e,function(b){return null==b?"":b+""})),a=d.valHooks[this.type]||d.valHooks[this.nodeName.toLowerCase()],a&&"set"in a&&a.set(this,e,"value")!==f||(this.value=e))});if(e)return a=d.valHooks[e.type]||d.valHooks[e.nodeName.toLowerCase()],a&&"get"in a&&(h=a.get(e,"value"))!==
f?h:(h=e.value,"string"==typeof h?h.replace(Ua,""):null==h?"":h)}});d.extend({valHooks:{option:{get:function(b){var h=b.attributes.value;return!h||h.specified?b.value:b.text}},select:{get:function(b){for(var h,a=b.options,c=b.selectedIndex,e="select-one"===b.type||0>c,f=e?null:[],g=e?c+1:a.length,q=0>c?g:e?c:0;g>q;q++)if(h=a[q],!(!h.selected&&q!==c||(d.support.optDisabled?h.disabled:null!==h.getAttribute("disabled"))||h.parentNode.disabled&&d.nodeName(h.parentNode,"optgroup"))){if(b=d(h).val(),e)return b;
f.push(b)}return f},set:function(b,h){var a=d.makeArray(h);return d(b).find("option").each(function(){this.selected=0<=d.inArray(d(this).val(),a)}),a.length||(b.selectedIndex=-1),a}}},attr:function(b,h,a){var c,e,g,n=b.nodeType;if(b&&3!==n&&8!==n&&2!==n)return typeof b.getAttribute===ca?d.prop(b,h,a):(e=1!==n||!d.isXMLDoc(b),e&&(h=h.toLowerCase(),c=d.attrHooks[h]||(qb.test(h)?C:Aa)),a===f?c&&e&&"get"in c&&null!==(g=c.get(b,h))?g:(typeof b.getAttribute!==ca&&(g=b.getAttribute(h)),null==g?f:g):null!==
a?c&&e&&"set"in c&&(g=c.set(b,a,h))!==f?g:(b.setAttribute(h,a+""),a):(d.removeAttr(b,h),f))},removeAttr:function(b,h){var a,c,e=0,f=h&&h.match(ba);if(f&&1===b.nodeType)for(;a=f[e++];)c=d.propFix[a]||a,qb.test(a)?!Ka&&db.test(a)?b[d.camelCase("default-"+a)]=b[c]=!1:b[c]=!1:d.attr(b,a,""),b.removeAttribute(Ka?a:c)},attrHooks:{type:{set:function(b,h){if(!d.support.radioValue&&"radio"===h&&d.nodeName(b,"input")){var a=b.value;return b.setAttribute("type",h),a&&(b.value=a),h}}}},propFix:{tabindex:"tabIndex",
readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b,h,a){var c,e,g,n=b.nodeType;if(b&&3!==n&&8!==n&&2!==n)return g=1!==n||!d.isXMLDoc(b),g&&(h=d.propFix[h]||h,e=d.propHooks[h]),a!==f?e&&"set"in e&&(c=e.set(b,a,h))!==f?c:b[h]=a:e&&"get"in e&&null!==(c=e.get(b,h))?c:b[h]},propHooks:{tabIndex:{get:function(b){var h=
b.getAttributeNode("tabindex");return h&&h.specified?parseInt(h.value,10):Nb.test(b.nodeName)||Ob.test(b.nodeName)&&b.href?0:f}}}});C={get:function(b,h){var a=d.prop(b,h),c="boolean"==typeof a&&b.getAttribute(h);return(a="boolean"==typeof a?eb&&Ka?null!=c:db.test(h)?b[d.camelCase("default-"+h)]:!!c:b.getAttributeNode(h))&&!1!==a.value?h.toLowerCase():f},set:function(b,h,a){return!1===h?d.removeAttr(b,a):eb&&Ka||!db.test(a)?b.setAttribute(!Ka&&d.propFix[a]||a,a):b[d.camelCase("default-"+a)]=b[a]=!0,
a}};eb&&Ka||(d.attrHooks.value={get:function(b,h){var a=b.getAttributeNode(h);return d.nodeName(b,"input")?b.defaultValue:a&&a.specified?a.value:f},set:function(b,h,a){return d.nodeName(b,"input")?(b.defaultValue=h,f):Aa&&Aa.set(b,h,a)}});Ka||(Aa=d.valHooks.button={get:function(b,h){var a=b.getAttributeNode(h);return a&&("id"===h||"name"===h||"coords"===h?""!==a.value:a.specified)?a.value:f},set:function(b,h,a){var d=b.getAttributeNode(a);return d||b.setAttributeNode(d=b.ownerDocument.createAttribute(a)),
d.value=h+="","value"===a||h===b.getAttribute(a)?h:f}},d.attrHooks.contenteditable={get:Aa.get,set:function(b,a,d){Aa.set(b,""===a?!1:a,d)}},d.each(["width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{set:function(b,d){return""===d?(b.setAttribute(a,"auto"),d):f}})}));d.support.hrefNormalized||(d.each(["href","src","width","height"],function(b,a){d.attrHooks[a]=d.extend(d.attrHooks[a],{get:function(b){b=b.getAttribute(a,2);return null==b?f:b}})}),d.each(["href","src"],function(b,
a){d.propHooks[a]={get:function(b){return b.getAttribute(a,4)}}}));d.support.style||(d.attrHooks.style={get:function(b){return b.style.cssText||f},set:function(b,a){return b.style.cssText=a+""}});d.support.optSelected||(d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(b){b=b.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}));d.support.enctype||(d.propFix.enctype="encoding");d.support.checkOn||d.each(["radio","checkbox"],function(){d.valHooks[this]=
{get:function(b){return null===b.getAttribute("value")?"on":b.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(b,a){return d.isArray(a)?b.checked=0<=d.inArray(d(b).val(),a):f}})});var fb=/^(?:input|select|textarea)$/i,Pb=/^key/,Qb=/^(?:mouse|contextmenu)|click/,rb=/^(?:focusinfocus|focusoutblur)$/,sb=/^([^.]*)(?:\.(.+)|)$/;d.event={global:{},add:function(b,a,c,e,g){var w,n,q,l,k,u,Na,m,v;if(q=d._data(b)){c.handler&&(l=c,c=l.handler,g=l.selector);
c.guid||(c.guid=d.guid++);(n=q.events)||(n=q.events={});(k=q.handle)||(k=q.handle=function(b){return typeof d===ca||b&&d.event.triggered===b.type?f:d.event.dispatch.apply(k.elem,arguments)},k.elem=b);a=(a||"").match(ba)||[""];for(q=a.length;q--;)w=sb.exec(a[q])||[],m=u=w[1],v=(w[2]||"").split(".").sort(),w=d.event.special[m]||{},m=(g?w.delegateType:w.bindType)||m,w=d.event.special[m]||{},u=d.extend({type:m,origType:u,data:e,handler:c,guid:c.guid,selector:g,needsContext:g&&d.expr.match.needsContext.test(g),
namespace:v.join(".")},l),(Na=n[m])||(Na=n[m]=[],Na.delegateCount=0,w.setup&&!1!==w.setup.call(b,e,v,k)||(b.addEventListener?b.addEventListener(m,k,!1):b.attachEvent&&b.attachEvent("on"+m,k))),w.add&&(w.add.call(b,u),u.handler.guid||(u.handler.guid=c.guid)),g?Na.splice(Na.delegateCount++,0,u):Na.push(u),d.event.global[m]=!0;b=null}},remove:function(b,a,c,e,f){var g,n,q,l,k,u,m,v,r,R,oa,G=d.hasData(b)&&d._data(b);if(G&&(u=G.events)){a=(a||"").match(ba)||[""];for(k=a.length;k--;)if(q=sb.exec(a[k])||
[],r=oa=q[1],R=(q[2]||"").split(".").sort(),r){m=d.event.special[r]||{};r=(e?m.delegateType:m.bindType)||r;v=u[r]||[];q=q[2]&&RegExp("(^|\\.)"+R.join("\\.(?:.*\\.|)")+"(\\.|$)");for(l=g=v.length;g--;)n=v[g],!f&&oa!==n.origType||c&&c.guid!==n.guid||q&&!q.test(n.namespace)||e&&e!==n.selector&&("**"!==e||!n.selector)||(v.splice(g,1),n.selector&&v.delegateCount--,m.remove&&m.remove.call(b,n));l&&!v.length&&(m.teardown&&!1!==m.teardown.call(b,R,G.handle)||d.removeEvent(b,r,G.handle),delete u[r])}else for(r in u)d.event.remove(b,
r+a[k],c,e,!0);d.isEmptyObject(u)&&(delete G.handle,d._removeData(b,"events"))}},trigger:function(b,h,c,e){var g,w,n,q,l,k,u=[c||x],m=L.call(b,"type")?b.type:b;k=L.call(b,"namespace")?b.namespace.split("."):[];if(n=g=c=c||x,3!==c.nodeType&&8!==c.nodeType&&!rb.test(m+d.event.triggered)&&(0<=m.indexOf(".")&&(k=m.split("."),m=k.shift(),k.sort()),w=0>m.indexOf(":")&&"on"+m,b=b[d.expando]?b:new d.Event(m,"object"==typeof b&&b),b.isTrigger=!0,b.namespace=k.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+
k.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=f,b.target||(b.target=c),h=null==h?[b]:d.makeArray(h,[b]),l=d.event.special[m]||{},e||!l.trigger||!1!==l.trigger.apply(c,h))){if(!e&&!l.noBubble&&!d.isWindow(c)){q=l.delegateType||m;for(rb.test(q+m)||(n=n.parentNode);n;n=n.parentNode)u.push(n),g=n;g===(c.ownerDocument||x)&&u.push(g.defaultView||g.parentWindow||a)}for(k=0;(n=u[k++])&&!b.isPropagationStopped();)b.type=1<k?q:l.bindType||m,(g=(d._data(n,"events")||{})[b.type]&&d._data(n,"handle"))&&g.apply(n,
h),(g=w&&n[w])&&d.acceptData(n)&&g.apply&&!1===g.apply(n,h)&&b.preventDefault();if(b.type=m,!(e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(c.ownerDocument,h)||"click"===m&&d.nodeName(c,"a"))&&d.acceptData(c)&&w&&c[m]&&!d.isWindow(c)){(g=c[w])&&(c[w]=null);d.event.triggered=m;try{c[m]()}catch(v){}d.event.triggered=f;g&&(c[w]=g)}return b.result}},dispatch:function(b){b=d.event.fix(b);var a,c,e,g,w,n=[],q=aa.call(arguments);a=(d._data(this,"events")||{})[b.type]||[];var l=d.event.special[b.type]||
{};if(q[0]=b,b.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,b)){n=d.event.handlers.call(this,b,a);for(a=0;(g=n[a++])&&!b.isPropagationStopped();)for(b.currentTarget=g.elem,w=0;(e=g.handlers[w++])&&!b.isImmediatePropagationStopped();)b.namespace_re&&!b.namespace_re.test(e.namespace)||(b.handleObj=e,b.data=e.data,c=((d.event.special[e.origType]||{}).handle||e.handler).apply(g.elem,q),c===f||!1!==(b.result=c)||(b.preventDefault(),b.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,
b),b.result}},handlers:function(b,a){var c,e,g,w,n=[],q=a.delegateCount,l=b.target;if(q&&l.nodeType&&(!b.button||"click"!==b.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==b.type)){g=[];for(w=0;q>w;w++)e=a[w],c=e.selector+" ",g[c]===f&&(g[c]=e.needsContext?0<=d(c,this).index(l):d.find(c,this,null,[l]).length),g[c]&&g.push(e);g.length&&n.push({elem:l,handlers:g})}return a.length>q&&n.push({elem:this,handlers:a.slice(q)}),n},fix:function(b){if(b[d.expando])return b;
var a,c,e;a=b.type;var f=b,g=this.fixHooks[a];g||(this.fixHooks[a]=g=Qb.test(a)?this.mouseHooks:Pb.test(a)?this.keyHooks:{});e=g.props?this.props.concat(g.props):this.props;b=new d.Event(f);for(a=e.length;a--;)c=e[a],b[c]=f[c];return b.target||(b.target=f.srcElement||x),3===b.target.nodeType&&(b.target=b.target.parentNode),b.metaKey=!!b.metaKey,g.filter?g.filter(b,f):b},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(b,a){return null==b.which&&(b.which=null!=a.charCode?a.charCode:a.keyCode),b}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b,a){var d,c,e,g=a.button,n=a.fromElement;return null==b.pageX&&null!=a.clientX&&(c=b.target.ownerDocument||x,e=c.documentElement,d=c.body,b.pageX=a.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&
e.clientLeft||d&&d.clientLeft||0),b.pageY=a.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)),!b.relatedTarget&&n&&(b.relatedTarget=n===b.target?a.toElement:n),b.which||g===f||(b.which=1&g?1:2&g?3:4&g?2:0),b}},special:{load:{noBubble:!0},click:{trigger:function(){return d.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):f}},focus:{trigger:function(){if(this!==x.activeElement&&this.focus)try{return this.focus(),!1}catch(b){}},delegateType:"focusin"},
blur:{trigger:function(){return this===x.activeElement&&this.blur?(this.blur(),!1):f},delegateType:"focusout"},beforeunload:{postDispatch:function(b){b.result!==f&&(b.originalEvent.returnValue=b.result)}}},simulate:function(b,a,c,e){b=d.extend(new d.Event,c,{type:b,isSimulated:!0,originalEvent:{}});e?d.event.trigger(b,null,a):d.event.dispatch.call(a,b);b.isDefaultPrevented()&&c.preventDefault()}};d.removeEvent=x.removeEventListener?function(b,a,d){b.removeEventListener&&b.removeEventListener(a,d,
!1)}:function(b,a,d){a="on"+a;b.detachEvent&&(typeof b[a]===ca&&(b[a]=null),b.detachEvent(a,d))};d.Event=function(b,a){return this instanceof d.Event?(b&&b.type?(this.originalEvent=b,this.type=b.type,this.isDefaultPrevented=b.defaultPrevented||!1===b.returnValue||b.getPreventDefault&&b.getPreventDefault()?t:y):this.type=b,a&&d.extend(this,a),this.timeStamp=b&&b.timeStamp||d.now(),this[d.expando]=!0,f):new d.Event(b,a)};d.Event.prototype={isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,
preventDefault:function(){var b=this.originalEvent;this.isDefaultPrevented=t;b&&(b.preventDefault?b.preventDefault():b.returnValue=!1)},stopPropagation:function(){var b=this.originalEvent;this.isPropagationStopped=t;b&&(b.stopPropagation&&b.stopPropagation(),b.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=t;this.stopPropagation()}};d.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b,a){d.event.special[b]={delegateType:a,bindType:a,handle:function(b){var c,
e=b.relatedTarget,f=b.handleObj;return(!e||e!==this&&!d.contains(this,e))&&(b.type=f.origType,c=f.handler.apply(this,arguments),b.type=a),c}}});d.support.submitBubbles||(d.event.special.submit={setup:function(){return d.nodeName(this,"form")?!1:(d.event.add(this,"click._submit keypress._submit",function(b){b=b.target;(b=d.nodeName(b,"input")||d.nodeName(b,"button")?b.form:f)&&!d._data(b,"submitBubbles")&&(d.event.add(b,"submit._submit",function(b){b._submit_bubble=!0}),d._data(b,"submitBubbles",!0))}),
f)},postDispatch:function(b){b._submit_bubble&&(delete b._submit_bubble,this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,!0))},teardown:function(){return d.nodeName(this,"form")?!1:(d.event.remove(this,"._submit"),f)}});d.support.changeBubbles||(d.event.special.change={setup:function(){return fb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(d.event.add(this,"propertychange._change",function(b){"checked"===b.originalEvent.propertyName&&(this._just_changed=
!0)}),d.event.add(this,"click._change",function(b){this._just_changed&&!b.isTrigger&&(this._just_changed=!1);d.event.simulate("change",this,b,!0)})),!1):(d.event.add(this,"beforeactivate._change",function(b){b=b.target;fb.test(b.nodeName)&&!d._data(b,"changeBubbles")&&(d.event.add(b,"change._change",function(b){!this.parentNode||b.isSimulated||b.isTrigger||d.event.simulate("change",this.parentNode,b,!0)}),d._data(b,"changeBubbles",!0))}),f)},handle:function(b){var a=b.target;return this!==a||b.isSimulated||
b.isTrigger||"radio"!==a.type&&"checkbox"!==a.type?b.handleObj.handler.apply(this,arguments):f},teardown:function(){return d.event.remove(this,"._change"),!fb.test(this.nodeName)}});d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(b,a){var c=0,e=function(b){d.event.simulate(a,b.target,d.event.fix(b),!0)};d.event.special[a]={setup:function(){0===c++&&x.addEventListener(b,e,!0)},teardown:function(){0===--c&&x.removeEventListener(b,e,!0)}}});d.fn.extend({on:function(b,a,c,
e,g){var w,n;if("object"==typeof b){"string"!=typeof a&&(c=c||a,a=f);for(w in b)this.on(w,a,c,b[w],g);return this}if(null==c&&null==e?(e=a,c=a=f):null==e&&("string"==typeof a?(e=c,c=f):(e=c,c=a,a=f)),!1===e)e=y;else if(!e)return this;return 1===g&&(n=e,e=function(b){return d().off(b),n.apply(this,arguments)},e.guid=n.guid||(n.guid=d.guid++)),this.each(function(){d.event.add(this,b,e,c,a)})},one:function(b,a,d,c){return this.on(b,a,d,c,1)},off:function(b,a,c){var e,g;if(b&&b.preventDefault&&b.handleObj)return e=
b.handleObj,d(b.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof b){for(g in b)this.off(g,a,b[g]);return this}return(!1===a||"function"==typeof a)&&(c=a,a=f),!1===c&&(c=y),this.each(function(){d.event.remove(this,b,c,a)})},bind:function(b,a,d){return this.on(b,null,a,d)},unbind:function(b,a){return this.off(b,null,a)},delegate:function(b,a,d,c){return this.on(a,b,d,c)},undelegate:function(b,a,d){return 1===arguments.length?this.off(b,
"**"):this.off(a,b||"**",d)},trigger:function(b,a){return this.each(function(){d.event.trigger(b,a,this)})},triggerHandler:function(b,a){var c=this[0];return c?d.event.trigger(b,a,c,!0):f}});(function(b,a){function c(b){return Fa.test(b+"")}function e(){var b,a=[];return b=function(d,h){return a.push(d+=" ")>t.cacheLength&&delete b[a.shift()],b[d]=h}}function f(b){return b[N]=!0,b}function g(b){var a=J.createElement("div");try{return b(a)}catch(d){return!1}finally{}}function n(b,a,d,h){var c,e,f,
p,g;if((a?a.ownerDocument||a:H)!==J&&V(a),a=a||J,d=d||[],!b||"string"!=typeof b)return d;if(1!==(p=a.nodeType)&&9!==p)return[];if(!y&&!h){if(c=ha.exec(b))if(f=c[1])if(9===p){if(e=a.getElementById(f),!e||!e.parentNode)return d;if(e.id===f)return d.push(e),d}else{if(a.ownerDocument&&(e=a.ownerDocument.getElementById(f))&&fa(a,e)&&e.id===f)return d.push(e),d}else{if(c[2])return K.apply(d,ga.call(a.getElementsByTagName(b),0)),d;if((f=c[3])&&O.getByClassName&&a.getElementsByClassName)return K.apply(d,
ga.call(a.getElementsByClassName(f),0)),d}if(O.qsa&&!x.test(b)){if(c=!0,e=N,f=a,g=9===p&&b,1===p&&"object"!==a.nodeName.toLowerCase()){p=m(b);(c=a.getAttribute("id"))?e=c.replace(ma,"\\$&"):a.setAttribute("id",e);e="[id='"+e+"'] ";for(f=p.length;f--;)p[f]=e+v(p[f]);f=ca.test(b)&&a.parentNode||a;g=p.join(",")}if(g)try{return K.apply(d,ga.call(f.querySelectorAll(g),0)),d}catch(n){}finally{c||a.removeAttribute("id")}}}var w;a:{b=b.replace(U,"$1");var q,l;e=m(b);if(!h&&1===e.length){if(w=e[0]=e[0].slice(0),
2<w.length&&"ID"===(q=w[0]).type&&9===a.nodeType&&!y&&t.relative[w[1].type]){if(a=t.find.ID(q.matches[0].replace(Y,aa),a)[0],!a){w=d;break a}b=b.slice(w.shift().value.length)}for(p=ba.needsContext.test(b)?0:w.length;p--&&(q=w[p],!t.relative[c=q.type]);)if((l=t.find[c])&&(h=l(q.matches[0].replace(Y,aa),ca.test(w[0].type)&&a.parentNode||a))){if(w.splice(p,1),b=h.length&&v(w),!b){w=(K.apply(d,ga.call(h,0)),d);break a}break}}w=(B(b,e)(h,a,y,d,ca.test(b)),d)}return w}function q(b,a){var d=a&&b,h=d&&(~a.sourceIndex||
-2147483648)-(~b.sourceIndex||-2147483648);if(h)return h;if(d)for(;d=d.nextSibling;)if(d===a)return-1;return b?1:-1}function l(b){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===b}}function k(b){return function(a){var d=a.nodeName.toLowerCase();return("input"===d||"button"===d)&&a.type===b}}function u(b){return f(function(a){return a=+a,f(function(d,h){for(var c,e=b([],d.length,a),f=e.length;f--;)d[c=e[f]]&&(d[c]=!(h[c]=d[c]))})})}function m(b,a){var d,h,c,e,f,p,g;if(f=L[b+" "])return a?
0:f.slice(0);f=b;p=[];for(g=t.preFilter;f;){d&&!(h=W.exec(f))||(h&&(f=f.slice(h[0].length)||f),p.push(c=[]));d=!1;(h=Z.exec(f))&&(d=h.shift(),c.push({value:d,type:h[0].replace(U," ")}),f=f.slice(d.length));for(e in t.filter)!(h=ba[e].exec(f))||g[e]&&!(h=g[e](h))||(d=h.shift(),c.push({value:d,type:e,matches:h}),f=f.slice(d.length));if(!d)break}return a?f.length:f?n.error(b):L(b,p).slice(0)}function v(b){for(var a=0,d=b.length,h="";d>a;a++)h+=b[a].value;return h}function r(b,a,d){var h=a.dir,c=d&&"parentNode"===
h,e=la++;return a.first?function(a,d,e){for(;a=a[h];)if(1===a.nodeType||c)return b(a,d,e)}:function(a,d,f){var p,g,n,w=X+" "+e;if(f)for(;a=a[h];){if((1===a.nodeType||c)&&b(a,d,f))return!0}else for(;a=a[h];)if(1===a.nodeType||c)if(n=a[N]||(a[N]={}),(g=n[h])&&g[0]===w){if(!0===(p=g[1])||p===A)return!0===p}else if(g=n[h]=[w],g[1]=b(a,d,f)||A,!0===g[1])return!0}}function R(b){return 1<b.length?function(a,d,h){for(var c=b.length;c--;)if(!b[c](a,d,h))return!1;return!0}:b[0]}function oa(b,a,d,h,c){for(var e,
f=[],p=0,g=b.length,n=null!=a;g>p;p++)(e=b[p])&&(!d||d(e,h,c))&&(f.push(e),n&&a.push(p));return f}function G(b,a,d,h,c,e){return h&&!h[N]&&(h=G(h)),c&&!c[N]&&(c=G(c,e)),f(function(e,f,p,g){var w,q,l=[],S=[],k=f.length,I;if(!(I=e)){I=a||"*";for(var u=p.nodeType?[p]:p,m=[],v=0,r=u.length;r>v;v++)n(I,u[v],m);I=m}I=!b||!e&&a?I:oa(I,l,b,p,g);u=d?c||(e?b:k||h)?[]:f:I;if(d&&d(I,u,p,g),h)for(w=oa(u,S),h(w,[],p,g),p=w.length;p--;)(q=w[p])&&(u[S[p]]=!(I[S[p]]=q));if(e){if(c||b){if(c){w=[];for(p=u.length;p--;)(q=
u[p])&&w.push(I[p]=q);c(null,u=[],w,g)}for(p=u.length;p--;)(q=u[p])&&-1<(w=c?Q.call(e,q):l[p])&&(e[w]=!(f[w]=q))}}else u=oa(u===f?u.splice(k,u.length):u),c?c(null,f,u,g):K.apply(f,u)})}function P(b){var a,d,h,c=b.length,e=t.relative[b[0].type];d=e||t.relative[" "];for(var f=e?1:0,p=r(function(b){return b===a},d,!0),g=r(function(b){return-1<Q.call(a,b)},d,!0),n=[function(b,d,h){return!e&&(h||d!==va)||((a=d).nodeType?p(b,d,h):g(b,d,h))}];c>f;f++)if(d=t.relative[b[f].type])n=[r(R(n),d)];else{if(d=t.filter[b[f].type].apply(null,
b[f].matches),d[N]){for(h=++f;c>h&&!t.relative[b[h].type];h++);return G(1<f&&R(n),1<f&&v(b.slice(0,f-1)).replace(U,"$1"),d,h>f&&P(b.slice(f,h)),c>h&&P(b=b.slice(h)),c>h&&v(b))}n.push(d)}return R(n)}function ra(b,a){var d=0,h=0<a.length,c=0<b.length,e=function(e,f,p,g,w){var q,l,S=[],I=0,k="0",u=e&&[],m=null!=w,v=va,r=e||c&&t.find.TAG("*",w&&f.parentNode||f),R=X+=null==v?1:Math.random()||.1;for(m&&(va=f!==J&&f,A=d);null!=(w=r[k]);k++){if(c&&w){for(q=0;l=b[q++];)if(l(w,f,p)){g.push(w);break}m&&(X=R,
A=++d)}h&&((w=!l&&w)&&I--,e&&u.push(w))}if(I+=k,h&&k!==I){for(q=0;l=a[q++];)l(u,S,f,p);if(e){if(0<I)for(;k--;)u[k]||S[k]||(S[k]=Aa.call(g));S=oa(S)}K.apply(g,S);m&&!e&&0<S.length&&1<I+a.length&&n.uniqueSort(g)}return m&&(X=R,va=v),u};return h?f(e):e}function ea(){}var z,A,t,C,ja,B,qa,va,V,J,E,y,x,za,D,fa,Ta,N="sizzle"+-new Date,H=b.document,O={},X=0,la=0,T=e(),L=e(),M=e(),F=typeof a,ya=[],Aa=ya.pop,K=ya.push,ga=ya.slice,Q=ya.indexOf||function(b){for(var a=0,d=this.length;d>a;a++)if(this[a]===b)return a;
return-1},ya="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Wa="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ya+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Ua=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Wa.replace(3,8)+")*)|.*)\\)|)",U=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,W=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Z=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,
ab=RegExp(Ua),da=RegExp("^"+ya+"$"),ba={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Wa),PSEUDO:RegExp("^"+Ua),CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},
ca=/[\x20\t\r\n\f]*[+~]/,Fa=/^[^{]+\{\s*\[native code/,ha=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ia=/^(?:input|select|textarea|button)$/i,ka=/^h\d$/i,ma=/'|\\/g,na=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,Y=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,aa=function(b,a){var d="0x"+a-65536;return d!==d?a:0>d?String.fromCharCode(d+65536):String.fromCharCode(55296|d>>10,56320|1023&d)};try{ga.call(H.documentElement.childNodes,0)[0].nodeType}catch(pa){ga=function(b){for(var a,d=[];a=this[b++];)d.push(a);return d}}ja=
n.isXML=function(b){return(b=b&&(b.ownerDocument||b).documentElement)?"HTML"!==b.nodeName:!1};V=n.setDocument=function(b){var d=b?b.ownerDocument||b:H;return d!==J&&9===d.nodeType&&d.documentElement?(J=d,E=d.documentElement,y=ja(d),O.tagNameNoComments=g(function(b){return b.appendChild(d.createComment("")),!b.getElementsByTagName("*").length}),O.attributes=g(function(b){b.innerHTML="<select></select>";b=typeof b.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),O.getByClassName=
g(function(b){return b.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",b.getElementsByClassName&&b.getElementsByClassName("e").length?(b.lastChild.className="e",2===b.getElementsByClassName("e").length):!1}),O.getByName=g(function(b){b.id=N+0;b.innerHTML="<a name='"+N+"'></a><div name='"+N+"'></div>";E.insertBefore(b,E.firstChild);var a=d.getElementsByName&&d.getElementsByName(N).length===2+d.getElementsByName(N+0).length;return O.getIdNotName=!d.getElementById(N),E.removeChild(b),
a}),t.attrHandle=g(function(b){return b.innerHTML="<a href='#'></a>",b.firstChild&&typeof b.firstChild.getAttribute!==F&&"#"===b.firstChild.getAttribute("href")})?{}:{href:function(b){return b.getAttribute("href",2)},type:function(b){return b.getAttribute("type")}},O.getIdNotName?(t.find.ID=function(b,a){if(typeof a.getElementById!==F&&!y){var d=a.getElementById(b);return d&&d.parentNode?[d]:[]}},t.filter.ID=function(b){var a=b.replace(Y,aa);return function(b){return b.getAttribute("id")===a}}):(t.find.ID=
function(b,d){if(typeof d.getElementById!==F&&!y){var c=d.getElementById(b);return c?c.id===b||typeof c.getAttributeNode!==F&&c.getAttributeNode("id").value===b?[c]:a:[]}},t.filter.ID=function(b){var a=b.replace(Y,aa);return function(b){return(b=typeof b.getAttributeNode!==F&&b.getAttributeNode("id"))&&b.value===a}}),t.find.TAG=O.tagNameNoComments?function(b,d){return typeof d.getElementsByTagName!==F?d.getElementsByTagName(b):a}:function(b,a){var d,h=[],c=0,e=a.getElementsByTagName(b);if("*"===b){for(;d=
e[c++];)1===d.nodeType&&h.push(d);return h}return e},t.find.NAME=O.getByName&&function(b,d){return typeof d.getElementsByName!==F?d.getElementsByName(name):a},t.find.CLASS=O.getByClassName&&function(b,d){return typeof d.getElementsByClassName===F||y?a:d.getElementsByClassName(b)},za=[],x=[":focus"],(O.qsa=c(d.querySelectorAll))&&(g(function(b){b.innerHTML="<select><option selected=''></option></select>";b.querySelectorAll("[selected]").length||x.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
b.querySelectorAll(":checked").length||x.push(":checked")}),g(function(b){b.innerHTML="<input type='hidden' i=''/>";b.querySelectorAll("[i^='']").length&&x.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");b.querySelectorAll(":enabled").length||x.push(":enabled",":disabled");b.querySelectorAll("*,:x");x.push(",.*:")})),(O.matchesSelector=c(D=E.matchesSelector||E.mozMatchesSelector||E.webkitMatchesSelector||E.oMatchesSelector||E.msMatchesSelector))&&g(function(b){O.disconnectedMatch=D.call(b,"div");D.call(b,
"[s!='']:x");za.push("!=",Ua)}),x=RegExp(x.join("|")),za=RegExp(za.join("|")),fa=c(E.contains)||E.compareDocumentPosition?function(b,a){var d=9===b.nodeType?b.documentElement:b,h=a&&a.parentNode;return b===h||!(!h||1!==h.nodeType||!(d.contains?d.contains(h):b.compareDocumentPosition&&16&b.compareDocumentPosition(h)))}:function(b,a){if(a)for(;a=a.parentNode;)if(a===b)return!0;return!1},Ta=E.compareDocumentPosition?function(b,a){var h;return b===a?(qa=!0,0):(h=a.compareDocumentPosition&&b.compareDocumentPosition&&
b.compareDocumentPosition(a))?1&h||b.parentNode&&11===b.parentNode.nodeType?b===d||fa(H,b)?-1:a===d||fa(H,a)?1:0:4&h?-1:1:b.compareDocumentPosition?-1:1}:function(b,a){var h,c=0;h=b.parentNode;var e=a.parentNode,f=[b],p=[a];if(b===a)return qa=!0,0;if(!h||!e)return b===d?-1:a===d?1:h?-1:e?1:0;if(h===e)return q(b,a);for(h=b;h=h.parentNode;)f.unshift(h);for(h=a;h=h.parentNode;)p.unshift(h);for(;f[c]===p[c];)c++;return c?q(f[c],p[c]):f[c]===H?-1:p[c]===H?1:0},qa=!1,[0,0].sort(Ta),O.detectDuplicates=qa,
J):J};n.matches=function(b,a){return n(b,null,null,a)};n.matchesSelector=function(b,a){if((b.ownerDocument||b)!==J&&V(b),a=a.replace(na,"='$1']"),!(!O.matchesSelector||y||za&&za.test(a)||x.test(a)))try{var d=D.call(b,a);if(d||O.disconnectedMatch||b.document&&11!==b.document.nodeType)return d}catch(h){}return 0<n(a,J,null,[b]).length};n.contains=function(b,a){return(b.ownerDocument||b)!==J&&V(b),fa(b,a)};n.attr=function(b,a){var d;return(b.ownerDocument||b)!==J&&V(b),y||(a=a.toLowerCase()),(d=t.attrHandle[a])?
d(b):y||O.attributes?b.getAttribute(a):((d=b.getAttributeNode(a))||b.getAttribute(a))&&!0===b[a]?a:d&&d.specified?d.value:null};n.error=function(b){throw Error("Syntax error, unrecognized expression: "+b);};n.uniqueSort=function(b){var a,d=[],h=1,c=0;if(qa=!O.detectDuplicates,b.sort(Ta),qa){for(;a=b[h];h++)a===b[h-1]&&(c=d.push(h));for(;c--;)b.splice(d[c],1)}return b};C=n.getText=function(b){var a,d="",h=0;if(a=b.nodeType)if(1===a||9===a||11===a){if("string"==typeof b.textContent)return b.textContent;
for(b=b.firstChild;b;b=b.nextSibling)d+=C(b)}else{if(3===a||4===a)return b.nodeValue}else for(;a=b[h];h++)d+=C(a);return d};t=n.selectors={cacheLength:50,createPseudo:f,match:ba,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(b){return b[1]=b[1].replace(Y,aa),b[3]=(b[4]||b[5]||"").replace(Y,aa),"~="===b[2]&&(b[3]=" "+b[3]+" "),b.slice(0,4)},CHILD:function(b){return b[1]=b[1].toLowerCase(),
"nth"===b[1].slice(0,3)?(b[3]||n.error(b[0]),b[4]=+(b[4]?b[5]+(b[6]||1):2*("even"===b[3]||"odd"===b[3])),b[5]=+(b[7]+b[8]||"odd"===b[3])):b[3]&&n.error(b[0]),b},PSEUDO:function(b){var a,d=!b[5]&&b[2];return ba.CHILD.test(b[0])?null:(b[4]?b[2]=b[4]:d&&ab.test(d)&&(a=m(d,!0))&&(a=d.indexOf(")",d.length-a)-d.length)&&(b[0]=b[0].slice(0,a),b[2]=d.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){return"*"===b?function(){return!0}:(b=b.replace(Y,aa).toLowerCase(),function(a){return a.nodeName&&a.nodeName.toLowerCase()===
b})},CLASS:function(b){var a=T[b+" "];return a||(a=RegExp("(^|[\\x20\\t\\r\\n\\f])"+b+"([\\x20\\t\\r\\n\\f]|$)"))&&T(b,function(b){return a.test(b.className||typeof b.getAttribute!==F&&b.getAttribute("class")||"")})},ATTR:function(b,a,d){return function(h){h=n.attr(h,b);return null==h?"!="===a:a?(h+="","="===a?h===d:"!="===a?h!==d:"^="===a?d&&0===h.indexOf(d):"*="===a?d&&-1<h.indexOf(d):"$="===a?d&&h.slice(-d.length)===d:"~="===a?-1<(" "+h+" ").indexOf(d):"|="===a?h===d||h.slice(0,d.length+1)===d+
"-":!1):!0}},CHILD:function(b,a,d,h,c){var e="nth"!==b.slice(0,3),f="last"!==b.slice(-4),p="of-type"===a;return 1===h&&0===c?function(b){return!!b.parentNode}:function(a,d,g){var n,w,q,l,S;d=e!==f?"nextSibling":"previousSibling";var k=a.parentNode,I=p&&a.nodeName.toLowerCase();g=!g&&!p;if(k){if(e){for(;d;){for(w=a;w=w[d];)if(p?w.nodeName.toLowerCase()===I:1===w.nodeType)return!1;S=d="only"===b&&!S&&"nextSibling"}return!0}if(S=[f?k.firstChild:k.lastChild],f&&g)for(g=k[N]||(k[N]={}),n=g[b]||[],l=n[0]===
X&&n[1],q=n[0]===X&&n[2],w=l&&k.childNodes[l];w=++l&&w&&w[d]||(q=l=0)||S.pop();){if(1===w.nodeType&&++q&&w===a){g[b]=[X,l,q];break}}else if(g&&(n=(a[N]||(a[N]={}))[b])&&n[0]===X)q=n[1];else for(;(w=++l&&w&&w[d]||(q=l=0)||S.pop())&&((p?w.nodeName.toLowerCase()!==I:1!==w.nodeType)||!++q||(g&&((w[N]||(w[N]={}))[b]=[X,q]),w!==a)););return q-=c,q===h||0===q%h&&0<=q/h}}},PSEUDO:function(b,a){var d,h=t.pseudos[b]||t.setFilters[b.toLowerCase()]||n.error("unsupported pseudo: "+b);return h[N]?h(a):1<h.length?
(d=[b,b,"",a],t.setFilters.hasOwnProperty(b.toLowerCase())?f(function(b,d){for(var c,e=h(b,a),f=e.length;f--;)c=Q.call(b,e[f]),b[c]=!(d[c]=e[f])}):function(b){return h(b,0,d)}):h}},pseudos:{not:f(function(b){var a=[],d=[],h=B(b.replace(U,"$1"));return h[N]?f(function(b,a,d,c){var e;d=h(b,null,c,[]);for(c=b.length;c--;)(e=d[c])&&(b[c]=!(a[c]=e))}):function(b,c,e){return a[0]=b,h(a,null,e,d),!d.pop()}}),has:f(function(b){return function(a){return 0<n(b,a).length}}),contains:f(function(b){return function(a){return-1<
(a.textContent||a.innerText||C(a)).indexOf(b)}}),lang:f(function(b){return da.test(b||"")||n.error("unsupported lang: "+b),b=b.replace(Y,aa).toLowerCase(),function(a){var d;do if(d=y?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return d=d.toLowerCase(),d===b||0===d.indexOf(b+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var d=b.location&&b.location.hash;return d&&d.slice(1)===a.id},root:function(b){return b===E},focus:function(b){return b===J.activeElement&&
(!J.hasFocus||J.hasFocus())&&!!(b.type||b.href||~b.tabIndex)},enabled:function(b){return!1===b.disabled},disabled:function(b){return!0===b.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(b){return b.parentNode&&b.parentNode.selectedIndex,!0===b.selected},empty:function(b){for(b=b.firstChild;b;b=b.nextSibling)if("@"<b.nodeName||3===b.nodeType||4===b.nodeType)return!1;return!0},parent:function(b){return!t.pseudos.empty(b)},
header:function(b){return ka.test(b.nodeName)},input:function(b){return ia.test(b.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||a.toLowerCase()===b.type)},first:u(function(){return[0]}),last:u(function(b,a){return[a-1]}),eq:u(function(b,a,d){return[0>d?d+a:d]}),even:u(function(b,a){for(var d=0;a>d;d+=2)b.push(d);return b}),
odd:u(function(b,a){for(var d=1;a>d;d+=2)b.push(d);return b}),lt:u(function(b,a,d){for(a=0>d?d+a:d;0<=--a;)b.push(a);return b}),gt:u(function(b,a,d){for(d=0>d?d+a:d;a>++d;)b.push(d);return b})}};for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})t.pseudos[z]=l(z);for(z in{submit:!0,reset:!0})t.pseudos[z]=k(z);B=n.compile=function(b,a){var d,h=[],c=[],e=M[b+" "];if(!e){a||(a=m(b));for(d=a.length;d--;)e=P(a[d]),e[N]?h.push(e):c.push(e);e=M(b,ra(c,h))}return e};t.pseudos.nth=t.pseudos.eq;t.filters=
ea.prototype=t.pseudos;t.setFilters=new ea;V();n.attr=d.attr;d.find=n;d.expr=n.selectors;d.expr[":"]=d.expr.pseudos;d.unique=n.uniqueSort;d.text=n.getText;d.isXMLDoc=n.isXML;d.contains=n.contains})(a);var Rb=/Until$/,Sb=/^(?:parents|prev(?:Until|All))/,Ib=/^.[^:#\[\.,]*$/,tb=d.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};d.fn.extend({find:function(b){var a,c,e,f=this.length;if("string"!=typeof b)return e=this,this.pushStack(d(b).filter(function(){for(a=0;f>a;a++)if(d.contains(e[a],
this))return!0}));c=[];for(a=0;f>a;a++)d.find(b,this[a],c);return c=this.pushStack(1<f?d.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+b,c},has:function(b){var a,c=d(b,this),e=c.length;return this.filter(function(){for(a=0;e>a;a++)if(d.contains(this,c[a]))return!0})},not:function(b){return this.pushStack(D(this,b,!1))},filter:function(b){return this.pushStack(D(this,b,!0))},is:function(b){return!!b&&("string"==typeof b?tb.test(b)?0<=d(b,this.context).index(this[0]):0<d.filter(b,this).length:
0<this.filter(b).length)},closest:function(b,a){for(var c,e=0,f=this.length,g=[],n=tb.test(b)||"string"!=typeof b?d(b,a||this.context):0;f>e;e++)for(c=this[e];c&&c.ownerDocument&&c!==a&&11!==c.nodeType;){if(n?-1<n.index(c):d.find.matchesSelector(c,b)){g.push(c);break}c=c.parentNode}return this.pushStack(1<g.length?d.unique(g):g)},index:function(b){return b?"string"==typeof b?d.inArray(this[0],d(b)):d.inArray(b.jquery?b[0]:b,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(b,
a){var c="string"==typeof b?d(b,a):d.makeArray(b&&b.nodeType?[b]:b),c=d.merge(this.get(),c);return this.pushStack(d.unique(c))},addBack:function(b){return this.add(null==b?this.prevObject:this.prevObject.filter(b))}});d.fn.andSelf=d.fn.addBack;d.each({parent:function(b){return(b=b.parentNode)&&11!==b.nodeType?b:null},parents:function(b){return d.dir(b,"parentNode")},parentsUntil:function(b,a,c){return d.dir(b,"parentNode",c)},next:function(b){return H(b,"nextSibling")},prev:function(b){return H(b,
"previousSibling")},nextAll:function(b){return d.dir(b,"nextSibling")},prevAll:function(b){return d.dir(b,"previousSibling")},nextUntil:function(b,a,c){return d.dir(b,"nextSibling",c)},prevUntil:function(b,a,c){return d.dir(b,"previousSibling",c)},siblings:function(b){return d.sibling((b.parentNode||{}).firstChild,b)},children:function(b){return d.sibling(b.firstChild)},contents:function(b){return d.nodeName(b,"iframe")?b.contentDocument||b.contentWindow.document:d.merge([],b.childNodes)}},function(b,
a){d.fn[b]=function(c,e){var f=d.map(this,a,c);return Rb.test(b)||(e=c),e&&"string"==typeof e&&(f=d.filter(e,f)),f=1<this.length&&!Tb[b]?d.unique(f):f,1<this.length&&Sb.test(b)&&(f=f.reverse()),this.pushStack(f)}});d.extend({filter:function(b,a,c){return c&&(b=":not("+b+")"),1===a.length?d.find.matchesSelector(a[0],b)?[a[0]]:[]:d.find.matches(b,a)},dir:function(b,a,c){var e=[];for(b=b[a];b&&9!==b.nodeType&&(c===f||1!==b.nodeType||!d(b).is(c));)1===b.nodeType&&e.push(b),b=b[a];return e},sibling:function(b,
a){for(var d=[];b;b=b.nextSibling)1===b.nodeType&&b!==a&&d.push(b);return d}});var nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ub=/ jQuery\d+="(?:null|\d+)"/g,ub=RegExp("<(?:"+nb+")[\\s/>]","i"),gb=/^\s+/,vb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wb=/<([\w:]+)/,xb=/<tbody/i,Vb=/<|&#?\w+;/,Wb=/<(?:script|style|link)/i,bb=/^(?:checkbox|radio)$/i,Xb=/checked\s*(?:[^=]|=\s*.checked.)/i,
yb=/^$|\/(?:java|ecma)script/i,Jb=/^true\/(.*)/,Yb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ka={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:d.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},
hb=T(x).appendChild(x.createElement("div"));ka.optgroup=ka.option;ka.tbody=ka.tfoot=ka.colgroup=ka.caption=ka.thead;ka.th=ka.td;d.fn.extend({text:function(b){return d.access(this,function(b){return b===f?d.text(this):this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(b))},null,b,arguments.length)},wrapAll:function(b){if(d.isFunction(b))return this.each(function(a){d(this).wrapAll(b.call(this,a))});if(this[0]){var a=d(b,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&
a.insertBefore(this[0]);a.map(function(){for(var b=this;b.firstChild&&1===b.firstChild.nodeType;)b=b.firstChild;return b}).append(this)}return this},wrapInner:function(b){return d.isFunction(b)?this.each(function(a){d(this).wrapInner(b.call(this,a))}):this.each(function(){var a=d(this),c=a.contents();c.length?c.wrapAll(b):a.append(b)})},wrap:function(b){var a=d.isFunction(b);return this.each(function(c){d(this).wrapAll(a?b.call(this,c):b)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,
"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(b)})},prepend:function(){return this.domManip(arguments,!0,function(b){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(b,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this)})},after:function(){return this.domManip(arguments,
!1,function(b){this.parentNode&&this.parentNode.insertBefore(b,this.nextSibling)})},remove:function(b,a){for(var c,e=0;null!=(c=this[e]);e++)(!b||0<d.filter(b,[c]).length)&&(a||1!==c.nodeType||d.cleanData(E(c)),c.parentNode&&(a&&d.contains(c.ownerDocument,c)&&R(E(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++){for(1===b.nodeType&&d.cleanData(E(b,!1));b.firstChild;)b.removeChild(b.firstChild);b.options&&d.nodeName(b,"select")&&(b.options.length=
0)}return this},clone:function(b,a){return b=null==b?!1:b,a=null==a?b:a,this.map(function(){return d.clone(this,b,a)})},html:function(b){return d.access(this,function(b){var a=this[0]||{},c=0,e=this.length;if(b===f)return 1===a.nodeType?a.innerHTML.replace(Ub,""):f;if(!("string"!=typeof b||Wb.test(b)||!d.support.htmlSerialize&&ub.test(b)||!d.support.leadingWhitespace&&gb.test(b)||ka[(wb.exec(b)||["",""])[1].toLowerCase()])){b=b.replace(vb,"<$1></$2>");try{for(;e>c;c++)a=this[c]||{},1===a.nodeType&&
(d.cleanData(E(a,!1)),a.innerHTML=b);a=0}catch(g){}}a&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(b){return d.isFunction(b)||"string"==typeof b||(b=d(b).not(this).detach()),this.domManip([b],!0,function(b){var a=this.nextSibling,c=this.parentNode;c&&(d(this).remove(),c.insertBefore(b,a))})},detach:function(b){return this.remove(b,!0)},domManip:function(b,a,c){b=Z.apply([],b);var e,g,w,n,q=0,l=this.length,k=this,m=l-1,v=b[0],r=d.isFunction(v);if(r||!(1>=l||"string"!=typeof v||
d.support.checkClone)&&Xb.test(v))return this.each(function(d){var e=k.eq(d);r&&(b[0]=v.call(this,d,a?e.html():f));e.domManip(b,a,c)});if(l&&(n=d.buildFragment(b,this[0].ownerDocument,!1,this),e=n.firstChild,1===n.childNodes.length&&(n=e),e)){a=a&&d.nodeName(e,"tr");w=d.map(E(n,"script"),u);for(g=w.length;l>q;q++)e=n,q!==m&&(e=d.clone(e,!0,!0),g&&d.merge(w,E(e,"script"))),c.call(a&&d.nodeName(this[q],"table")?B(this[q],"tbody"):this[q],e,q);if(g)for(n=w[w.length-1].ownerDocument,d.map(w,G),q=0;g>
q;q++)e=w[q],yb.test(e.type||"")&&!d._data(e,"globalEval")&&d.contains(n,e)&&(e.src?d.ajax({url:e.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):d.globalEval((e.text||e.textContent||e.innerHTML||"").replace(Yb,"")));n=e=null}return this}});d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(b,a){d.fn[b]=function(b){for(var c=0,e=[],f=d(b),g=f.length-1;g>=c;c++)b=c===g?this:this.clone(!0),d(f[c])[a](b),ua.apply(e,
b.get());return this.pushStack(e)}});d.extend({clone:function(b,a,c){var e,f,g,n,q,l=d.contains(b.ownerDocument,b);if(d.support.html5Clone||d.isXMLDoc(b)||!ub.test("<"+b.nodeName+">")?g=b.cloneNode(!0):(hb.innerHTML=b.outerHTML,hb.removeChild(g=hb.firstChild)),!(d.support.noCloneEvent&&d.support.noCloneChecked||1!==b.nodeType&&11!==b.nodeType||d.isXMLDoc(b)))for(e=E(g),q=E(b),n=0;null!=(f=q[n]);++n)if(e[n]){var k=e[n],m=void 0,v=void 0,r=void 0;if(1===k.nodeType){if(m=k.nodeName.toLowerCase(),!d.support.noCloneEvent&&
k[d.expando]){r=d._data(k);for(v in r.events)d.removeEvent(k,v,r.handle);k.removeAttribute(d.expando)}"script"===m&&k.text!==f.text?(u(k).text=f.text,G(k)):"object"===m?(k.parentNode&&(k.outerHTML=f.outerHTML),d.support.html5Clone&&f.innerHTML&&!d.trim(k.innerHTML)&&(k.innerHTML=f.innerHTML)):"input"===m&&bb.test(f.type)?(k.defaultChecked=k.checked=f.checked,k.value!==f.value&&(k.value=f.value)):"option"===m?k.defaultSelected=k.selected=f.defaultSelected:("input"===m||"textarea"===m)&&(k.defaultValue=
f.defaultValue)}}if(a)if(c)for(q=q||E(b),e=e||E(g),n=0;null!=(f=q[n]);n++)A(f,e[n]);else A(b,g);return e=E(g,"script"),0<e.length&&R(e,!l&&E(b,"script")),g},buildFragment:function(b,a,c,e){for(var f,g,n,q,l,k,u,m=b.length,v=T(a),r=[],t=0;m>t;t++)if(g=b[t],g||0===g)if("object"===d.type(g))d.merge(r,g.nodeType?[g]:g);else if(Vb.test(g)){q=q||v.appendChild(a.createElement("div"));l=(wb.exec(g)||["",""])[1].toLowerCase();u=ka[l]||ka._default;q.innerHTML=u[1]+g.replace(vb,"<$1></$2>")+u[2];for(f=u[0];f--;)q=
q.lastChild;if(!d.support.leadingWhitespace&&gb.test(g)&&r.push(a.createTextNode(gb.exec(g)[0])),!d.support.tbody)for(f=(g="table"!==l||xb.test(g)?"<table>"!==u[1]||xb.test(g)?0:q:q.firstChild)&&g.childNodes.length;f--;)d.nodeName(k=g.childNodes[f],"tbody")&&!k.childNodes.length&&g.removeChild(k);d.merge(r,q.childNodes);for(q.textContent="";q.firstChild;)q.removeChild(q.firstChild);q=v.lastChild}else r.push(a.createTextNode(g));q&&v.removeChild(q);d.support.appendChecked||d.grep(E(r,"input"),N);for(t=
0;g=r[t++];)if((!e||-1===d.inArray(g,e))&&(n=d.contains(g.ownerDocument,g),q=E(v.appendChild(g),"script"),n&&R(q),c))for(f=0;g=q[f++];)yb.test(g.type||"")&&c.push(g);return v},cleanData:function(b,a){for(var c,e,f,g,n=0,q=d.expando,l=d.cache,k=d.support.deleteExpando,u=d.event.special;null!=(c=b[n]);n++)if((a||d.acceptData(c))&&(f=c[q],g=f&&l[f])){if(g.events)for(e in g.events)u[e]?d.event.remove(c,e):d.removeEvent(c,e,g.handle);l[f]&&(delete l[f],k?delete c[q]:typeof c.removeAttribute!==ca?c.removeAttribute(q):
c[q]=null,Q.push(f))}}});var Qa,Da,Ea,ib=/alpha\([^)]*\)/i,Zb=/opacity\s*=\s*([^)]*)/,$b=/^(top|right|bottom|left)$/,ac=/^(none|table(?!-c[ea]).+)/,zb=/^margin/,Kb=RegExp("^("+da+")(.*)$","i"),Xa=RegExp("^("+da+")(?!px)[a-z%]+$","i"),bc=RegExp("^([+-])=("+da+")","i"),pb={BODY:"block"},cc={position:"absolute",visibility:"hidden",display:"block"},Ab={letterSpacing:0,fontWeight:400},Ca=["Top","Right","Bottom","Left"],ob=["Webkit","O","Moz","ms"];d.fn.extend({css:function(b,a){return d.access(this,function(b,
a,c){var h,e={},g=0;if(d.isArray(a)){h=Da(b);for(c=a.length;c>g;g++)e[a[g]]=d.css(b,a[g],!1,h);return e}return c!==f?d.style(b,a,c):d.css(b,a)},b,a,1<arguments.length)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(b){var a="boolean"==typeof b;return this.each(function(){(a?b:la(this))?d(this).show():d(this).hide()})}});d.extend({cssHooks:{opacity:{get:function(b,a){if(a){var d=Ea(b,"opacity");return""===d?"1":d}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,
lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(b,a,c,e){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var g,l,n,q=d.camelCase(a),k=b.style;if(a=d.cssProps[q]||(d.cssProps[q]=X(k,q)),n=d.cssHooks[a]||d.cssHooks[q],c===f)return n&&"get"in n&&(g=n.get(b,!1,e))!==f?g:k[a];if(l=typeof c,"string"===l&&(g=bc.exec(c))&&(c=(g[1]+1)*g[2]+parseFloat(d.css(b,a)),l="number"),!(null==c||"number"===l&&isNaN(c)||("number"!==
l||d.cssNumber[q]||(c+="px"),d.support.clearCloneStyle||""!==c||0!==a.indexOf("background")||(k[a]="inherit"),n&&"set"in n&&(c=n.set(b,c,e))===f)))try{k[a]=c}catch(u){}}},css:function(b,a,c,e){var g,l,n,q=d.camelCase(a);return a=d.cssProps[q]||(d.cssProps[q]=X(b.style,q)),n=d.cssHooks[a]||d.cssHooks[q],n&&"get"in n&&(l=n.get(b,!0,c)),l===f&&(l=Ea(b,a,e)),"normal"===l&&a in Ab&&(l=Ab[a]),""===c||c?(g=parseFloat(l),!0===c||d.isNumeric(g)?g||0:l):l},swap:function(b,a,d,c){var e,f={};for(e in a)f[e]=
b.style[e],b.style[e]=a[e];d=d.apply(b,c||[]);for(e in a)b.style[e]=f[e];return d}});a.getComputedStyle?(Da=function(b){return a.getComputedStyle(b,null)},Ea=function(b,a,c){var e,g,l,n=(c=c||Da(b))?c.getPropertyValue(a)||c[a]:f,q=b.style;return c&&(""!==n||d.contains(b.ownerDocument,b)||(n=d.style(b,a)),Xa.test(n)&&zb.test(a)&&(e=q.width,g=q.minWidth,l=q.maxWidth,q.minWidth=q.maxWidth=q.width=n,n=c.width,q.width=e,q.minWidth=g,q.maxWidth=l)),n}):x.documentElement.currentStyle&&(Da=function(b){return b.currentStyle},
Ea=function(b,a,d){var c,e,g;d=(d=d||Da(b))?d[a]:f;var n=b.style;return null==d&&n&&n[a]&&(d=n[a]),Xa.test(d)&&!$b.test(a)&&(c=n.left,e=b.runtimeStyle,g=e&&e.left,g&&(e.left=b.currentStyle.left),n.left="fontSize"===a?"1em":d,d=n.pixelLeft+"px",n.left=c,g&&(e.left=g)),""===d?"auto":d});d.each(["height","width"],function(b,a){d.cssHooks[a]={get:function(b,c,e){return c?0===b.offsetWidth&&ac.test(d.css(b,"display"))?d.swap(b,cc,function(){return O(b,a,e)}):O(b,a,e):f},set:function(b,c,e){var f=e&&Da(b);
return J(b,c,e?l(b,a,e,d.support.boxSizing&&"border-box"===d.css(b,"boxSizing",!1,f),f):0)}}});d.support.opacity||(d.cssHooks.opacity={get:function(b,a){return Zb.test((a&&b.currentStyle?b.currentStyle.filter:b.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(b,a){var c=b.style,e=b.currentStyle,f=d.isNumeric(a)?"alpha(opacity="+100*a+")":"",g=e&&e.filter||c.filter||"";c.zoom=1;(1<=a||""===a)&&""===d.trim(g.replace(ib,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===
a||e&&!e.filter)||(c.filter=ib.test(g)?g.replace(ib,f):g+" "+f)}});d(function(){d.support.reliableMarginRight||(d.cssHooks.marginRight={get:function(b,a){return a?d.swap(b,{display:"inline-block"},Ea,[b,"marginRight"]):f}});!d.support.pixelPosition&&d.fn.position&&d.each(["top","left"],function(b,a){d.cssHooks[a]={get:function(b,c){return c?(c=Ea(b,a),Xa.test(c)?d(b).position()[a]+"px":c):f}}})});d.expr&&d.expr.filters&&(d.expr.filters.hidden=function(b){return 0>=b.offsetWidth&&0>=b.offsetHeight||
!d.support.reliableHiddenOffsets&&"none"===(b.style&&b.style.display||d.css(b,"display"))},d.expr.filters.visible=function(b){return!d.expr.filters.hidden(b)});d.each({margin:"",padding:"",border:"Width"},function(b,a){d.cssHooks[b+a]={expand:function(d){var c=0,e={};for(d="string"==typeof d?d.split(" "):[d];4>c;c++)e[b+Ca[c]+a]=d[c]||d[c-2]||d[0];return e}};zb.test(b)||(d.cssHooks[b+a].set=J)});var dc=/%20/g,Lb=/\[\]$/,Bb=/\r?\n/g,ec=/^(?:submit|button|image|reset|file)$/i,fc=/^(?:input|select|textarea|keygen)/i;
d.fn.extend({serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var b=d.prop(this,"elements");return b?d.makeArray(b):this}).filter(function(){var b=this.type;return this.name&&!d(this).is(":disabled")&&fc.test(this.nodeName)&&!ec.test(b)&&(this.checked||!bb.test(b))}).map(function(b,a){var c=d(this).val();return null==c?null:d.isArray(c)?d.map(c,function(b){return{name:a.name,value:b.replace(Bb,"\r\n")}}):{name:a.name,value:c.replace(Bb,
"\r\n")}}).get()}});d.param=function(b,a){var c,e=[],g=function(b,a){a=d.isFunction(a)?a():null==a?"":a;e[e.length]=encodeURIComponent(b)+"="+encodeURIComponent(a)};if(a===f&&(a=d.ajaxSettings&&d.ajaxSettings.traditional),d.isArray(b)||b.jquery&&!d.isPlainObject(b))d.each(b,function(){g(this.name,this.value)});else for(c in b)Ma(c,b[c],a,g);return e.join("&").replace(dc,"+")};d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(b,a){d.fn[a]=function(b,d){return 0<arguments.length?this.on(a,null,b,d):this.trigger(a)}});d.fn.hover=function(b,a){return this.mouseenter(b).mouseleave(a||b)};var La,Ba,jb=d.now(),kb=/\?/,gc=/#.*$/,Cb=/([?&])_=[^&]*/,hc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,ic=/^(?:GET|HEAD)$/,jc=/^\/\//,Db=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Eb=d.fn.load,Fb={},cb={},Gb="*/".concat("*");try{Ba=Ha.href}catch(oc){Ba=x.createElement("a"),Ba.href="",Ba=Ba.href}La=Db.exec(Ba.toLowerCase())||[];d.fn.load=
function(b,a,c){if("string"!=typeof b&&Eb)return Eb.apply(this,arguments);var e,g,l,n=this,q=b.indexOf(" ");return 0<=q&&(e=b.slice(q,b.length),b=b.slice(0,q)),d.isFunction(a)?(c=a,a=f):a&&"object"==typeof a&&(l="POST"),0<n.length&&d.ajax({url:b,type:l,dataType:"html",data:a}).done(function(b){g=arguments;n.html(e?d("<div>").append(d.parseHTML(b)).find(e):b)}).complete(c&&function(b,a){n.each(c,g||[b.responseText,a,b])}),this};d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),
function(b,a){d.fn[a]=function(b){return this.on(a,b)}});d.each(["get","post"],function(b,a){d[a]=function(b,c,e,g){return d.isFunction(c)&&(g=g||e,e=c,c=f),d.ajax({url:b,type:a,dataType:g,data:c,success:e})}});d.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ba,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(La[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gb,text:"text/plain",html:"text/html",
xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(b,a){return a?Ga(Ga(b,d.ajaxSettings),a):Ga(d.ajaxSettings,b)},ajaxPrefilter:U(Fb),ajaxTransport:U(cb),ajax:function(b,a){function c(b,a,e,h){var g,p,m,S,I,P=a;if(2!==ea){ea=2;q&&clearTimeout(q);
u=f;n=h||"";A.readyState=0<b?4:0;if(e){S=v;h=A;var z,ra,C,J,E=S.contents,ja=S.dataTypes,qa=S.responseFields;for(J in qa)J in e&&(h[qa[J]]=e[J]);for(;"*"===ja[0];)ja.shift(),ra===f&&(ra=S.mimeType||h.getResponseHeader("Content-Type"));if(ra)for(J in E)if(E[J]&&E[J].test(ra)){ja.unshift(J);break}if(ja[0]in e)C=ja[0];else{for(J in e){if(!ja[0]||S.converters[J+" "+ja[0]]){C=J;break}z||(z=J)}C=C||z}S=C?(C!==ja[0]&&ja.unshift(C),e[C]):f}if(200<=b&&300>b||304===b)if(v.ifModified&&(I=A.getResponseHeader("Last-Modified"),
I&&(d.lastModified[l]=I),I=A.getResponseHeader("etag"),I&&(d.etag[l]=I)),204===b)g=!0,P="nocontent";else if(304===b)g=!0,P="notmodified";else{var y;a:{e=v;g=S;var V,B;m={};I=0;P=e.dataTypes.slice();z=P[0];if(e.dataFilter&&(g=e.dataFilter(g,e.dataType)),P[1])for(V in e.converters)m[V.toLowerCase()]=e.converters[V];for(;p=P[++I];)if("*"!==p){if("*"!==z&&z!==p){if(V=m[z+" "+p]||m["* "+p],!V)for(y in m)if(B=y.split(" "),B[1]===p&&(V=m[z+" "+B[0]]||m["* "+B[0]])){!0===V?V=m[y]:!0!==m[y]&&(p=B[0],P.splice(I--,
0,p));break}if(!0!==V)if(V&&e["throws"])g=V(g);else try{g=V(g)}catch(va){y={state:"parsererror",error:V?va:"No conversion from "+z+" to "+p};break a}}z=p}y={state:"success",data:g}}g=y;P=g.state;p=g.data;m=g.error;g=!m}else m=P,(b||!P)&&(P="error",0>b&&(b=0));A.status=b;A.statusText=(a||P)+"";g?R.resolveWith(r,[p,P,A]):R.rejectWith(r,[A,P,m]);A.statusCode(G);G=f;k&&t.trigger(g?"ajaxSuccess":"ajaxError",[A,v,g?p:m]);oa.fireWith(r,[A,P]);k&&(t.trigger("ajaxComplete",[A,v]),--d.active||d.event.trigger("ajaxStop"))}}
"object"==typeof b&&(a=b,b=f);a=a||{};var e,g,l,n,q,k,u,m,v=d.ajaxSetup({},a),r=v.context||v,t=v.context&&(r.nodeType||r.jquery)?d(r):d.event,R=d.Deferred(),oa=d.Callbacks("once memory"),G=v.statusCode||{},P={},z={},ea=0,ra="canceled",A={readyState:0,getResponseHeader:function(b){var a;if(2===ea){if(!m)for(m={};a=hc.exec(n);)m[a[1].toLowerCase()]=a[2];a=m[b.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===ea?n:null},setRequestHeader:function(b,a){var d=b.toLowerCase();
return ea||(b=z[d]=z[d]||b,P[b]=a),this},overrideMimeType:function(b){return ea||(v.mimeType=b),this},statusCode:function(b){var a;if(b)if(2>ea)for(a in b)G[a]=[G[a],b[a]];else A.always(b[A.status]);return this},abort:function(b){b=b||ra;return u&&u.abort(b),c(0,b),this}};if(R.promise(A).complete=oa.add,A.success=A.done,A.error=A.fail,v.url=((b||v.url||Ba)+"").replace(gc,"").replace(jc,La[1]+"//"),v.type=a.method||a.type||v.method||v.type,v.dataTypes=d.trim(v.dataType||"*").toLowerCase().match(ba)||
[""],null==v.crossDomain&&(e=Db.exec(v.url.toLowerCase()),v.crossDomain=!(!e||e[1]===La[1]&&e[2]===La[2]&&(e[3]||("http:"===e[1]?80:443))==(La[3]||("http:"===La[1]?80:443)))),v.data&&v.processData&&"string"!=typeof v.data&&(v.data=d.param(v.data,v.traditional)),Ra(Fb,v,a,A),2===ea)return A;(k=v.global)&&0===d.active++&&d.event.trigger("ajaxStart");v.type=v.type.toUpperCase();v.hasContent=!ic.test(v.type);l=v.url;v.hasContent||(v.data&&(l=v.url+=(kb.test(l)?"&":"?")+v.data,delete v.data),!1===v.cache&&
(v.url=Cb.test(l)?l.replace(Cb,"$1_="+jb++):l+(kb.test(l)?"&":"?")+"_="+jb++));v.ifModified&&(d.lastModified[l]&&A.setRequestHeader("If-Modified-Since",d.lastModified[l]),d.etag[l]&&A.setRequestHeader("If-None-Match",d.etag[l]));(v.data&&v.hasContent&&!1!==v.contentType||a.contentType)&&A.setRequestHeader("Content-Type",v.contentType);A.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Gb+"; q=0.01":""):v.accepts["*"]);for(g in v.headers)A.setRequestHeader(g,
v.headers[g]);if(v.beforeSend&&(!1===v.beforeSend.call(r,A,v)||2===ea))return A.abort();ra="abort";for(g in{success:1,error:1,complete:1})A[g](v[g]);if(u=Ra(cb,v,a,A)){A.readyState=1;k&&t.trigger("ajaxSend",[A,v]);v.async&&0<v.timeout&&(q=setTimeout(function(){A.abort("timeout")},v.timeout));try{ea=1,u.send(P,c)}catch(C){if(!(2>ea))throw C;c(-1,C)}}else c(-1,"No Transport");return A},getScript:function(b,a){return d.get(b,f,a,"script")},getJSON:function(b,a,c){return d.get(b,a,c,"json")}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/(?:java|ecma)script/},converters:{"text script":function(b){return d.globalEval(b),b}}});d.ajaxPrefilter("script",function(b){b.cache===f&&(b.cache=!1);b.crossDomain&&(b.type="GET",b.global=!1)});d.ajaxTransport("script",function(b){if(b.crossDomain){var a,c=x.head||d("head")[0]||x.documentElement;return{send:function(d,e){a=x.createElement("script");a.async=!0;b.scriptCharset&&(a.charset=b.scriptCharset);a.src=b.url;a.onload=a.onreadystatechange=function(b,d){(d||!a.readyState||
/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,d||e(200,"success"))};c.insertBefore(a,c.firstChild)},abort:function(){a&&a.onload(f,!0)}}}});var Hb=[],lb=/(=)\?(?=&|$)|\?\?/;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var b=Hb.pop()||d.expando+"_"+jb++;return this[b]=!0,b}});d.ajaxPrefilter("json jsonp",function(b,c,e){var g,l,k,n=!1!==b.jsonp&&(lb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&
lb.test(b.data)&&"data");return n||"jsonp"===b.dataTypes[0]?(g=b.jsonpCallback=d.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,n?b[n]=b[n].replace(lb,"$1"+g):!1!==b.jsonp&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+g),b.converters["script json"]=function(){return k||d.error(g+" was not called"),k[0]},b.dataTypes[0]="json",l=a[g],a[g]=function(){k=arguments},e.always(function(){a[g]=l;b[g]&&(b.jsonpCallback=c.jsonpCallback,Hb.push(g));k&&d.isFunction(l)&&l(k[0]);k=l=f}),"script"):
f});var Pa,Va,kc=0,mb=a.ActiveXObject&&function(){for(var b in Pa)Pa[b](f,!0)};d.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&M()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:M;Va=d.ajaxSettings.xhr();d.support.cors=!!Va&&"withCredentials"in Va;(Va=d.support.ajax=!!Va)&&d.ajaxTransport(function(b){if(!b.crossDomain||d.support.cors){var c;return{send:function(e,g){var l,k,n=b.xhr();if(b.username?n.open(b.type,b.url,b.async,b.username,
b.password):n.open(b.type,b.url,b.async),b.xhrFields)for(k in b.xhrFields)n[k]=b.xhrFields[k];b.mimeType&&n.overrideMimeType&&n.overrideMimeType(b.mimeType);b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(k in e)n.setRequestHeader(k,e[k])}catch(q){}n.send(b.hasContent&&b.data||null);c=function(a,e){var p,k,q,u;try{if(c&&(e||4===n.readyState))if(c=f,l&&(n.onreadystatechange=d.noop,mb&&delete Pa[l]),e)4!==n.readyState&&n.abort();else{u={};p=n.status;k=n.getAllResponseHeaders();
"string"==typeof n.responseText&&(u.text=n.responseText);try{q=n.statusText}catch(v){q=""}p||!b.isLocal||b.crossDomain?1223===p&&(p=204):p=u.text?200:404}}catch(m){e||g(-1,m)}u&&g(p,q,u,k)};b.async?4===n.readyState?setTimeout(c):(l=++kc,mb&&(Pa||(Pa={},d(a).unload(mb)),Pa[l]=c),n.onreadystatechange=c):c()},abort:function(){c&&c(f,!0)}}}});var Oa,$a,lc=/^(?:toggle|show|hide)$/,mc=RegExp("^(?:([+-])=|)("+da+")([a-z%]*)$","i"),nc=/queueHooks$/,Ya=[function(b,a,c){var e,f,g,l,k,u,v=this,m=b.style,r={},
t=[],A=b.nodeType&&la(b);c.queue||(k=d._queueHooks(b,"fx"),null==k.unqueued&&(k.unqueued=0,u=k.empty.fire,k.empty.fire=function(){k.unqueued||u()}),k.unqueued++,v.always(function(){v.always(function(){k.unqueued--;d.queue(b,"fx").length||k.empty.fire()})}));1===b.nodeType&&("height"in a||"width"in a)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],"inline"===d.css(b,"display")&&"none"===d.css(b,"float")&&(d.support.inlineBlockNeedsLayout&&"inline"!==fa(b.nodeName)?m.zoom=1:m.display="inline-block"));
c.overflow&&(m.overflow="hidden",d.support.shrinkWrapBlocks||v.always(function(){m.overflow=c.overflow[0];m.overflowX=c.overflow[1];m.overflowY=c.overflow[2]}));for(f in a)(g=a[f],lc.exec(g))&&(delete a[f],e=e||"toggle"===g,g!==(A?"hide":"show"))&&t.push(f);if(a=t.length)for(g=d._data(b,"fxshow")||d._data(b,"fxshow",{}),("hidden"in g)&&(A=g.hidden),e&&(g.hidden=!A),A?d(b).show():v.done(function(){d(b).hide()}),v.done(function(){var a;d._removeData(b,"fxshow");for(a in r)d.style(b,a,r[a])}),f=0;a>
f;f++)e=t[f],l=v.createTween(e,A?g[e]:0),r[e]=g[e]||d.style(b,e),e in g||(g[e]=l.start,A&&(l.end=l.start,l.start="width"===e||"height"===e?1:0))}],Sa={"*":[function(b,a){var c,e,f=this.createTween(b,a),g=mc.exec(a),l=f.cur(),k=+l||0,u=1,v=20;if(g){if(c=+g[2],e=g[3]||(d.cssNumber[b]?"":"px"),"px"!==e&&k){k=d.css(f.elem,b,!0)||c||1;do u=u||".5",k/=u,d.style(f.elem,b,k+e);while(u!==(u=f.cur()/l)&&1!==u&&--v)}f.unit=e;f.start=k;f.end=g[1]?k+(g[1]+1)*c:c}return f}]};d.Animation=d.extend(ma,{tweener:function(b,
a){d.isFunction(b)?(a=b,b=["*"]):b=b.split(" ");for(var c,e=0,f=b.length;f>e;e++)c=b[e],Sa[c]=Sa[c]||[],Sa[c].unshift(a)},prefilter:function(b,a){a?Ya.unshift(b):Ya.push(b)}});d.Tween=W;W.prototype={constructor:W,init:function(b,a,c,e,f,g){this.elem=b;this.prop=c;this.easing=f||"swing";this.options=a;this.start=this.now=this.cur();this.end=e;this.unit=g||(d.cssNumber[c]?"":"px")},cur:function(){var b=W.propHooks[this.prop];return b&&b.get?b.get(this):W.propHooks._default.get(this)},run:function(b){var a,
c=W.propHooks[this.prop];return this.pos=a=this.options.duration?d.easing[this.easing](b,this.options.duration*b,0,1,this.options.duration):b,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):W.propHooks._default.set(this),this}};W.prototype.init.prototype=W.prototype;W.propHooks={_default:{get:function(b){var a;return null==b.elem[b.prop]||b.elem.style&&null!=b.elem.style[b.prop]?(a=d.css(b.elem,b.prop,""),a&&"auto"!==
a?a:0):b.elem[b.prop]},set:function(b){d.fx.step[b.prop]?d.fx.step[b.prop](b):b.elem.style&&(null!=b.elem.style[d.cssProps[b.prop]]||d.cssHooks[b.prop])?d.style(b.elem,b.prop,b.now+b.unit):b.elem[b.prop]=b.now}}};W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(b){b.elem.nodeType&&b.elem.parentNode&&(b.elem[b.prop]=b.now)}};d.each(["toggle","show","hide"],function(b,a){var c=d.fn[a];d.fn[a]=function(b,d,e){return null==b||"boolean"==typeof b?c.apply(this,arguments):this.animate(na(a,!0),
b,d,e)}});d.fn.extend({fadeTo:function(b,a,d,c){return this.filter(la).css("opacity",0).show().end().animate({opacity:a},b,d,c)},animate:function(b,a,c,e){var f=d.isEmptyObject(b),g=d.speed(a,c,e),l=function(){var a=ma(this,d.extend({},b),g);l.finish=function(){a.stop(!0)};(f||d._data(this,"finish"))&&a.stop(!0)};return l.finish=l,f||!1===g.queue?this.each(l):this.queue(g.queue,l)},stop:function(b,a,c){var e=function(b){var a=b.stop;delete b.stop;a(c)};return"string"!=typeof b&&(c=a,a=b,b=f),a&&!1!==
b&&this.queue(b||"fx",[]),this.each(function(){var a=!0,h=null!=b&&b+"queueHooks",f=d.timers,g=d._data(this);if(h)g[h]&&g[h].stop&&e(g[h]);else for(h in g)g[h]&&g[h].stop&&nc.test(h)&&e(g[h]);for(h=f.length;h--;)f[h].elem!==this||null!=b&&f[h].queue!==b||(f[h].anim.stop(c),a=!1,f.splice(h,1));!a&&c||d.dequeue(this,b)})},finish:function(b){return!1!==b&&(b=b||"fx"),this.each(function(){var a,c=d._data(this),e=c[b+"queue"];a=c[b+"queueHooks"];var f=d.timers,g=e?e.length:0;c.finish=!0;d.queue(this,b,
[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=f.length;a--;)f[a].elem===this&&f[a].queue===b&&(f[a].anim.stop(!0),f.splice(a,1));for(a=0;g>a;a++)e[a]&&e[a].finish&&e[a].finish.call(this);delete c.finish})}});d.each({slideDown:na("show"),slideUp:na("hide"),slideToggle:na("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(b,a){d.fn[b]=function(b,d,c){return this.animate(a,b,d,c)}});d.speed=function(b,a,c){var e=b&&"object"==typeof b?d.extend({},
b):{complete:c||!c&&a||d.isFunction(b)&&b,duration:b,easing:c&&a||a&&!d.isFunction(a)&&a};return e.duration=d.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in d.fx.speeds?d.fx.speeds[e.duration]:d.fx.speeds._default,(null==e.queue||!0===e.queue)&&(e.queue="fx"),e.old=e.complete,e.complete=function(){d.isFunction(e.old)&&e.old.call(this);e.queue&&d.dequeue(this,e.queue)},e};d.easing={linear:function(b){return b},swing:function(b){return.5-Math.cos(b*Math.PI)/2}};d.timers=[];d.fx=W.prototype.init;
d.fx.tick=function(){var b,a=d.timers,c=0;for(Oa=d.now();a.length>c;c++)b=a[c],b()||a[c]!==b||a.splice(c--,1);a.length||d.fx.stop();Oa=f};d.fx.timer=function(b){b()&&d.timers.push(b)&&d.fx.start()};d.fx.interval=13;d.fx.start=function(){$a||($a=setInterval(d.fx.tick,d.fx.interval))};d.fx.stop=function(){clearInterval($a);$a=null};d.fx.speeds={slow:600,fast:200,_default:400};d.fx.step={};d.expr&&d.expr.filters&&(d.expr.filters.animated=function(b){return d.grep(d.timers,function(a){return b===a.elem}).length});
d.fn.offset=function(b){if(arguments.length)return b===f?this:this.each(function(a){d.offset.setOffset(this,b,a)});var a,c,e={top:0,left:0},g=this[0],l=g&&g.ownerDocument;if(l)return a=l.documentElement,d.contains(a,g)?(typeof g.getBoundingClientRect!==ca&&(e=g.getBoundingClientRect()),c=xa(l),{top:e.top+(c.pageYOffset||a.scrollTop)-(a.clientTop||0),left:e.left+(c.pageXOffset||a.scrollLeft)-(a.clientLeft||0)}):e};d.offset={setOffset:function(b,a,c){var e=d.css(b,"position");"static"===e&&(b.style.position=
"relative");var f=d(b),g=f.offset(),l=d.css(b,"top"),k=d.css(b,"left"),u={},v={},m,r;("absolute"===e||"fixed"===e)&&-1<d.inArray("auto",[l,k])?(v=f.position(),m=v.top,r=v.left):(m=parseFloat(l)||0,r=parseFloat(k)||0);d.isFunction(a)&&(a=a.call(b,c,g));null!=a.top&&(u.top=a.top-g.top+m);null!=a.left&&(u.left=a.left-g.left+r);"using"in a?a.using.call(b,u):f.css(u)}};d.fn.extend({position:function(){if(this[0]){var b,a,c={top:0,left:0},e=this[0];return"fixed"===d.css(e,"position")?a=e.getBoundingClientRect():
(b=this.offsetParent(),a=this.offset(),d.nodeName(b[0],"html")||(c=b.offset()),c.top+=d.css(b[0],"borderTopWidth",!0),c.left+=d.css(b[0],"borderLeftWidth",!0)),{top:a.top-c.top-d.css(e,"marginTop",!0),left:a.left-c.left-d.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var b=this.offsetParent||x.documentElement;b&&!d.nodeName(b,"html")&&"static"===d.css(b,"position");)b=b.offsetParent;return b||x.documentElement})}});d.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},
function(b,a){var c=/Y/.test(a);d.fn[b]=function(e){return d.access(this,function(b,e,g){var l=xa(b);return g===f?l?a in l?l[a]:l.document.documentElement[e]:b[e]:(l?l.scrollTo(c?d(l).scrollLeft():g,c?g:d(l).scrollTop()):b[e]=g,f)},b,e,arguments.length,null)}});d.each({Height:"height",Width:"width"},function(b,a){d.each({padding:"inner"+b,content:a,"":"outer"+b},function(c,e){d.fn[e]=function(e,g){var l=arguments.length&&(c||"boolean"!=typeof e),k=c||(!0===e||!0===g?"margin":"border");return d.access(this,
function(a,c,e){var h;return d.isWindow(a)?a.document.documentElement["client"+b]:9===a.nodeType?(h=a.documentElement,Math.max(a.body["scroll"+b],h["scroll"+b],a.body["offset"+b],h["offset"+b],h["client"+b])):e===f?d.css(a,c,k):d.style(a,c,e,k)},a,l?e:f,l,null)}})});a.jQuery=a.$=d;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function f(a){a=k.json?JSON.stringify(a):String(a);return k.raw?a:encodeURIComponent(a)}function c(c,f){var r;if(k.raw)r=c;else a:{var t=c;0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{t=decodeURIComponent(t.replace(e," "));r=k.json?JSON.parse(t):t;break a}catch(y){}r=void 0}return a.isFunction(f)?f(r):r}var e=/\+/g,k=
a.cookie=function(e,m,r){if(void 0!==m&&!a.isFunction(m)){r=a.extend({},k.defaults,r);if("number"===typeof r.expires){var t=r.expires,y=r.expires=new Date;y.setTime(+y+864E5*t)}return document.cookie=[k.raw?e:encodeURIComponent(e),"=",f(m),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=e?void 0:{};for(var t=document.cookie?document.cookie.split("; "):[],y=0,H=t.length;y<H;y++){var D=t[y].split("="),T;
T=D.shift();T=k.raw?T:decodeURIComponent(T);D=D.join("=");if(e&&e===T){r=c(D,m);break}e||void 0===(D=c(D))||(r[T]=D)}return r};k.defaults={};a.removeCookie=function(c,e){if(void 0===a.cookie(c))return!1;a.cookie(c,"",a.extend({},e,{expires:-1}));return!a.cookie(c)}});String.prototype.Format=function(a,f){var c;c=arguments[0]instanceof Array?arguments[0]:arguments;return this.replace(/(\{\d+\})/g,function(a){a=parseInt(a.substring(1,a.length-1));var f="";if(void 0!=c[a]||null!=c[a])f=c[a];return MPHtmlEncode(f.toString())})};
String.prototype.FormatNoEncode=function(a,f){var c;c=arguments[0]instanceof Array?arguments[0]:arguments;return this.replace(/(\{\d+\})/g,function(a){a=parseInt(a.substring(1,a.length-1));var f="";if(void 0!=c[a]||null!=c[a])f=c[a];return f.toString()})};MPData={};MPTemplate={};MPWidget={};MPFormat={};MPObject={};imageHost=host="";
var MPWaterFall={Item:{New:function(a){var f={};f.Element=$(a);var c,e,k=f.Element.outerHeight(),g;f.Height=function(){return k};f.X=function(){if(0==arguments.length)return c;var a=arguments[0];a!=c&&(f.Element.css("left",a+"px"),c=a)};f.Y=function(){if(0==arguments.length)return e;var a=arguments[0];a!=e&&(f.Element.css("top",a+"px"),e=a)};f.WID=function(){if(0==arguments.length)return g;var a=arguments[0];a!=g&&(f.Element.attr("wid",a),g=a)};return f}},New:function(a,f,c,e,k,g,m,r){function t(){for(var a=
E=0;a<u;a++)R[a]=0;for(var c=G.length,a=0;a<c;a++)y(G[a])}function y(a){var c=H(R);a.X((e+k+m)*c.index+k);a.Y(c.value+g);a=c.value+a.Height()+g+r;R[c.index]=a;a>E&&f.css("height",a);N=H(R).value}function H(a){if(0==a instanceof Array)throw TypeError("\u51fd\u6570\u53ea\u63a5\u53d7\u6570\u7ec4\u53c2\u6570");for(var c=a.length,e=a[0],f=0,g=1;g<c;g++)a[g]<e&&(e=a[g],f=g);return{index:f,value:e}}function D(a){f.append(a);a=MPWaterFall.Item.New(a);a.WID(A++);return a}function T(){for(var a=e+k+m,c=$(window).width(),
f=1;a*(f+1)<=c;)f++;return 4>f?4:6<f?6:f}var B={},u=1;B.ColumnCount=function(){if(0==arguments.length)return u;var a=arguments[0];if(a!=u){R=[];for(var c=0;c<a;c++)R[c]=0;u=a;t()}};var G=[],R=[],A=0,E=0,N=0,X=!1,la=!1;a.scroll(function(){if(1!=X&&1!=la){var c=a.get(0)==window,e=c?0:a.offset().top,g=f.offset().top,k=a.height(),u=a.scrollTop();if(u+(g-e+(c?0:u))+k>N&&null!=B.onBottom)B.onBottom()}});B.Push=function(a,c,e,f){var g=a.length;if(0==g)return B.Complete(),0;for(var k=0;k<g;k++){var u=D(c.New(a[k],
e));y(u);G.push(u)}return a[g-1][f]};B.Insert=function(a,c){var e=[];if(c instanceof Array)for(var f=c.length,g=0;g<f;g++)e.push(D(c[g]));else e.push(D(c));f=G.slice(0,a);g=G.slice(a);G=f.concat(e,g);t()};B.Delete=function(a){for(var c=G.length,e=0;e<c;e++){var f=G[e];if(f.WID()==a){G.splice(e,1);f.Element.remove();break}}};B.Clear=function(){f.empty();G=[]};B.ColumnCount(c);B.BeginUpdate=function(){X=!0};B.EndUpdate=function(){X=!1};B.Complete=function(){la=!0};B.onBottom=null;B.Resize=function(){var a=
T();$(".wrapper").css("width",a*(e+k+m));B.ColumnCount(a);$(window).on("resize",function(){var a=T();$(".wrapper").css("width",a*(e+k+m));B.ColumnCount(a)})};return B}};function MPCheckLogin(a){return 0==MPData.user.id?(!0===(null==a?!0:a)&&(MPLoginDialog.New().onSuccess=function(){location.reload()}),!1):!0}function MPCenter(a,f){var c=a.height(),e=a.width();a.css("margin-left",-Math.floor(e/2));a.css("margin-top",-Math.floor(c/2))}
function MPCheckEmail(a){return""==a?(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a!"),!1):a.match(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)?!0:(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e,\u8bf7\u91cd\u65b0\u8f93\u5165!"),!1)}function MPCheckPassword(a){return""==a?(MPMessageBox.New("alert","\u63d0\u793a","\u8bf7\u8f93\u5165\u5bc6\u7801"),!1):!0}
function MPHtmlEncode(a){var f=$("<div></div>");f.text(a);return f.html()}function MPLogOut(){$.post(host+"/ajax.aspx?act=logout",{},function(a){0==a.code&&($.removeCookie("login"),alert("logout success"))},"json")}
function MPMenu(a,f,c,e){var k=c?c:1E3,g=e?e:0,m,r;a=$(a);var t=$(f);a.mouseenter(function(a){clearTimeout(r);m=setTimeout(function(){t.show()},g)});a.mouseleave(function(){clearTimeout(m);r=setTimeout(function(){t.hide()},k)});t.mouseenter(function(){clearTimeout(r)});(function(a,c){a=a.get(0);for(c=c.get(0);void 0!=a&&null!=a&&"BODY"!=a.tagName.toUpperCase();){if(a==c)return!0;a=a.parentNode}return!1})(t,a)||t.mouseleave(function(){r=setTimeout(function(){t.hide()},k)})}
function MPPopUpMenu(a,f,c){a=$(a);var e=$(f);a.click(function(a){a.stopPropagation();e.show();var f;$(window).on("click",f=function(a){var k={};k.X=a.clientX;k.Y=a.clientY;MPCheckInEle(e,k)?e.show():(e.hide(),$(window).off("click",f));void 0==c&&null==c||c()})})}function MPCheckInEle(a,f){var c=$(window),e=f.X,k=f.Y,g=a.offset().left,m=a.offset().top,r=a.width(),t=a.height();return e>g-c.scrollLeft()&&e<g+r-c.scrollLeft()&&k>m-c.scrollTop()&&k<m+t-c.scrollTop()?!0:!1}
function MPGetQueryString(a){a=new RegExp("(^|&)"+a+"=([^&]*)(&|$)");a=window.location.search.substr(1).match(a);return null!=a?unescape(a[2]):null}
(function(a,f){function c(a,c,e){var f=y[c.type]||{};if((c.empty||e)&&null==a)return null;if(c.def&&null==a)return c.def;a=f.floor?~~a:parseFloat(a);return null==a||isNaN(a)?c.def:f.mod?(a%=f.mod,0>a?f.mod+a:a):f.min>a?f.min:f.max<a?f.max:a}function e(c){var e=r(),f=e._rgba=[];c=c.toLowerCase();B(m,function(a,g){var k=g.re.exec(c),m=k&&g.parse(k),r=g.space||"rgba",k=t[r].cache;if(m)return m=e[r](m),e[k]=m[k],f=e._rgba=m._rgba,!1});if(0!==f.length)return 0===Math.max.apply(Math,f)&&a.extend(f,T.transparent),
e;if(c=T[c])return c}function k(a,c,e){e=(e+1)%1;return 1>6*e?a+6*(c-a)*e:1>2*e?c:2>3*e?a+(c-a)*(2/3-e)*6:a}var g=/^([\-+])=\s*(\d+\.?\d*)/,m=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,
parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],r=a.Color=function(c,e,f,g){return new a.Color.fn.parse(c,e,f,g)},t={rgba:{cache:"_rgba",props:{red:{idx:0,
type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},y={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},H=t.rgba.props,D=r.support={},T,B=a.each;t.hsla.props.alpha=H.alpha;r.fn=r.prototype={constructor:r,parse:function(g,k,m,A){if(g===f)return this._rgba=
[null,null,null,null],this;if(g instanceof a||g.nodeType)g=g instanceof a?g.css(k):a(g).css(k),k=f;var E=this,y=a.type(g),D=this._rgba=[];k!==f&&(g=[g,k,m,A],y="array");if("string"===y)return this.parse(e(g)||T._default);if("array"===y)return B(H,function(a,e){D[e.idx]=c(g[e.idx],e)}),this;if("object"===y)return g instanceof r?B(t,function(a,c){g[c.cache]&&(E[c.cache]=g[c.cache].slice())}):B(t,function(a,e){B(e.props,function(a,f){var k=e.cache;if(!E[k]&&e.to){if(null==g[a]||"alpha"===a)return;E[k]=
e.to(E._rgba)}E[k][f.idx]=c(g[a],f,!0)})}),this},is:function(a){var c=r(a),e=!0,f=this;B(t,function(a,g){var k=c[g.cache],m;k&&(m=f[g.cache]||g.to&&g.to(f._rgba)||[],B(g.props,function(a,c){if(null!=k[c.idx])return e=k[c.idx]===m[c.idx]}));return e});return e},_space:function(){var a=[],c=this;B(t,function(e,f){c[f.cache]&&a.push(e)});return a.pop()},transition:function(a,e){var f=r(a),g=f._space(),k=t[g],m=this[k.cache]||k.to(this._rgba),D=m.slice(),f=f[k.cache];B(k.props,function(a,g){var k=g.idx,
l=m[k],u=f[k],r=y[g.type]||{};null!==u&&(null===l?D[k]=u:(r.mod&&(u-l>r.mod/2?l+=r.mod:l-u>r.mod/2&&(l-=r.mod)),D[g.idx]=c((u-l)*e+l,g)))});return this[g](D)},blend:function(c){if(1===this._rgba[3])return this;var e=this._rgba.slice(),f=e.pop(),g=r(c)._rgba;return r(a.map(e,function(a,c){return(1-f)*g[c]+f*a}))},toRgbaString:function(){var c="rgba(",e=a.map(this._rgba,function(a,c){return null==a?2<c?1:0:a});1===e[3]&&(e.pop(),c="rgb(");return c+e.join(",")+")"},toHslaString:function(){var c="hsla(",
e=a.map(this.hsla(),function(a,c){null==a&&(a=2<c?1:0);c&&3>c&&(a=Math.round(100*a)+"%");return a});1===e[3]&&(e.pop(),c="hsl(");return c+e.join(",")+")"},toHexString:function(c){var e=this._rgba.slice(),f=e.pop();c&&e.push(~~(255*f));return"#"+a.map(e,function(a,c){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}};r.fn.parse.prototype=r.fn;t.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,
null,null,a[3]];var c=a[0]/255,e=a[1]/255,f=a[2]/255;a=a[3];var g=Math.max(c,e,f),k=Math.min(c,e,f),m=g-k,r=g+k,t=.5*r,r=0===t||1===t?t:.5>=t?m/r:m/(2-r);return[Math.round(k===g?0:c===g?60*(e-f)/m+360:e===g?60*(f-c)/m+120:60*(c-e)/m+240)%360,r,t,null==a?1:a]};t.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var c=a[0]/360,e=a[1],f=a[2];a=a[3];e=.5>=f?f*(1+e):f+e-f*e;f=2*f-e;return[Math.round(255*k(f,e,c+1/3)),Math.round(255*k(f,e,c)),Math.round(255*k(f,e,c-
1/3)),a]};B(t,function(e,k){var m=k.props,t=k.cache,y=k.to,D=k.from;r.fn[e]=function(e){y&&!this[t]&&(this[t]=y(this._rgba));if(e===f)return this[t].slice();var g=a.type(e),k="array"===g||"object"===g?e:arguments,u=this[t].slice(),l;B(m,function(a,e){var f=k["object"===g?a:e.idx];null==f&&(f=u[e.idx]);u[e.idx]=c(f,e)});return D?(l=r(D(u)),l[t]=u,l):r(u)};B(m,function(c,f){r.fn[c]||(r.fn[c]=function(k){var m=a.type(k),l="alpha"===c?this._hsla?"hsla":"rgba":e,r=this[l](),t=r[f.idx];if("undefined"===
m)return t;"function"===m&&(k=k.call(this,t),m=a.type(k));if(null==k&&f.empty)return this;"string"===m&&(m=g.exec(k))&&(k=t+parseFloat(m[2])*("+"===m[1]?1:-1));r[f.idx]=k;return this[l](r)})})});B("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(c,f){a.cssHooks[f]={set:function(c,g){var k,m;if("string"!==a.type(g)||(k=e(g))){g=r(k||g);if(!D.rgba&&1!==g._rgba[3]){m="backgroundColor"===f?c.parentNode:c;do k=a.curCSS(m,"backgroundColor");
while((""===k||"transparent"===k)&&(m=m.parentNode)&&m.style);g=g.blend(k&&"transparent"!==k?k:"_default")}g=g.toRgbaString()}c.style[f]=g}};a.fx.step[f]=function(c){c.colorInit||(c.start=r(c.elem,f),c.end=r(c.end),c.colorInit=!0);a.cssHooks[f].set(c.elem,c.start.transition(c.end,c.pos))}});a(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(1,1,1,.5)";D.rgba=-1<a.backgroundColor.indexOf("rgba")});T=a.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",
black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",
lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
(function(a){a.Jcrop=function(f,c){function e(a){return Math.round(a)+"px"}function k(c){c=a(c).offset();return[c.left,c.top]}function g(a){return[a.pageX-O[0],a.pageY-O[1]]}function m(c){"object"!==typeof c&&(c={});l=a.extend(l,c);a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,c){"function"!==typeof l[c]&&(l[c]=function(){})})}function r(a,c,d){O=k(M);da.setCursor("move"===a?a:a+"-resize");if("move"===a)return da.activateHandlers(y(c),u,d);c=L.getFixed();var e=H(a),f=L.getCorner(H(e));
L.setPressed(L.getCorner(e));L.setCurrent(f);da.activateHandlers(t(a,c),u,d)}function t(a,c){return function(e){if(l.aspectRatio)switch(a){case "e":e[1]=c.y+1;break;case "w":e[1]=c.y+1;break;case "n":e[0]=c.x+1;break;case "s":e[0]=c.x+1}else switch(a){case "e":e[1]=c.y2;break;case "w":e[1]=c.y2;break;case "n":e[0]=c.x2;break;case "s":e[0]=c.x2}L.setCurrent(e);d.update()}}function y(a){var c=a;ba.watchKeys();return function(a){L.moveOffset([a[0]-c[0],a[1]-c[1]]);c=a;d.update()}}function H(a){switch(a){case "n":return"sw";
case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function D(a){return function(c){if(l.disabled||"move"===a&&!l.allowMove)return!1;O=k(M);ua=!0;r(a,g(c));c.stopPropagation();c.preventDefault();return!1}}function T(a,c,d){var e=a.width(),f=a.height();e>c&&0<c&&(e=c,f=c/a.width()*a.height());f>d&&0<d&&(f=d,e=d/a.height()*a.width());Q=a.width()/e;Z=a.height()/f;a.width(e).height(f)}function B(a){return{x:a.x*
Q,y:a.y*Z,x2:a.x2*Q,y2:a.y2*Z,w:a.w*Q,h:a.h*Z}}function u(a){a=L.getFixed();a.w>l.minSelect[0]&&a.h>l.minSelect[1]?(d.enableHandles(),d.done()):d.release();da.setCursor(l.allowSelect?"crosshair":"default")}function G(a){if(l.disabled||!l.allowSelect)return!1;ua=!0;O=k(M);d.disableHandles();da.setCursor("crosshair");var c=g(a);L.setPressed(c);d.update();da.activateHandlers(R,u,"touch"===a.type.substring(0,5));ba.watchKeys();a.stopPropagation();a.preventDefault();return!1}function R(a){L.setCurrent(a);
d.update()}function A(){var c=a("<div></div>").addClass(l.baseClass+"-tracker");Fa&&c.css({opacity:0,backgroundColor:"white"});return c}function E(a){N([a[0]/Q,a[1]/Z,a[2]/Q,a[3]/Z]);l.onSelect.call(ia,B(L.getFixed()));d.enableHandles()}function N(a){L.setPressed([a[0],a[1]]);L.setCurrent([a[2],a[3]]);d.update()}function X(){l.disabled=!0;d.disableHandles();d.setCursor("default");da.setCursor("default")}function la(){l.disabled=!1;J()}function P(c,d,e){d=d||l.bgColor;l.bgFade&&a.fx.step.hasOwnProperty("backgroundColor")&&
l.fadeTime&&!e?c.animate({backgroundColor:d},{queue:!1,duration:l.fadeTime}):c.css("backgroundColor",d)}function J(a){l.allowResize?a?d.enableOnly():d.enableHandles():d.disableHandles();da.setCursor(l.allowSelect?"crosshair":"default");d.setCursor(l.allowMove?"move":"default");l.hasOwnProperty("trueSize")&&(Q=l.trueSize[0]/K,Z=l.trueSize[1]/F);l.hasOwnProperty("setSelect")&&(E(l.setSelect),d.done(),delete l.setSelect);pa.refresh();l.bgColor!=ca&&(P(l.shade?pa.getShades():ma,l.shade?l.shadeColor||
l.bgColor:l.bgColor),ca=l.bgColor);x!=l.bgOpacity&&(x=l.bgOpacity,l.shade?pa.refresh():d.setBgOpacity(x));Ha=l.maxSize[0]||0;Ia=l.maxSize[1]||0;Ja=l.minSize[0]||0;ta=l.minSize[1]||0;l.hasOwnProperty("outerImage")&&(M.attr("src",l.outerImage),delete l.outerImage);d.refresh()}var l=a.extend({},a.Jcrop.defaults),O,fa=navigator.userAgent.toLowerCase(),Fa=/msie/.test(fa),Ma=/msie [1-6]\./.test(fa);"object"!==typeof f&&(f=a(f)[0]);"object"!==typeof c&&(c={});m(c);var fa={border:"none",visibility:"visible",
margin:0,padding:0,position:"absolute",top:0,left:0},U=a(f),Ra=!0;if("IMG"==f.tagName){if(0!=U[0].width&&0!=U[0].height)U.width(U[0].width),U.height(U[0].height);else{var Ga=new Image;Ga.src=U[0].src;U.width(Ga.width);U.height(Ga.height)}var M=U.clone().removeAttr("id").css(fa).show();M.width(U.width());M.height(U.height());U.after(M).hide()}else M=U.css(fa).show(),Ra=!1,null===l.shade&&(l.shade=!0);T(M,l.boxWidth,l.boxHeight);var K=M.width(),F=M.height(),ma=a("<div />").width(K).height(F).addClass(l.baseClass+
"-holder").css({position:"relative",backgroundColor:l.bgColor}).insertAfter(U).append(M);l.addClass&&ma.addClass(l.addClass);var wa=a("<div />"),W=a("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),na=a("<div />").width("100%").height("100%").css("zIndex",320),xa=a("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var a=L.getFixed();l.onDblClick.call(ia,a)}).insertBefore(M).append(W,na);Ra&&(wa=a("<img />").attr("src",M.attr("src")).css(fa).width(K).height(F),
W.append(wa));Ma&&xa.css({overflowY:"hidden"});var Y=l.boundary,sa=A().width(K+2*Y).height(F+2*Y).css({position:"absolute",top:e(-Y),left:e(-Y),zIndex:290}).mousedown(G),ca=l.bgColor,x=l.bgOpacity,Ha,Ia,Ja,ta,Q,Z,ua,aa,Za;O=k(M);var ha=function(){function a(){var c={},d=["touchstart","touchmove","touchend"],e=document.createElement("div"),f;try{for(f=0;f<d.length;f++){var g=d[f],g="on"+g,k=g in e;k||(e.setAttribute(g,"return;"),k="function"==typeof e[g]);c[d[f]]=k}return c.touchstart&&c.touchend&&
c.touchmove}catch(l){return!1}}var c;c=!0===l.touchSupport||!1===l.touchSupport?l.touchSupport:a();return{createDragger:function(a){return function(c){if(l.disabled||"move"===a&&!l.allowMove)return!1;O=k(M);ua=!0;r(a,g(ha.cfilter(c)),!0);c.stopPropagation();c.preventDefault();return!1}},newSelection:function(a){return G(ha.cfilter(a))},cfilter:function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return a},isSupported:a,support:c}}(),L=function(){function a(){if(!l.aspectRatio){var c=
k-f,r=m-g;Ha&&Math.abs(c)>Ha&&(k=0<c?f+Ha:f-Ha);Ia&&Math.abs(r)>Ia&&(m=0<r?g+Ia:g-Ia);ta/Z&&Math.abs(r)<ta/Z&&(m=0<r?g+ta/Z:g-ta/Z);Ja/Q&&Math.abs(c)<Ja/Q&&(k=0<c?f+Ja/Q:f-Ja/Q);0>f&&(k-=f,f-=f);0>g&&(m-=g,g-=g);0>k&&(f-=k,k-=k);0>m&&(g-=m,m-=m);k>K&&(c=k-K,f-=c,k-=c);m>F&&(c=m-F,g-=c,m-=c);f>K&&(c=f-F,m-=c,g-=c);g>F&&(c=g-F,m-=c,g-=c);return e(d(f,g,k,m))}var c=l.aspectRatio,r=l.minSize[0]/Q,t=l.maxSize[0]/Q,v=k-f,u=m-g,C=Math.abs(v),z=Math.abs(u);0===t&&(t=10*K);C/z<c?(C=m,z*=c,z=0>v?f-z:z+f,0>
z?(z=0,C=Math.abs((z-f)/c),C=0>u?g-C:C+g):z>K&&(z=K,C=Math.abs((z-f)/c),C=0>u?g-C:C+g)):(z=k,C/=c,C=0>u?g-C:g+C,0>C?(C=0,z=Math.abs((C-g)*c),z=0>v?f-z:z+f):C>F&&(C=F,z=Math.abs(C-g)*c,z=0>v?f-z:z+f));z>f?(z-f<r?z=f+r:z-f>t&&(z=f+t),C=C>g?g+(z-f)/c:g-(z-f)/c):z<f&&(f-z<r?z=f-r:f-z>t&&(z=f-t),C=C>g?g+(f-z)/c:g-(f-z)/c);0>z?(f-=z,z=0):z>K&&(f-=z-K,z=K);0>C?(g-=C,C=0):C>F&&(g-=C-F,C=F);return e(d(f,g,z,C))}function c(a){0>a[0]&&(a[0]=0);0>a[1]&&(a[1]=0);a[0]>K&&(a[0]=K);a[1]>F&&(a[1]=F);return[Math.round(a[0]),
Math.round(a[1])]}function d(a,c,e,f){var g=a,k=e,l=c,m=f;e<a&&(g=e,k=a);f<c&&(l=f,m=c);return[g,l,k,m]}function e(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var f=0,g=0,k=0,m=0,r,t;return{flipCoords:d,setPressed:function(a){a=c(a);k=f=a[0];m=g=a[1]},setCurrent:function(a){a=c(a);r=a[0]-k;t=a[1]-m;k=a[0];m=a[1]},getOffset:function(){return[r,t]},moveOffset:function(a){var c=a[0];a=a[1];0>f+c&&(c-=c+f);0>g+a&&(a-=a+g);F<m+a&&(a+=F-(m+a));K<k+c&&(c+=K-(k+c));f+=c;k+=c;g+=a;m+=
a},getCorner:function(c){var d=a();switch(c){case "ne":return[d.x2,d.y];case "nw":return[d.x,d.y];case "se":return[d.x2,d.y2];case "sw":return[d.x,d.y2]}},getFixed:a}}(),pa=function(){function c(){return f(L.getFixed())}function f(a){x.top.css({left:e(a.x),width:e(a.w),height:e(a.y)});x.bottom.css({top:e(a.y2),left:e(a.x),width:e(a.w),height:e(F-a.y2)});x.right.css({left:e(a.x2),width:e(K-a.x2)});x.left.css({width:e(a.x)})}function g(){return a("<div />").css({position:"absolute",backgroundColor:l.shadeColor||
l.bgColor}).appendTo(B)}function k(){y||(y=!0,B.insertBefore(M),c(),d.setBgOpacity(1,0,1),wa.hide(),m(l.shadeColor||l.bgColor,1),d.isAwake()?t(l.bgOpacity,1):t(1,1))}function m(a,c){P(u(),a,c)}function r(){y&&(B.remove(),wa.show(),y=!1,d.isAwake()?d.setBgOpacity(l.bgOpacity,1,1):(d.setBgOpacity(1,1,1),d.disableHandles()),P(ma,0,1))}function t(a,c){y&&(l.bgFade&&!c?B.animate({opacity:1-a},{queue:!1,duration:l.fadeTime}):B.css({opacity:1-a}))}function u(){return B.children()}var y=!1,B=a("<div />").css({position:"absolute",
zIndex:240,opacity:0}),x={top:g(),left:g().height(F),right:g().height(F),bottom:g()};return{update:c,updateRaw:f,getShades:u,setBgColor:m,enable:k,disable:r,resize:function(a,c){x.left.css({height:e(c)});x.right.css({height:e(c)})},refresh:function(){l.shade?k():r();d.isAwake()&&t(l.bgOpacity)},opacity:t}}(),d=function(){function c(d,e){var f=a("<div />").mousedown(D(d)).css({cursor:d+"-resize",position:"absolute",zIndex:e}).addClass("ord-"+d);ha.support&&f.bind("touchstart.jcrop",ha.createDragger(d));
na.append(f);return f}function d(a){var e;for(e=0;e<a.length;e++)c(a[e],F++).addClass("jcrop-dragbar")}function f(c){var d,e;for(e=0;e<c.length;e++){switch(c[e]){case "n":d="hline";break;case "s":d="hline bottom";break;case "e":d="vline right";break;case "w":d="vline"}var g=d,g=a("<div />").css({position:"absolute",opacity:l.borderOpacity}).addClass(l.baseClass+"-"+g);W.append(g)}}function g(a){var d;for(d=0;d<a.length;d++){var e=l.handleSize,f=c(a[d],F++).css({opacity:l.handleOpacity}).addClass(l.baseClass+
"-handle");e&&f.width(e).height(e)}}function k(){var a=L.getFixed();L.setPressed([a.x,a.y]);L.setCurrent([a.x2,a.y2]);m()}function m(a){if(H)return r(a)}function r(a){var c=L.getFixed(),d=c.h;xa.width(Math.round(c.w)).height(Math.round(d));var d=c.x,f=c.y;l.shade||wa.css({top:e(-f),left:e(-d)});xa.css({top:e(f),left:e(d)});l.shade&&pa.updateRaw(c);H||(xa.show(),l.shade?pa.opacity(x):t(x,!0),H=!0);a?l.onSelect.call(ia,B(c)):l.onChange.call(ia,B(c))}function t(a,c,d){if(H||c)l.bgFade&&!d?M.animate({opacity:a},
{queue:!1,duration:l.fadeTime}):M.css("opacity",a)}function u(){G=!0;if(l.allowResize)return na.show(),!0}function y(){G=!1;na.hide()}function E(a){a?(aa=!0,y()):(aa=!1,u())}var H,F=370,G=!1;l.dragEdges&&a.isArray(l.createDragbars)&&d(l.createDragbars);a.isArray(l.createHandles)&&g(l.createHandles);l.drawBorders&&a.isArray(l.createBorders)&&f(l.createBorders);a(document).bind("touchstart.jcrop-ios",function(c){a(c.currentTarget).hasClass("jcrop-tracker")&&c.stopPropagation()});var J=A().mousedown(D("move")).css({cursor:"move",
position:"absolute",zIndex:360});ha.support&&J.bind("touchstart.jcrop",ha.createDragger("move"));W.append(J);y();return{updateVisible:m,update:r,release:function(){y();xa.hide();l.shade?pa.opacity(1):t(1);H=!1;l.onRelease.call(ia)},refresh:k,isAwake:function(){return H},setCursor:function(a){J.css("cursor",a)},enableHandles:u,enableOnly:function(){G=!0},showHandles:function(){G&&na.show()},disableHandles:y,animMode:E,setBgOpacity:t,done:function(){E(!1);k()}}}(),da=function(){function c(a){m(g(a));
return!1}function e(c){c.preventDefault();c.stopPropagation();ua&&(ua=!1,r(g(c)),d.isAwake()&&l.onSelect.call(ia,B(L.getFixed())),sa.css({zIndex:290}),a(document).unbind(".jcrop"),m=function(){},r=function(){});return!1}function f(a){m(g(ha.cfilter(a)));return!1}function k(a){return e(ha.cfilter(a))}var m=function(){},r=function(){},t=l.trackDocument;t||sa.mousemove(c).mouseup(e).mouseout(e);M.before(sa);return{activateHandlers:function(d,g,l){ua=!0;m=d;r=g;sa.css({zIndex:450});l?a(document).bind("touchmove.jcrop",
f).bind("touchend.jcrop",k):t&&a(document).bind("mousemove.jcrop",c).bind("mouseup.jcrop",e);return!1},setCursor:function(a){sa.css("cursor",a)}}}(),ba=function(){function c(a){g.hide()}function e(a,c,f){l.allowMove&&(L.moveOffset([c,f]),d.updateVisible(!0));a.preventDefault();a.stopPropagation()}function f(a){if(a.ctrlKey||a.metaKey)return!0;var c=(Za=a.shiftKey?!0:!1)?10:1;switch(a.keyCode){case 37:e(a,-c,0);break;case 39:e(a,c,0);break;case 38:e(a,0,-c);break;case 40:e(a,0,c);break;case 27:l.allowSelect&&
d.release();break;case 9:return!0}return!1}var g=a('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),k=a("<div />").css({position:"absolute",overflow:"hidden"}).append(g);l.keySupport&&(g.keydown(f).blur(c),Ma||!l.fixedSupport?(g.css({position:"absolute",left:"-20px"}),k.append(g).insertBefore(M)):g.insertBefore(M));return{watchKeys:function(){l.keySupport&&(g.show(),g.focus())}}}();ha.support&&sa.bind("touchstart.jcrop",ha.newSelection);na.hide();
J(!0);var ia={setImage:function(a,c){d.release();X();var e=new Image;e.onload=function(){var d=e.height,f=l.boxWidth,g=l.boxHeight;M.width(e.width).height(d);M.attr("src",a);wa.attr("src",a);T(M,f,g);K=M.width();F=M.height();wa.width(K).height(F);sa.width(K+2*Y).height(F+2*Y);ma.width(K).height(F);pa.resize(K,F);la();"function"===typeof c&&c.call(ia)};e.src=a},animateTo:function(a,c){var e=a[0]/Q,f=a[1]/Z,g=a[2]/Q,k=a[3]/Z;if(!aa){var m=L.flipCoords(e,f,g,k),r=L.getFixed(),t=[r.x,r.y,r.x2,r.y2],u=
l.animationDelay,y=m[0]-t[0],B=m[1]-t[1],x=m[2]-t[2],A=m[3]-t[3],D=0,C=l.swingSpeed,e=t[0],f=t[1],g=t[2],k=t[3];d.animMode(!0);var z=function(){return function(){D+=(100-D)/C;t[0]=Math.round(e+D/100*y);t[1]=Math.round(f+D/100*B);t[2]=Math.round(g+D/100*x);t[3]=Math.round(k+D/100*A);99.8<=D&&(D=100);100>D?(N(t),window.setTimeout(z,u)):(d.done(),d.animMode(!1),"function"===typeof c&&c.call(ia))}}();window.setTimeout(z,u)}},setSelect:E,setOptions:function(a){m(a);J()},tellSelect:function(){return B(L.getFixed())},
tellScaled:function(){return L.getFixed()},setClass:function(a){ma.removeClass().addClass(l.baseClass+"-holder").addClass(a)},disable:X,enable:la,cancel:function(){d.done();da.activateHandlers(null,null)},release:d.release,destroy:function(){ma.remove();U.show();U.css("visibility","visible");a(f).removeData("Jcrop")},focus:ba.watchKeys,getBounds:function(){return[K*Q,F*Z]},getWidgetSize:function(){return[K,F]},getScaleFactor:function(){return[Q,Z]},getOptions:function(){return l},ui:{holder:ma,selection:xa}};
Fa&&ma.bind("selectstart",function(){return!1});U.data("Jcrop",ia);return ia};a.fn.Jcrop=function(f,c){var e;this.each(function(){if(a(this).data("Jcrop")){if("api"===f)return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(f)}else"IMG"==this.tagName?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"});e=a.Jcrop(this,f);a.isFunction(c)&&c.call(e)}):(a(this).css({display:"block",visibility:"hidden"}),e=a.Jcrop(this,f),a.isFunction(c)&&c.call(e))});return this};a.Jcrop.Loader=
function(f,c,e){function k(){m.complete?(g.unbind(".jcloader"),a.isFunction(c)&&c.call(m)):window.setTimeout(k,50)}var g=a(f),m=g[0];g.bind("load.jcloader",k).bind("error.jcloader",function(c){g.unbind(".jcloader");a.isFunction(e)&&e.call(m)});m.complete&&a.isFunction(c)&&(g.unbind(".jcloader"),c.call(m))};a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,
aspectRatio:0,keySupport:!0,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);
var MPDialog={New:function(a){var f={onClose:null};f.Content=$(a);var c=f.Content.find(".dialog-close");f.ButtonOK=f.Content.find(".ok");$("body").append(f.Content);MPCenter(f.Content.find(".dialog-box"),$(window));f.Close=function(){f.Content.remove();if(null!=f.onClose)f.onClose()};c.click(function(){f.Close()});f.HideClose=function(){c.hide()};return f}};
MPTitleDialog={New:function(a,f){f=f?f:"";var c=MPDialog.New(a),e=c.Content.find(".dialog-title .text");c.Title=function(a){if(0==arguments.length)return e;e.text(a)};c.Title(f);return c}};
MPMessageBox={Icons:{Error:"error",OK:"ok",Warn:"warn"},New:function(a,f){var c;switch(a){case this.Icons.Warn:c="\u8b66\u544a";break;case this.Icons.Error:c="\u9519\u8bef";break;case this.Icons.OK:c="\u6210\u529f"}var e=MPTitleDialog.New('<div class="dialog-mask"><div class="dialog-box"><div class="dialog-title"><span class="text">\u5bf9\u8bdd\u6846</span><div class="dialog-close"></div></div><div class="dialog-content"><div class="messagebox"><div class="icon"></div><div class="message">\u8fd9\u91cc\u662f\u4e00\u6761\u4fe1\u606f</div></div></div><div class="dialog-btns"><div class="ok">\u786e\u8ba4</div></div></div></div>',c);
e.onOK=null;e.Content.find(".message").text(f);e.ButtonOK.click(function(){e.Close();if(e.onOK)e.onOK()});e.Content.find(".icon").addClass(a);return e}};
MPSignUpDialog={New:function(){var a=MPDialog.New('<div class="dialog-mask"><div class="dialog-box"><div class="dialog-title"><span class="text">\u6ce8\u518c</span><div class="dialog-close"></div></div><div class="dialog-content"><div class="signup-dialog"><input class="email" type="text" placeholder="\u90ae\u7bb1"><div class="signup">\u6ce8\u518c</div><div class="more"><span>\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86</span> <span class="login">\u767b\u5f55</span></div></div></div></div></div>'),f=a.Content.find(".signup"),
c=a.Content.find(".login");f.click(function(){var c=a.Content.find(".email").val();if(0==MPCheckEmail(c))return!1;$.post(host+"/ajax/signup-email",{email:MPHtmlEncode(c)},function(f){0==f.code?(a.Close(),MPSignUpSuccessDialog.New(c)):MPMessageBox.New(MPMessageBox.Icons.Warn,f.msg)},"json")});c.click(function(){a.Close();MPLoginDialog.New()});return a}};
MPSignUpSuccessDialog={New:function(a){var f;f='<div class="dialog-mask">    <div class="dialog-box">';f+='        <div class="dialog-title">';f+='            <span class="text">\u6ce8\u518c\u6210\u529f</span>';f+='            <div class="dialog-close"></div>';f+="        </div>";f+='        <div class="dialog-content">';f+='            <div class="signup-success-dialog">';f+='                <p>\u9a8c\u8bc1\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230<span class="email">{0}</span>\uff0c\u8bf7\u67e5\u6536\u90ae\u4ef6\u6fc0\u6d3b\u5e10\u53f7\u5b8c\u6210\u6ce8\u518c\u3002</p>';
f+='                <p>\u5982\u679c\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6216\u8005<span class="resend">\u91cd\u65b0\u53d1\u9001</span></p>';f+='                <p class="return">&lt;&lt; \u8fd4\u56de\u767b\u5f55\u9875</p>';f+="            </div>";f+="        </div>";f+="    </div>";f+="</div>";f+="";var c=MPDialog.New(f.Format(a));f=c.Content.find(".resend");var e=c.Content.find(".return");f.click(function(){$.post(host+"/ajax/signup-email",{email:MPHtmlEncode(a)},
function(a){0==a.code&&MPMessageBox.New(MPMessageBox.Icons.OK,"\u90ae\u4ef6\u53d1\u9001\u6210\u529f,\u8bf7\u67e5\u6536")},"json")});e.click(function(){c.Close();MPLoginDialog.New()});return c}};
MPLoginDialog={New:function(){var a=MPDialog.New('<div class="dialog-mask"><div class="dialog-box"><div class="dialog-title"><span class="text">\u767b\u5f55</span><div class="dialog-close"></div></div><div class="dialog-content"><div class="login-dialog"><input class="email" type="text" placeholder="\u6ce8\u518c\u90ae\u7bb1"> <input class="password" type="password" placeholder="\u5bc6\u7801"><div class="reset">\u5fd8\u8bb0\u4e86\u5bc6\u7801\uff1f</div><div class="login">\u767b\u5f55</div><div class="more"><span>\u8fd8\u6ca1\u6709\u6ce8\u518c\uff1f</span> <span class="signup">\u7acb\u5373\u6ce8\u518c</span></div></div></div></div></div>');a.onSuccess=
null;a.Content.find(".reset").click(function(){a.Close();MPResetPasswordDialog.New()});a.Content.find(".login").click(function(){var f=a.Content.find(".email").val(),c=a.Content.find(".password").val();0!=MPCheckEmail(f)&&0!=MPCheckPassword(c)&&$.post(host+"/ajax/login",{email:MPHtmlEncode(f),password:MPHtmlEncode(c)},function(c){if(0==c.code){if($.cookie("login",c.cookie,{expires:30}),a.Close(),null!=a.onSuccess)a.onSuccess()}else MPMessageBox.New(MPMessageBox.Icons.Error,c.msg)},"json")});a.Content.find(".signup").click(function(){a.Close();
MPSignUpDialog.New()});return a}};
MPResetPasswordDialog={New:function(){var a=MPDialog.New('<div class="dialog-mask"><div class="dialog-box"><div class="dialog-title"><span class="text">\u627e\u56de\u5bc6\u7801</span><div class="dialog-close"></div></div><div class="dialog-content"><div class="reset-password-dialog"><span>\u6ce8\u518c\u90ae\u7bb1:</span> <input type="text" placeholder="\u8bf7\u8f93\u5165\u6ce8\u518c\u90ae\u7bb1"></div></div><div class="dialog-btns"><div class="ok">\u786e\u8ba4</div></div></div></div>'),f=a.Content.find(".reset-password-dialog input");
a.ButtonOK.click(function(){MPCheckEmail(f.val())&&$.post(host+"/ajax/reset-password",{email:MPHtmlEncode(f.val())},function(c){0==c.code?(a.Close(),MPResetPasswordSuccessDialog.New(f.val())):MPMessageBox.New(MPMessageBox.Icons.Error,c.msg)},"json")});return a}};
MPResetPasswordSuccessDialog={New:function(a){var f;f='<div class="dialog-mask">    <div class="dialog-box">';f+='        <div class="dialog-title">';f+='            <span class="text">\u90ae\u4ef6\u5df2\u53d1\u9001...</span>';f+='            <div class="dialog-close"></div>';f+="        </div>";f+='        <div class="dialog-content">';f+='            <div class="reset-password-success-dialog">';f+='                <p>\u91cd\u7f6e\u5bc6\u7801\u7684\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230<span class="email">{0}</span>\uff0c\u8bf7\u67e5\u6536\u90ae\u4ef6\u5e76\u91cd\u65b0\u8bbe\u7f6e\u5bc6\u7801\u3002</p>';
f+='                <p>\u5982\u679c\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6216\u8005<span class="resend">\u91cd\u65b0\u53d1\u9001</span></p>';f+='                <p class="return">&lt;&lt; \u8fd4\u56de\u767b\u5f55\u9875</p>';f+="            </div>";f+="        </div>";f+="    </div>";f+="</div>";f+="";var c=MPDialog.New(f.Format(a));f=c.Content.find(".resend");var e=c.Content.find(".return");f.click(function(){$.post(host+"/ajax/reset-password",{email:MPHtmlEncode(a)},
function(a){0==a.code&&MPMessageBox.New(MPMessageBox.Icons.OK,"\u90ae\u4ef6\u53d1\u9001\u6210\u529f,\u8bf7\u67e5\u6536")},"json")});e.click(function(){c.Close();MPLoginDialog.New()});return c}};
MPCreatePackageDialog={New:function(a,f,c,e){var k;k='<div class="dialog-mask">        <div class="dialog-box">';k+='            <div class="dialog-title">';k+='                <span class="text"></span>';k+='                <div class="dialog-close"></div>';k+="            </div>";k+='            <div class="dialog-content">';k+='                <div class="package-dialog">';k+='                    <div class="title">\u6807\u9898</div>';k=1==a?k+'                    <input type="text" class="package-title" placeholder={0} />'.Format(c):
k+'                <input type="text" class="package-title" placeholder="\u8bf7\u8f93\u5165\u56fe\u5305\u6807\u9898" />';k+='                    <div class="title">\u63cf\u8ff0</div>';k=1==a?k+'                    <textarea class="package-description">{0}</textarea>'.Format(e):k+'                    <textarea class="package-description">\u8bf7\u8f93\u5165\u56fe\u7247\u63cf\u8ff0</textarea>';k+="                </div>";k+="            </div>";k+='            <div class="dialog-btns">';1==a&&(k+='                <div class="delete">\u5220\u9664</div>');
k+='                <div class="ok">\u786e\u8ba4</div>';k+='                <div class="cancel">\u53d6\u6d88</div>';k+="            </div>";k+="        </div>";k+="</div>";var g=MPTitleDialog.New(k,1==a?"\u7f16\u8f91\u56fe\u5305":"\u521b\u5efa\u56fe\u5305");g.packageid=null;var m=g.Content.find(".package-title"),r=g.Content.find(".package-description");1==a?g.ButtonOK.click(function(){$.post(host+"/ajax/edit-package",{id:f,title:MPHtmlEncode(m.val()),description:MPHtmlEncode(r.val())},function(a){0==
a.code?MPMessageBox.New(MPMessage.Icons.OK,"\u7f16\u8f91\u6210\u529f").onOK=function(){g.Close()}:MPMessageBox.New(MPMessage.Icons.Error,a.msg)},"json")}):g.ButtonOK.click(function(){$.post(host+"/ajax/create-package",{title:MPHtmlEncode(m.val()),description:MPHtmlEncode(r.val())},function(a){0==a.code?(g.packageid=a.id,g.Close()):MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")});g.Content.find(".cancel").click(function(){g.Close()});return g}};
MPCreateImageDialog={New:function(a,f,c,e,k){var g;g='<div class="dialog-mask">    <div class="dialog-box">';g+='        <div class="dialog-title">';g+='            <span class="text">{1}</span>';g+='            <div class="dialog-close">';g+="            </div>";g+="        </div>";g+='        <div class="dialog-content">';g+='            <div class="create-image-dialog">';g+='                <div class="preview">';g+='                    <img src="{0}" width="180">';g+="                </div>";
g+='                <div class="right">';g+="                    <h3>\u56fe\u5305</h3>";g+='                    <div class="package-list">';g+='                        <div class="current">';g+='                            <div class="name">&nbsp;</div>';g+='                            <div class="arrow"></div>';g+="                        </div>";g+='                        <div class="drop-list">';g+='                            <div class="selections"></div>';g+='                            <div class="filtrate">';
g+='                                <div class="create"></div>';g+="                            </div>";g+='                            <div class="filter">';g+='                                <input type="text" placeholder="\u5feb\u901f\u7b5b\u9009/\u521b\u5efa\u56fe\u5305">';g+="                            </div>";g+="                        </div>";g+="                    </div>";g+='                     <div class="seperator"></div>';g+="                     <h3 >\u63cf\u8ff0</h3>";g+='                    <div class="description">';
g+="                        <textarea>{2}</textarea>";g+='                        <div class="tip">';g+="                            \u7ed9\u56fe\u7247\u6dfb\u52a0 #\u6807\u7b7e#\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u6574\u7406\u56fe\u7247\u54e6~";g+="                        </div>";g+="                    </div>";1==e&&(g+='                     <div class="seperator"></div>',g+="                     <h3>\u6765\u81ea</h3>",g+='                     <input class="source"  type="text" value="{0}">'.Format(k));
g+="                </div>";g+="            </div>";g+="        </div>";g+='        <div class="dialog-btns">';1==e&&(g+='            <div class="delete">\u5220\u9664</div>');g+='            <div class="ok">\u786e\u8ba4</div>';g+='            <div class="cancel">\u53d6\u6d88</div>';g+="        </div>";g+="    </div>";g+="</div>";f=f?f:"";c=c?c:"";var m=MPTitleDialog.New(g.Format(a,f,c));c=m.Content.find(".description textarea");var r=m.Content.find(".package-list"),t=m.Content.find(".drop-list"),
y=m.Content.find(".selections"),H=m.Content.find(".filtrate"),D=m.Content.find(".filter input");k=m.Content.find(".source");m.onOK=null;m.onDelete=null;m.description="";m.packageId=0;m.source="";m.Title(f);$.post(host+"/ajax/query-packages",{},function(a){if(0==a.code){a=a.packages;for(var c=a.length,e=0;e<c;e++){var f=$("<div/>").addClass("package");f.text(a[e].title);f.attr("data-package-id",a[e].id);y.append(f)}0!=a.length&&(r.attr("data-package-id",a[0].id),r.find(".name").text(a[0].title))}},
"json");var T=function(){H.hide();y.show();D.val("")};MPPopUpMenu(r,t,T);t.on("click",".package",function(a){var c=$(this);r.attr("data-package-id",c.attr("data-package-id"));r.find(".name").text(c.text());t.hide();a.stopPropagation()});H.find(".create").click(function(){null!=$(this).text&&$.post(host+"/ajax/create-package",{title:MPHtmlEncode(D.val())},function(a){if(0==a.code){r.attr("data-package-id",a.packageid);r.find(".name").text(D.val());var c=$("<div/>").addClass("package");c.text(D.val());
c.attr("data-package-id",a.packageid);y.append(c);T();t.hide()}else MPMessageBox.New("warn",a.msg)},"json")});D.keyup(function(){var a=$.trim(D.val());if(""==a)y.show(),H.hide();else{y.hide();H.show();H.find(".package").remove();var c=y.find(".package");0==c.length?H.find(".create").text("\u65b0\u5efa\u56fe\u5305---"+a):c.each(function(){-1!=$(this).text().indexOf(a)?H.append($(this).clone()):H.find(".create").text("\u65b0\u5efa\u56fe\u5305---"+a)})}});m.ButtonOK.click(function(){m.description=c.val();
m.packageId=r.attr("data-package-id");1==e&&(m.source=k.val());if(""==m.packageId||void 0==m.packageId)MPMessageBox.New(MPMessageBox.Icons.Warn,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u56fe\u5305,\u5982\u679c\u6ca1\u6709\u56fe\u5305\u8bf7\u65b0\u5efa\u4e00\u4e2a\u56fe\u5305!");else if(null!=m.onOK)m.onOK();else m.Close()});m.Content.find(".cancel").click(function(){m.Close()});m.Content.find(".delete").click(function(){if(null!=m.onDelete)m.onDelete()});return m}};
MPUploadDialog={New:function(a){function f(a){function f(a,e,g,m,r){var u=new XMLHttpRequest;u.open("post",host+"/ajax/upload-chunk?chunks="+e+"&chunk="+a+"&name="+m);var G=131072*a;u.send(g.slice(G,G+131072));u.onload=function(){var G=JSON.parse(u.responseText);if(0==G.code)a==e-1?(t.find(".percentage").text("\u6b63\u5728\u4e0a\u4f20(100%)..."),r(G.file)):(a++,t.find(".percentage").text("\u6b63\u5728\u4e0a\u4f20("+Math.ceil(a/e*100)+"%)..."),f(a,e,g,m,r));else{var A=MPMessageBox.New("error","\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25>_< \u8bf7\u91cd\u8bd5");
A.HideClose();A.onOK=function(){A.Close();c.Close()}}}}var g=a.files[0];c.filename=g.name;var m=Math.ceil(g.size/128/1024);(function(a){$.post(host+"/ajax/upload-begin",{},function(e){0==e.code&&(r.hide(),c.HideClose(),t.show(),a(e.name))},"json")})(function(a){f(0,m,g,a,function(a){if(null!=c.onSuccess)c.onSuccess(a);c.Close()})});var r=c.Content.find(".select"),t=c.Content.find(".process")}var c=MPTitleDialog.New('<div class="dialog-mask"><div class="dialog-box"><div class="dialog-title"><span class="text">\u4e0a\u4f20\u56fe\u7247</span><div class="dialog-close"></div></div><div class="dialog-content"><div class="upload-dialog"><div class="select"><div class="img"></div><div class="button">\u9009\u62e9\u56fe\u7247</div><div class="more">\u8bf7\u9009\u62e9\u4e0a\u4f20\u7684\u56fe\u7247\uff0c\u652f\u6301jpg\u548cpng\u56fe\u7247</div><input type="file" class="upload"></div><div class="process"><div class="img"></div><div class="percentage">\u6b63\u5728\u4e0a\u4f20(0%)...</div></div></div></div></div></div>',
a?a:"");c.Content.find(".upload").change(function(){f(this)});c.filename="";c.onSuccess=null;return c}};
MPAvtCutDialog={New:function(a){function f(a){0<parseInt(a.w)&&$(".previews").children("div").each(function(){var c=$(this),e=$(this).find("img"),c=c.width()/a.w;e.css({width:Math.round(c*g)+"px",height:Math.round(c*m)+"px",marginLeft:"-"+Math.round(c*a.x)+"px",marginTop:"-"+Math.round(c*a.y)+"px"})})}var c=MPTitleDialog.New(MPTemplate.Dialog.AvtCutDialog(a),"\u88c1\u526a\u5934\u50cf"),e=c.Content.find(".main");c.Content.find("#preview");c.offset_x=null;c.offset_y=null;c.size=null;c.onSuccess=null;
var k,g,m;$(".previews");e.Jcrop({onChange:f,onSelect:f,aspectRatio:1},function(){var a=this.getBounds();g=a[0];m=a[1];k=this});c.ButtonOK.click(function(){var e=a.width/$(".jcrop-holder").width(),f=k.tellScaled();c.offset_x=Math.round(f.x*e);c.offset_y=Math.round(f.y*e);c.size=Math.round(f.w*e);if(c.onSuccess)c.onSuccess();c.Close()});c.Content.find(".cancel").click(function(){c.Close()});return c}};MPFormat.User={};
MPFormat.User.New=function(a){return{Home:function(){return"/user/"+a.id},BigAvt:function(){return 1==a.default_head?imageHost+"/avt/0_big":imageHost+"/avt/"+a.id+"_big"},Avt:function(){return 1==a.default_head?imageHost+"/avt/0":imageHost+"/avt/"+a.id},Follower:function(){return"/user/"+a.id+"/follower"},Following:function(){return"/user/"+a.id+"/following"},Name:function(){return a.name},ID:function(){return a.id}}};MPObject.User={};
MPObject.User.Avt=function(a){return 1==a.default_head?imageHost+"/avt/0":imageHost+"/avt/"+a.id};MPObject.User.BigAvt=function(a){return 1==a.default_head?imageHost+"/avt/0_big":imageHost+"/avt/"+a.id+"_big"};MPObject.User.ID=function(a){return a.id};MPObject.User.Name=function(a){return a.name};MPObject.User.Actions={};MPObject.User.Actions.Follow=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/follow-user",{user_id:a},function(a){0==a.code&&f&&f()},"json")};
MPObject.User.Actions.UnFollow=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/unfollow-user",{user_id:a},function(a){0==a.code&&f&&f()},"json")};MPObject.User.Pages={};MPObject.User.Pages.Following=function(a){return"/user/"+a.id+"/following"};MPObject.User.Pages.FollowingPackage=function(a){return"/user/"+a.id+"/following/package"};MPObject.User.Pages.Follower=function(a){return"/user/"+a.id+"/follower"};MPObject.User.Pages.Image=function(a){return"/user/"+a.id+"/image"};
MPObject.User.Pages.Package=function(a){return"/user/"+a.id};MPObject.User.Pages.Home=function(a){return"/user/"+a.id};MPObject.User.Pages.Praise=function(a){return"/user/"+a.id+"/praise"};MPObject.User.Pages.PraisePackage=function(a){return"/user/"+a.id+"/praise/package"};MPObject.Image={};
MPObject.Image._info=function(a,f,c){var e={};switch(c?c:""){case "fw":e.url=imageHost+"/"+a.file.hash+"_fw"+f;e.width=f;e.height=Math.ceil(76*a.file.height/a.file.width);break;case "sq":e.url=imageHost+"/"+a.file.hash+"_sq"+f;e.width=f;e.height=f;break;default:e.url=imageHost+"/"+a.file.hash,e.width=a.file.width,e.height=a.file.height}return e};MPObject.Image.sq236=function(a){return MPObject.Image._info(a,236,"sq")};MPObject.Image.fw78=function(a){return MPObject.Image._info(a,78,"fw")};
MPObject.Image.fw236=function(a){return MPObject.Image._info(a,236,"fw")};MPObject.Image.fw658=function(a){return MPObject.Image._info(a,658,"fw")};MPObject.Image.fw75=function(a){return MPObject.Image._info(a,75,"sq")};MPObject.Image.fw236=function(a){return MPObject.Image._info(a,236,"sq")};MPObject.Image.Origin=function(a){return MPObject.Image._info(a)};
MPObject.Image.Resave=function(a,f,c,e){if(MPCheckLogin()){var k=MPCreateImageDialog.New(imageHost+"/"+f+"_fw236","\u8f6c\u5b58",c,!1,e);k.onOK=function(){$.post(host+"/ajax/resave",{image_id:a,package_id:k.packageId,description:k.description},function(a){if(0==a.code){var c=MPMessageBox.New(MPMessageBox.Icons.OK,"\u56fe\u7247\u8f6c\u5b58\u6210\u529f");c.onOK=function(){k.Close();c.Close()}}else MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")}}};
MPObject.Image.Edit=function(a,f,c,e,k){if(MPCheckLogin()){var g=MPCreateImageDialog.New(imageHost+"/"+f+"_fw236","\u7f16\u8f91\u56fe\u7247",c,!0,e);g.onOK=function(){$.post(host+"/ajax/edit-image",{id:a,package_id:g.packageId,description:g.description,source:g.source},function(a){if(0==a.code){var c=MPMessageBox.New(MPMessageBox.Icons.OK,"\u56fe\u7247\u7f16\u8f91\u6210\u529f");c.onOK=function(){g.Close();c.Close()}}else MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")};g.onDelete=function(){MPObject.Image.Delete(a,
k)}}};MPObject.Image.Delete=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/delete-image",{id:a},function(a){0==a.code?f&&f():MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")};MPObject.Image.Praise=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/praise-image",{image_id:a},function(a){f&&f()},"json")};MPObject.Image.UnPraise=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/unpraise-image",{image_id:a},function(a){f&&f()},"json")};MPObject.Package={};
MPObject.Package.Follow=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/follow-package",{package_id:a},function(a){0==a.code&&f&&f()},"json")};MPObject.Package.UnFollow=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/unfollow-package",{package_id:a},function(a){0==a.code&&f&&f()},"json")};MPObject.Package.Praise=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/praise-package",{package_id:a},function(a){0==a.code&&f&&f()},"json")};
MPObject.Package.Praise=function(a,f){MPCheckLogin()&&$.post(host+"/ajax/unpraise-package",{package_id:a},function(a){0==a.code&&f&&f()},"json")};MPTemplate.Widget={};MPTemplate.Page={};MPTemplate.Dialog={};
MPTemplate.Page.Search=function(a,f){var c;c='<div class="page-search">    <div class="bar">';c+='        <a class="item {1}" href="/search/{0}">\u56fe\u7247</a>'.Format(encodeURIComponent(MPData.keyword),""==MPData.sub1?"on":"");c+='        <a class="item {1}" href="/search/package/{0}">\u56fe\u5305</a>'.Format(encodeURIComponent(MPData.keyword),"package"==MPData.sub1?"on":"");c+='        <a class="item {1}" href="/search/user/{0}">\u7528\u6237</a>'.Format(encodeURIComponent(MPData.keyword),"user"==
MPData.sub1?"on":"");c+="    </div>";c+='    <div class="waterfall"></div>';return c+="</div>"};
MPTemplate.Page.User=function(a,f){var c=MPObject.User,e;e='<div class="widget-userinfo">        <div class="inner">';e+='            <div class="info">';e+='                <img class="avt" src="{0}" />'.Format(c.BigAvt(a));e+='                <div class="right">';e+='                    <div class="username">{0}</div>'.Format(c.Name(a));e+="                </div>";e+='                <div class="clear"></div>';e+='                <div class="actions">';a.id!=MPData.user.id&&(e+=MPTemplate.Widget.User.Buttons.Follow(a));
e+="                </div>";e+="            </div>";e+='            <div class="tabs">';e+='                <a class="tab {1}" href="{2}">{0}\u56fe\u5305</a>'.Format(a.packages_count,""==MPData.sub1?" on":"",c.Pages.Home(a));e+='                <a class="tab {1}" href="{2}">{0}\u56fe\u7247</a>'.Format(a.images_count,"image"==MPData.sub1?" on":"",c.Pages.Image(a));e+='                <a class="tab {1}" href="{2}">{0}\u8d5e</a>'.Format(a.praise_count,"praise"==MPData.sub1?" on":"",c.Pages.Praise(a));
e+='                <a class="tab {2}" href="{1}">{0}\u5173\u6ce8</a>'.Format(a.follows_count,c.Pages.Following(a),"following"==MPData.sub1?" on":"");e+='                <a class="tab {2}" href="{1}">{0}\u7c89\u4e1d</a>'.Format(a.followers_count,c.Pages.Follower(a),"follower"==MPData.sub1?" on":"");e+="            </div>";e+="        </div>";"following"==MPData.sub1&&(e+='        <div class="outer">',e+='            <div class="list">',e+='                <a class="item{1}" href="{0}">\u7528\u6237</a>'.Format(c.Pages.Following(a),
""==MPData.sub2?" on":""),e+='                <a class="item{1}" href="{0}">\u56fe\u5305</a>'.Format(c.Pages.FollowingPackage(a),"package"==MPData.sub2?" on":""),e+="            </div>",e+="        </div>        ");e+='<div class="waterfall"></div>';return e+="    </div>"};
MPTemplate.Page.Setting=function(a,f){var c;c='<div class="page-setting">    <ul class="left">';c+='        <li><a href="{0}/setting">\u57fa\u672c\u4fe1\u606f</a></li>'.Format(host);c+='        <li><a href="{0}/setting/password">\u66f4\u6539\u5bc6\u7801</a></li>'.Format(host);c+="    </ul>";c+='    <div class="right">';""==MPData.sub1?(c+='        <div class="content">',c+='            <div class="line">',c+="                <h2>\u57fa\u672c\u4fe1\u606f</h2>",c+="            </div>",c+='            <div class="line">',
c+="                <h3>\u90ae\u7bb1\u5730\u5740</h3>",c+="                <div>",c+='                    <input type="text" readonly="readonly" value="{0}" />'.Format(MPData.basic_email),c+="                </div>",c+="            </div>",c+='            <div class="line">',c+="                <h3>\u6635\u79f0</h3>",c+="                <div>",c+='                    <input type="text" value="{0}" id="username" />'.Format(MPData.user.name),c+="                </div>",c+="            </div>",c+='            <div class="line">',
c+="                <h3>\u81ea\u6211\u4ecb\u7ecd</h3>",c+="                <div>",c+='                    <textarea id="description">{0}</textarea>'.Format(MPData.basic_description),c+="                </div>",c+="            </div>",c+='            <div class="line">',c+="                <h3>\u5934\u50cf</h3>",c+="                <div>",c+='                    <div class="avt">',c+='                         <img src="{0}" />'.Format(MPObject.User.BigAvt(MPData.user)),c+="                    </div>",
c+='                    <div class="upload">\u4e0a\u4f20\u5934\u50cf</div>',c+='                    <div class="clear"></div>',c+="                </div>",c+="            </div>",c+='            <div class="actions">',c+='                <div class="submit">\u786e\u5b9a</div>',c+="            </div>",c+='            <div class="clear"></div>',c+="        </div>"):"password"==MPData.sub1&&(c+='        <div class="content">',c+='            <div class="line">',c+="                <h2>\u4fee\u6539\u5bc6\u7801</h2>",
c+="            </div>",c+='            <div class="line">',c+="                <h3>\u539f\u5bc6\u7801</h3>",c+="                <div>",c+='                    <input type="password" id="oldpassword" value="" />',c+="                </div>",c+="            </div>",c+='            <div class="line">',c+="                <h3>\u65b0\u5bc6\u7801</h3>",c+="                <div>",c+='                    <input type="password" id="newpassword1" />',c+="                </div>",c+="            </div>",c+=
'            <div class="line">',c+="                <h3>\u786e\u8ba4\u65b0\u5bc6\u7801</h3>",c+="                <div>",c+='                    <input type="password" id="newpassword" />',c+="                </div>",c+="            </div>",c+='            <div class="actions">',c+='                <div class="submit">\u786e\u5b9a</div>',c+="            </div>",c+='            <div class="clear"></div>',c+="        </div>");c+="    </div>";return c+="</div>"};
MPTemplate.Page.Package=function(a,f){var c;c='<div class="page-package"><div class="inner">';c+='    <div class="bar1">';c+='        <h1 class="title">{0}</h1>'.Format(a.title);c+='        <div class="action-btns">';c=a.user.id!=MPData.user.id?c+MPTemplate.Widget.Package.Buttons.Follow(a,{"class":"btn"}):c+MPTemplate.Widget.Package.Buttons.Edit(a,{"class":"btn"});c+="        </div>";c+='        <div class="clear"></div>';c+='        <div class="description">{0}</div>'.Format(a.description);c+="    </div>";
var e=MPObject.User;c+='    <div class="bar2">';c+='        <div class="user">';c+='             <a href="{0}"><img src="{1}" /></a>'.Format(e.Pages.Home(a.user),e.Avt(a.user));c+='            <a class="user-name" href="{0}">{1}</a>'.Format(e.Pages.Home(a.user),e.Name(a.user));c+="        </div>";c+='        <div class="tabs">';c+='            <div class="tab count">{0}\u56fe\u7247</div>'.Format(a.imageCount);c+='            <div class="tab follower">{0}\u4eba\u5173\u6ce8</div>'.Format(a.followerCount);
c+="        </div>";c+="    </div>";c+="    </div>";c+='     <div class="waterfall"></div>';return c+="</div>"};MPTemplate.Page.From=function(a,f){var c;c='<div class="page-from">'+"    <h1>\u6765\u81ea{0}\u7684\u56fe\u7247</h1>".Format(MPData.host);c+='    <div class="waterfall"></div>';return c+="</div>"};
MPTemplate.Widget.Package=function(a,f){f=f?f:MPTemplate.Widget.Package.Options.BigButton;var c;c='<div class="widget-package">'+'    <a class="previews" href="{0}">'.Format(host+"/package/"+a.id);if(0!=a.thumbs.length){c+='        <div class="thumbs">';for(var e=a.thumbs.length,k=0;k<e;k++)c=0==k?c+' <img class="cover" src="{0}" />'.Format(imageHost+"/"+a.thumbs[0].file.hash+"_sq236"):c+' <img class="thumb" src="{0}" />'.Format(imageHost+"/"+a.thumbs[k].file.hash+"_sq75");c+="        </div>"}c+=
'        <div class="borders">';c+='            <div class="cover-border"></div>';c+='            <div class="thumb-border"></div>';c+='            <div class="thumb-border"></div>';c+='            <div class="thumb-border"></div>';c+="        </div>";c+='        <div class="over{0}">'.Format(0==a.thumbs.length?" empty-package":"");c+="            <h3>{0}</h3>".Format(a.title);c+="            <h4>{0}</h4>".Format(a.description);c+="        </div>";c+="    </a>";e=MPFormat.User.New(a.user);c+='    <div class="actions">';
if(a.user.id==MPData.user.id)c+='<div class="btn2 edit" data-id="{0}"></div>'.Format(a.id);else switch(f){case MPTemplate.Widget.Package.Options.SmallButton:c+='        <a class="avt" href="{0}">'.Format(e.Home());c+='            <img src="{0}" />'.Format(e.Avt());c+="        </a>";c+='        <a class="username" href="{0}" >{1}</a>'.Format(e.Home(),e.Name);c=!0===a.followed?c+'        <div class="btn unfollow" data-id="{0}"></div>'.Format(a.id):c+'        <div class="btn follow" data-id="{0}"></div>'.Format(a.id);
break;case MPTemplate.Widget.Package.Options.BigButton:c=1==a.followed?c+'        <div class="btn2 unfollow" data-id="{0}"></div>'.Format(a.id):c+'        <div class="btn2 follow" data-id="{0}"></div>'.Format(a.id)}return c+="</div>"};MPTemplate.Widget.Package.Options={SmallButton:0,BigButton:1};MPTemplate.Widget.Package.Buttons={};
MPTemplate.Widget.Package.Buttons.Edit=function(a,f){null==f&&(f={});return'<div class="package-edit {0}" data-id="{1}" data-title="{2}" data-description="{4}">\u7f16\u8f91</div>'.Format(f.class,a.id,a.title,a.description)};MPTemplate.Widget.Package.Buttons.Follow=function(a,f){null==f&&(f={});return'<div class="{0} {1}" data-id="{2}" title="{3}"></div>'.Format(1==a.followed?"package-unfollow":"package-follow",f.class,a.id,1==a.followed?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8")};
MPTemplate.Widget.Package.Buttons.Praise=function(a,f){null==f&&(f={});return'<div class="{0} {1}" data-id="{2}" title="{3}"></div>'.Format(1==a.praised?"package-unpraise":"package-praise",f.class,a.id,1==a.praised?"\u53d6\u6d88\u8d5e":"\u8d5e")};
MPTemplate.Widget.Image=function(a,f){f=f?f:MPTemplate.Widget.Image.Options.ShowUser;var c=MPFormat.User.New(a.user),e;e=""+'<div class="widget-image" data-id="{0}">'.Format(a.id);e+='    <div class="actions">         <div class="left">';e+='             <div class="resave" title="\u8f6c\u5b58\u5230\u6211\u7684\u56fe\u5305" data-id="{0}" data-hash="{1}" data-description="{2}">\u8f6c\u5b58</div>'.Format(a.id,a.file.hash,a.description);e+="         </div>";a.user.id==MPData.user.id?(e+='<div class="right">',
e+='    <div class="edit" title="\u7f16\u8f91" data-id="{0}" data-hash="{1}" data-description="{2}" data-packageid="{3}" data-source="{4}" >\u7f16\u8f91</div>'.Format(a.id,a.file.hash,a.description,a.package.id,a.source)):(e+='<div class="right">',e+='    <div class="praise" title="\u8d5e" data-id="{0}" ></div>'.Format(a.id));e+="</div>";e+="    </div>";e+='    <a class="img" href="{0}">'.Format("/image/"+a.id);e+='        <img src="{0}" width="236" height="{1}" />'.Format(imageHost+"/"+a.file.hash+
"_fw236",Math.ceil(236*a.file.height/a.file.width));e+='        <div class="cover"></div>';e+="    </a>";e+='    <div class="description">{0}</div>'.FormatNoEncode(MPWidget.Image.Description(a.description));e+='    <div class="info">';f==MPTemplate.Widget.Image.Options.ShowUser?(e+='        <a class="avt" href="{0}">'.Format(c.Home()),e+='            <img src="{0}" />'.Format(c.Avt()),e+="        </a>",e+='        <div class="text">',e+='            <div class="line"><a class="user-name" href="{0}">{1}</a><span>\u6536\u96c6\u5230</span></div>'.Format(c.Home(),
c.Name()),e+='            <div class="line"><a class="package-title" href="{0}">{1}</a></div>'.Format("/package/"+a.package.id,a.package.title),e+="        </div>"):f==MPTemplate.Widget.Image.Options.ShowSource&&(e+='<a class="source" href="/from/{0}">{0}</a>'.Format(a.host));e+="    </div>";return e+="</div>"};MPTemplate.Widget.Image.Options={ShowUser:0,ShowSource:1};
MPTemplate.Widget.Comment=function(a,f){var c;c='<div class="comment">'+'<a class="avt" href="{0}">'.Format(MPObject.User.Pages.Home(a.user));c+=' <img src="{0}" />'.Format(MPObject.User.Avt(a.user));c+="</a>";c+='<a class="name">{0}</a>'.Format(MPObject.User.Name(a.user));c+='<div class="text">{0}</div>'.FormatNoEncode(mentionConvert(a.text,a.mentions));return c+="</div>"};
function mentionConvert(a,f){for(var c="",e=0,k=0,g=0;g<f.length;g++)k=f[g].pos,c+=a.substring(e,k),e=k++,k+=f[g].len,c+='<a href="{0}">'.Format("/user/"+f[g].user_id),c=c+a.substring(e,k)+"</a>",e=k++;k<a.length&&(k=a.length,c+=a.substring(e,k));return c}
MPTemplate.Widget.Frame=function(){var a;a='<div class="widget-frame">    <div class="header">';a+='        <div class="wrapper">';a+='            <div class="menu-bar">';a+='                <div class="left">';a+='                    <div class="nav home-nav">';a+='                        <a class="nav-link" href="{0}">\u4e3b\u9875</a>'.Format(host);a+="                    </div>";a+='                    <div class="nav search"></div>';a+="                </div>";a+='                <div class="right">';
if(0==MPData.user.id)a+='<div id="login">\u767b\u5f55</div>',a+='<div id="signup">\u6ce8\u518c</div>';else{strVar1="";strVar1+='<div class="nav add-nav">';strVar1+='    <div class="nav-link" title="\u6dfb\u52a0">';strVar1+="    </div>";strVar1+='    <div class="hide-menu"></div>';strVar1+="</div>";strVar1+='<div class="nav user-nav">';strVar1+='    <a class="nav-link" href="{0}">';strVar1+='        <img class="avt" src="{1}" />';strVar1+='        <div class="arrow"></div>';strVar1+="    </a>";strVar1+=
'    <div class="hide-menu">';strVar1+='        <a class="item" href="{0}">\u6211\u7684\u4e3b\u9875</a>';strVar1+='        <div class="seperator"></div>';strVar1+='        <a class="item" href="{2}">\u6211\u7684\u5173\u6ce8</a>';strVar1+='        <a class="item" href="{3}">\u6211\u7684\u7c89\u4e1d</a>';strVar1+='        <div class="seperator"></div>';strVar1+='        <a class="item" href="/setting">\u8bbe\u7f6e</a>';strVar1+='        <div class="item" id="logout">\u9000\u51fa</div>';strVar1+="    </div>";
strVar1+="</div>";var f=MPFormat.User.New(MPData.user);a+=strVar1.Format(f.Home(),f.Avt(),f.Following(),f.Follower())}a+="                </div>";a+="            </div>";a+="        </div>";a+="    </div>";a+='    <div class="wrapper">';a+='        <div class="body"></div>';a+="    </div>";return a+="</div>"};
MPTemplate.Widget.ImageView=function(a,f){var c=MPFormat.User.New(a.user),e;e='<div class="image-view">    <div class="main">';e+='        <div class="image-piece piece">';e+='            <div class="tool-bar">';e+='                <div class="resave btn" data-id="{0}" data-hash="{1}" data-descripition="{2}">\u8f6c\u5b58</div>'.Format(a.id,a.file.hash,a.description);MPData.user.id==a.user.id?(e+='                <div class="edit btn" data-id="{0}" data-hash="{1}" data-descripition="{2}" data-source="{3}" data-packageid="{4}">\u7f16\u8f91</div>'.Format(a.id,
a.file.hash,a.description,a.source,a.package.id),e+='                <div class="delete btn" data-id="{0}" data-hash="{1}">\u5220\u9664</div>'.Format(a.id,a.file.hash)):e+='<div class="{0} btn"><em></em></div>'.Format(1==a.praised?"image-unpraise":"image-praise");e+="            </div>";e+='            <div class="image">';e+='                <img src="{0}" alt="{1}" />'.Format(imageHost+"/"+a.file.hash+"_fw658",a.description.substring(0,20).replace('"',""));e+="            </div>";""!=a.host&&(e+=
'            <div class="bar-bottom">',e+='                <div class="source"><span>\u6765\u81ea</span><a href="{0}">{1}</a></div>'.Format(a.source,a.host),e+='                <div class="clear"></div>',e+="            </div>");e+="        </div>";e+='          <div class="info-piece piece">';e+='                <div class="info">';e+='                    <a class="avt" href="{0}">'.Format(c.Home());e+='                        <img src="{0}" />'.Format(c.Avt());e+="                    </a>";e+='                    <div class="info-main">';
e+='                        <a class="name" href="{1}">{0}</a>'.Format(c.Name(),c.Home());e+="                    </div>";e+='                    <div class="sub">';e+="                        \u6536\u96c6\u4e8e {0}".Format(a.time);e+="                    </div>";e+="                </div>";""!=a.description&&(e+='                <div class="description">{0}</div>'.Format(a.description));e+='                <div class="comments">';for(var k=a.comments.length,g=0;g<k;g++)e+=MPTemplate.Widget.Comment(a.comments[g]);
1==MPCheckLogin(!1)&&(e+='                <div class="add-comment">',e+='                    <a class="avt" href="{0}">'.Format(c.Home()),e+='                        <img src="{0}" />'.Format(c.Avt()),e+="                    </a>",e+='                    <div class="new-comment">',e+='                        <textarea placeholder="\u8bf7\u5728\u8fd9\u91cc\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9" ></textarea>',e+="                    </div>",e+='                    <div class="submit">\u6dfb\u52a0\u8bc4\u8bba</div>',
e+="                </div>",e+='                <div class="clear"></div>');e+="            </div>";e+="        </div>";e+="    </div>";e+='    <div class="side">';e+='        <div class="package-piece piece">';e+='            <div class="info">';e+='                <img class="avt" src="{0}" />'.Format(c.Avt());e+='                <a class="username" href="{1}">{0}</a>'.Format(c.Name(),"/user/"+c.ID());e+='                <a class="title" href="{1}">{0}</a>'.Format(a.package.title,"/package/"+a.package.id);
e+="            </div>";e+='            <div class="images">';e+='                <div class="image-waterfall">';e+="                </div>";e+="            </div>";e+="        </div>";e+='        <div class="ad-piece piece">';e+="        </div>";e+='         <div class="from-piece piece">';e+='             <a href="/from/{0}">';e+='                     <div class="text">\u66f4\u591a\u6765\u81ea</div>';e+='                     <div class="host"></div>';e+='                     <div class="thumbs">';
e+="                     </div>";e+='                     <div class="clear"></div>';e+="             </a>";e+="         </div>";e+="    </div>";e+='    <div class="bottom"></div>';return e+="</div>"};MPTemplate.Widget.Link=function(a,f){var c,e;0==a.indexOf("http://")?(c="link",e="\u7f51\u9875\u94fe\u63a5"):0==a.indexOf("magnet:?xt=urn:btih:")&&(c="magnet",e="\u78c1\u529b\u94fe");'<a class="widget-link" href="{0}">'.Format(a);'    <div class="icon {0}"></div>'.Format(c);'    <div class="text">{0}</div>'.Format(e)};
MPTemplate.Widget.User=function(a,f){var c;c='<div class="widget-user">'+'    <a class="avt" href="/user/{0}">'.Format(a.id);c+='        <img src="{0}" />'.Format(MPObject.User.BigAvt(a));c+="    </a>";c+='    <a class="name">{0}</a>'.Format(MPObject.User.Name(a));c+='    <div class="counts">';c+='        <a class="item" href="{1}">{0}\u56fe\u7247</a>'.Format(a.images_count,MPObject.User.Pages.Image(a));c+='        <a class="item" href="{1}">{0}\u56fe\u5305</a>'.Format(a.packages_count,MPObject.User.Pages.Package(a));
c+="    </div>";c+='    <div class="actions {0}" data-id="{1}"></div>'.Format(a.followed?"unfollow":"follow",a.id);return c+="</div>"};MPTemplate.Widget.User.Buttons={};MPTemplate.Widget.User.Buttons.Follow=function(a,f){null==f&&(f={});return'<div class="{0} {4}" data-id="{1}" title="\u5173\u6ce8{2}"></div>'.Format(a.followed?"user-unfollow":"user-follow",a.id,a.name,f.class)};
MPTemplate.Dialog.AvtCutDialog=function(a,f){var c={file:a},e;e='<div class="dialog-mask">    <div class="dialog-box">';e+='        <div class="dialog-title">';e+='            <span class="text">\u56fe\u7247\u88c1\u526a</span>';e+='            <div class="dialog-close"></div>';e+="        </div>";e+='        <div class="dialog-content">';e+='            <div class="crop-dialog">';var k=400/a.width,g=300/a.height;1<k&&(k=1);1<g&&(g=1);g=k>g?g:k;k=Math.ceil(a.width*g);g=Math.ceil(a.height*g);e+='                <div class="img" style="left:{0}px;top:{1}px;height:{2}px;width:{3}px">'.Format(Math.ceil((400-
k)/2),Math.ceil((300-g)/2),g,k);e+='                    <img class="main" src="{0}" width="{1}" height="{2}"/>'.Format(MPObject.Image.fw658(c).url,k,g);e+="                </div>";e+='                <div class="previews">';e+='                    <div class="big">';e+='                        <img src="{0}" />'.Format(MPObject.Image.fw658(c).url);e+="                    </div>";e+='                    <div class="normal">';e+='                        <img src="{0}"/>'.Format(MPObject.Image.fw658(c).url);
e+="                    </div>";e+="                </div>";e+='                <div class="clear"></div>';e+="            </div>";e+="        </div>";e+='        <div class="dialog-btns">';e+='            <div class="ok">\u786e\u8ba4</div>';e+='            <div class="cancel">\u53d6\u6d88</div>';e+="        </div>";e+="    </div>";return e+="</div>"};MPWidget.Package={};MPWidget.Image={};MPWidget.Frame={};
MPWidget.Frame.New=function(){var a=$(MPTemplate.Widget.Frame()),f=a.find(".header .search");a.Body=a.find(".body");MPWidget.Search.New();f.append(MPWidget.Search.New());if(0==MPData.user.id){var f=a.find("#login"),c=a.find("#signup");f.click(function(){MPLoginDialog.New().onSuccess=function(){location.reload()}});c.click(function(){MPSignUpDialog.New()})}else{var f=a.find(".user-nav"),c=f.find(".hide-menu"),e=a.find("#logout");MPMenu(f,c);e.click(function(){null==$.cookie("login")?MPMessageBox.New(MPMessageBox.Icons.Error,
"\u8bf7\u5148\u767b\u5f55"):$.post(host+"/ajax/logout",{},function(a){0==a.code&&($.cookie("login",null),location.href=host)},"json")});a.find(".add-nav").click(function(){var a=MPUploadDialog.New("\u4e0a\u4f20\u56fe\u7247");a.onSuccess=function(c){var e=MPCreateImageDialog.New(imageHost+"/"+c.hash+"_fw236","\u4e0a\u4f20\u56fe\u7247",a.filename);e.onOK=function(){$.post(host+"/ajax/create-image",{package_id:e.packageId,file_hash:c.hash,description:MPHtmlEncode(e.description)},function(a){0==a.code?
(MPMessageBox.New(MPMessageBox.Icons.OK,"\u4e0a\u4f20\u56fe\u7247\u6210\u529f"),e.Close()):MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")}}})}return a};MPWidget.Search={};
MPWidget.Search.New=function(){var a;a='<div class="widget-search">    <input type="text" class="keyword" autocomplete="on" placeholder="\u641c\u7d22" />';a+='    <div class="go"></div>';a+="</div>";a=$(a);var f=a.find("input");a.find(".go").click(function(){var a=f.val();location.href="/search/"+encodeURIComponent(a)});return a};
MPWidget.Image.Description=function(a){a=MPHtmlEncode(a);return a.replace(/(#.*#)/g,function(a){var c=$.trim(a.substring(1,a.length-1));return""==c?a:'<a href="/search/{0}">{1}</a>'.FormatNoEncode(encodeURIComponent(c),a)})};MPWidget.Image.New=function(a,f){return $(MPTemplate.Widget.Image(a,f))};
MPWidget.Image.Bind=function(){$(document).on("click",".widget-image .edit",function(){var a=$(this),f=a.attr("data-id"),c=a.attr("data-hash"),a=a.attr("data-description");MPObject.Image.Edit(f,c,a,"")}).on("click",".widget-image .resave",function(){var a=$(this),f=a.attr("data-id"),c=a.attr("data-hash"),a=a.attr("data-description");MPObject.Image.Resave(f,c,a,"")}).on("click",".widget-image .praise",function(){var a=$(this),f=a.attr("data-id");MPObject.Image.Praise(f,function(){a.removeClass("praise");
a.addClass("unpraise")})}).on("click",".widget-image .unpraise",function(){var a=$(this),f=a.attr("data-id");MPObject.Image.UnPraise(f,function(){a.removeClass("unpraise");a.addClass("praise")})}).on("click",".widget-image a.img",function(a){a.preventDefault();a=$(".widget_window");if(0==a.length){a=MPWidget.Window.New();var f=$("body");a.onClose=function(){f.removeAttr("style")};$("body").append(a).css("overflow","hidden")}a.Init($(this).parents(".widget-image"))}).on("mouseenter",".widget-image",
function(){$(this).find(".actions").show()}).on("mouseleave",".widget-image",function(){$(this).find(".actions").hide()})};MPWidget.Package.New=function(a,f){return $(MPTemplate.Widget.Package(a,f))};
MPWidget.Package.Bind=function(){$(document).on("click",".widget-package .edit",function(){var a=$(this).attr("data-id");location.href="/package/"+a+"/edit"}).on("click",".widget-package .follow",function(){var a=$(this),f=a.attr("data-id");MPObject.Package.Follow(f,function(){a.removeClass("follow");a.addClass("unfollow");MPMessageBox.New(MPMessageBox.Icons.OK,"\u5173\u6ce8\u6210\u529f!")})}).on("click",".widget-package .unfollow",function(){var a=$(this);MPMessageBox.New(MPMessageBox.Icons.Warn,
"\u786e\u8ba4\u8981\u53d6\u6d88\u5173\u6ce8?").onOK=function(){var f=a.attr("data-id");MPObject.Package.UnFollow(f,function(){a.removeClass("unfollow");a.addClass("follow")})}})};MPWidget.ImageView={};
MPWidget.ImageView.New=function(a){var f=$(MPTemplate.Widget.ImageView(a));f.Run=function(){var e=MPWaterFall.New(f.find(".images"),f.find(".image-waterfall"),3,76,1,1,1,1,!1),k=0;e.onBottom=function(){e.BeginUpdate();$.getJSON("/package/"+a.package.id,{ajax:!0,simple:!0,max:k},function(a){k=e.Push(a,c,null,"id");e.EndUpdate()})};e.onBottom();f.find(".ad-piece.piece").append(MPPage.ad);""!=a.host&&$.getJSON("/from/"+a.host,{ajax:!0,limit:3}).success(function(c){var e=c.length;if(0!=e){f.find(".from-piece").show();
f.find(".from-piece .host").text(a.host);var k=f.find(".from-piece .thumbs");k.empty();for(var t=0;t<e;t++){var y='<img src="{0}" class="thumb"/>'.Format(MPObject.Image.sq236(c[t]).url);k.append(y)}}})};var c={New:function(a){var c;c=""+'<a class="image" href="{0}" data-id="{1}">'.Format("/image/"+a.id,a.id);c+='     <img src="{0}" width="76" height="{1}"/>'.Format(imageHost+"/"+a.file.hash+"_fw78",Math.ceil(76*a.file.height/a.file.width));c+='     <div class="cover"></div></a>';return $(c)}};return f};
MPWidget.ImageView.Bind=function(){$(document).on("click",".image-view .resave",function(){var a=$(this),f=a.attr("data-id"),a=a.attr("data-hash");MPObject.Image.Resave(f,a)}).on("click",".image-view .edit",function(){var a=$(this),f=a.attr("data-id"),a=a.attr("data-hash");MPObject.Image.Edit(f,a)}).on("click",".image-view .delete",function(){var a=$(this).attr("data-id");MPObject.Image.Delete(a)}).on("click",".image-view .submit",function(){var a=$(".image-view .resave").attr("data-id"),f=$(".new-comment textarea").val();
""==$.trim(f)?MPMessageBox.New(MPMessageBox.Icons.OK,"\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9"):$.post(host+"/ajax/add-comment",{text:f,image_id:a},function(a){0==a.code?$(".image-view .comments").prepend($(MPTemplate.Widget.Comment(a.comment))):MPMessageBox.New(MPMessageBox.Icons.Error,a.mag)},"json")})};MPWidget.UserInfo={};MPWidget.UserInfo.New=function(){var a=$(MPTemplate.Page.User(MPData.page_user));a.waterfall=MPWaterFall.New($(window),a.find(".waterfall"),4,236,6,6,6,6);return a};
MPWidget.UserInfo.Bind=function(){$(document).on("click",".widget-userinfo .user-follow",function(){var a=$(this),f=a.attr("data-id");MPObject.User.Actions.Follow(f,function(){a.removeClass("user-follow");a.addClass("user-unfollow")})}).on("click",".widget-userinfo .user-unfollow",function(){var a=$(this),f=a.attr("data-id");MPObject.User.Actions.UnFollow(f,function(){a.removeClass("user-unfollow");a.addClass("user-follow")})})};MPWidget.User={};MPWidget.User.New=function(a){return $(MPTemplate.Widget.User(a))};
MPWidget.User.Bind=function(){$(document).on("click",".widget-user .follow",function(){var a=$(this),f=a.attr("data-id");MPObject.User.Actions.Follow(f,function(){a.removeClass("follow");a.addClass("unfollow")})}).on("click","widget-user .unfollow",function(){var a=$(this),f=a.attr("data-id");MPObject.User.Actions.UnFollow(f,function(){a.removeClass("unfollow");a.addClass("follow")})})};MPWidget.Window={};
MPWidget.Window.New=function(a){function f(a){a.preventDefault();a=$(this).attr("data-id");g(a)}function c(){m.Init(H.next(".widget-image"))}function e(){m.Init(H.prev(".widget-image"))}function k(){m.remove();if(null!=m.onClose)m.onClose()}function g(a){$.getJSON("/image/"+a+"?ajax=",function(a){y.empty();a=MPWidget.ImageView.New(a);y.append(a);a.Run()})}var m=null;if(void 0!=a)m=$(a);else{a='<div class="widget-window">     <div class="container">';a+='         <div class="close"></div>';a+='         <div class="prev"></div>';
a+='         <div class="next"></div>';a+='         <div class="viewer"></div>';a+="      </div>";a+="</div>";var m=$(a),r=m.find(".next"),t=m.find(".prev");a=m.find(".close");var y=m.find(".viewer"),H=null;r.click(c);t.click(e);a.click(k);m.on("click",".image-waterfall .image",f)}m.Init=function(a){H=a;0==a.next(".widget-image").length?r.hide():r.show();0==a.prev(".widget-image").length?t.hide():t.show();a=a.attr("data-id");g(a)};m.onClose=null;return m};
$(function(){MPWidget.Image.Bind();MPWidget.Package.Bind();MPWidget.User.Bind();MPWidget.ImageView.Bind();MPWidget.UserInfo.Bind();MPPage={};MPPage.ad=$("#tanxssp_con_mm_26054915_7856098_30982792")});