(function(a,e){function b(c){var h=c.length,a=f.type(c);return f.isWindow(c)?!1:1===c.nodeType&&h?!0:"array"===a||"function"!==a&&(0===h||"number"==typeof h&&0<h&&h-1 in c)}function d(c){var h=A[c]={};return f.each(c.match(V)||[],function(c,a){h[a]=!0}),h}function g(c,h,a,b){if(f.acceptData(c)){var d,m,l=f.expando,r="string"==typeof h,g=c.nodeType,n=g?f.cache:c,q=g?c[l]:c[l]&&l;if(q&&n[q]&&(b||n[q].data)||!r||a!==e)return q||(g?c[l]=q=ga.pop()||f.guid++:q=l),n[q]||(n[q]={},g||(n[q].toJSON=f.noop)),("object"==typeof h||"function"==typeof h)&&(b?n[q]=f.extend(n[q],h):n[q].data=f.extend(n[q].data,h)),d=n[q],b||(d.data||(d.data={}),d=d.data),a!==e&&(d[f.camelCase(h)]=a),r?(m=d[h],null==m&&(m=d[f.camelCase(h)])):m=d,m}}function k(c,h,a){if(f.acceptData(c)){var b,e,d,l=c.nodeType,r=l?f.cache:c,g=l?c[f.expando]:f.expando;if(r[g]){if(h&&(d=a?r[g]:r[g].data)){f.isArray(h)?h=h.concat(f.map(h,f.camelCase)):h in d?h=[h]:(h=f.camelCase(h),h=h in d?[h]:h.split(" "));b=0;for(e=h.length;e>b;b++)delete d[h[b]];if(!(a?s:f.isEmptyObject)(d))return}(a||(delete r[g].data,s(r[g])))&&(l?f.cleanData([c],!0):f.support.deleteExpando||r!=r.window?delete r[g]:r[g]=null)}}}function w(c,h,a){if(a===e&&1===c.nodeType){var b="data-"+h.replace(Oa,"-$1").toLowerCase();if(a=c.getAttribute(b),"string"==typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:S.test(a)?f.parseJSON(a):a}catch(d){}f.data(c,h,a)}else a=e}return a}function s(c){for(var h in c)if(("data"!==h||!f.isEmptyObject(c[h]))&&"toJSON"!==h)return!1;return!0}function u(){return!0}function B(){return!1}function v(c,h){do c=c[h];while(c&&1!==c.nodeType);return c}function p(c,h,a){if(h=h||0,f.isFunction(h))return f.grep(c,function(c,f){return!!h.call(c,f,c)===a});if(h.nodeType)return f.grep(c,function(c){return c===h===a});if("string"==typeof h){var b=f.grep(c,function(c){return 1===c.nodeType});if(Hb.test(h))return f.filter(h,b,!a);h=f.filter(h,b)}return f.grep(c,function(c){return 0<=f.inArray(c,h)===a})}function z(c){var h=nb.split("|");c=c.createDocumentFragment();if(c.createElement)for(;h.length;)c.createElement(h.pop());return c}function x(c){var h=c.getAttributeNode("type");return c.type=(h&&h.specified)+"/"+c.type,c}function n(c){var h=Ib.exec(c.type);return h?c.type=h[1]:c.removeAttribute("type"),c}function O(c,h){for(var a,b=0;null!=(a=c[b]);b++)f._data(a,"globalEval",!h||f._data(h[b],"globalEval"))}function K(c,h){if(1===h.nodeType&&f.hasData(c)){var a,b,e;b=f._data(c);var d=f._data(h,b),l=b.events;if(l)for(a in delete d.handle,d.events={},l)for(b=0,e=l[a].length;e>b;b++)f.event.add(h,a,l[a][b]);d.data&&(d.data=f.extend({},d.data))}}function F(c,h){var a,b,d=0,m=typeof c.getElementsByTagName!==Z?c.getElementsByTagName(h||"*"):typeof c.querySelectorAll!==Z?c.querySelectorAll(h||"*"):e;if(!m)for(m=[],a=c.childNodes||c;null!=(b=a[d]);d++)!h||f.nodeName(b,h)?m.push(b):f.merge(m,F(b,h));return h===e||h&&f.nodeName(c,h)?f.merge([c],m):m}function na(c){$a.test(c.type)&&(c.defaultChecked=c.checked)}function G(c,h){if(h in c)return h;for(var a=h.charAt(0).toUpperCase()+h.slice(1),f=h,b=ob.length;b--;)if(h=ob[b]+a,h in c)return h;return f}function Q(c,h){return c=h||c,"none"===f.css(c,"display")||!f.contains(c.ownerDocument,c)}function ba(c,h){for(var a,b,e,d=[],l=0,r=c.length;r>l;l++)b=c[l],b.style&&(d[l]=f._data(b,"olddisplay"),a=b.style.display,h?(d[l]||"none"!==a||(b.style.display=""),""===b.style.display&&Q(b)&&(d[l]=f._data(b,"olddisplay",ia(b.nodeName)))):d[l]||(e=Q(b),(a&&"none"!==a||!e)&&f._data(b,"olddisplay",e?a:f.css(b,"display"))));for(l=0;r>l;l++)b=c[l],b.style&&(h&&"none"!==b.style.display&&""!==b.style.display||(b.style.display=h?d[l]||"":"none"));return c}function D(c,h,a){return(c=Jb.exec(h))?Math.max(0,c[1]-(a||0))+(c[2]||"px"):h}function N(c,h,a,b,e){h=a===(b?"border":"content")?4:"width"===h?1:0;for(var d=0;4>h;h+=2)"margin"===a&&(d+=f.css(c,a+Ba[h],!0,e)),b?("content"===a&&(d-=f.css(c,"padding"+Ba[h],!0,e)),"margin"!==a&&(d-=f.css(c,"border"+Ba[h]+"Width",!0,e))):(d+=f.css(c,"padding"+Ba[h],!0,e),"padding"!==a&&(d+=f.css(c,"border"+Ba[h]+"Width",!0,e)));return d}function q(c,h,a){var b=!0,d="width"===h?c.offsetWidth:c.offsetHeight,e=Ca(c),l=f.support.boxSizing&&"border-box"===f.css(c,"boxSizing",!1,e);if(0>=d||null==d){if(d=Da(c,h,e),(0>d||null==d)&&(d=c.style[h]),Va.test(d))return d;b=l&&(f.support.boxSizingReliable||d===c.style[h]);d=parseFloat(d)||0}return d+N(c,h,a||(l?"border":"content"),b,e)+"px"}function ia(c){var h=y,a=pb[c];return a||(a=da(c,h),"none"!==a&&a||(Pa=(Pa||f("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e").css("cssText","display:block !important")).appendTo(h.documentElement),h=(Pa[0].contentWindow||Pa[0].contentDocument).document,h.write("\x3c!doctype html\x3e\x3chtml\x3e\x3cbody\x3e"),h.close(),a=da(c,h),Pa.detach()),pb[c]=a),a}function da(c,h){var a=f(h.createElement(c)).appendTo(h.body),b=f.css(a[0],"display");return a.remove(),b}function ya(c,h,a,b){var d;if(f.isArray(h))f.each(h,function(h,f){a||Kb.test(c)?b(c,f):ya(c+"["+("object"==typeof f?h:"")+"]",f,a,b)});else if(a||"object"!==f.type(h))b(c,h);else for(d in h)ya(c+"["+d+"]",h[d],a,b)}function Qa(c){return function(h,a){"string"!=typeof h&&(a=h,h="*");var b,d=0,e=h.toLowerCase().match(V)||[];if(f.isFunction(a))for(;b=e[d++];)"+"===b[0]?(b=b.slice(1)||"*",(c[b]=c[b]||[]).unshift(a)):(c[b]=c[b]||[]).push(a)}}function T(c,h,a,b){function d(r){var g;return m[r]=!0,f.each(c[r]||[],function(c,f){var r=f(h,a,b);return"string"!=typeof r||l||m[r]?l?!(g=r):e:(h.dataTypes.unshift(r),d(r),!1)}),g}var m={},l=c===ab;return d(h.dataTypes[0])||!m["*"]&&d("*")}function Ja(c,h){var a,b,d=f.ajaxSettings.flatOptions||{};for(b in h)h[b]!==e&&((d[b]?c:a||(a={}))[b]=h[b]);return a&&f.extend(!0,c,a),c}function Ka(){try{return new a.XMLHttpRequest}catch(c){}}function H(){return setTimeout(function(){La=e}),La=f.now()}function L(c,h){f.each(h,function(h,a){for(var f=(Ra[h]||[]).concat(Ra["*"]),b=0,d=f.length;d>b&&!f[b].call(c,h,a);b++);})}function M(c,h,a){var b,d=0,e=Wa.length,l=f.Deferred().always(function(){delete r.elem}),r=function(){if(b)return!1;for(var h=La||H(),h=Math.max(0,g.startTime+g.duration-h),a=1-(h/g.duration||0),f=0,C=g.tweens.length;C>f;f++)g.tweens[f].run(a);return l.notifyWith(c,[g,a,h]),1>a&&C?h:(l.resolveWith(c,[g]),!1)},g=l.promise({elem:c,props:f.extend({},h),opts:f.extend(!0,{specialEasing:{}},a),originalProperties:h,originalOptions:a,startTime:La||H(),duration:a.duration,tweens:[],createTween:function(h,a){var b=f.Tween(c,g.opts,h,a,g.opts.specialEasing[h]||g.opts.easing);return g.tweens.push(b),b},stop:function(h){var a=0,f=h?g.tweens.length:0;if(b)return this;for(b=!0;f>a;a++)g.tweens[a].run(1);return h?l.resolveWith(c,[g,h]):l.rejectWith(c,[g,h]),this}});a=g.props;for(pa(a,g.opts.specialEasing);e>d;d++)if(h=Wa[d].call(g,c,a,g.opts))return h;return L(g,a),f.isFunction(g.opts.start)&&g.opts.start.call(c,g),f.fx.timer(f.extend(r,{elem:c,anim:g,queue:g.opts.queue})),g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function pa(c,h){var a,b,d,e,l;for(d in c)if(b=f.camelCase(d),e=h[b],a=c[d],f.isArray(a)&&(e=a[1],a=c[d]=a[0]),d!==b&&(c[b]=a,delete c[d]),l=f.cssHooks[b],l&&"expand"in l)for(d in a=l.expand(a),delete c[b],a)d in c||(c[d]=a[d],h[d]=e);else h[b]=e}function P(c,a,f,b,d){return new P.prototype.init(c,a,f,b,d)}function ta(c,a){var f,b={height:c},d=0;for(a=a?1:0;4>d;d+=2-a)f=Ba[d],b["margin"+f]=b["padding"+f]=c;return a&&(b.opacity=b.width=c),b}function ua(c){return f.isWindow(c)?c:9===c.nodeType?c.defaultView||c.parentWindow:!1}var ja,va,Z=typeof e,y=a.document,Ea=a.location,Fa=a.jQuery,Ga=a.$,qa={},ga=[],U=ga.concat,R=ga.push,ea=ga.slice,Ma=ga.indexOf,bb=qa.toString,ca=qa.hasOwnProperty,I="1.9.1".trim,f=function(c,a){return new f.fn.init(c,a,va)},E=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=/\S+/g,Sa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,W=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,ha=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ra=/^[\],:{}\s]*$/,ka=/(?:^|:|,)(?:\s*\[)+/g,X=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,fa=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,la=/^-ms-/,ma=/-([\da-z])/gi,aa=function(c,a){return a.toUpperCase()},oa=function(c){(y.addEventListener||"load"===c.type||"complete"===y.readyState)&&(Ha(),f.ready())},Ha=function(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",oa,!1),a.removeEventListener("load",oa,!1)):(y.detachEvent("onreadystatechange",oa),a.detachEvent("onload",oa))};f.fn=f.prototype={jquery:"1.9.1",constructor:f,init:function(c,a,b){var d,t;if(!c)return this;if("string"==typeof c){if(d="\x3c"===c.charAt(0)&&"\x3e"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:W.exec(c),!d||!d[1]&&a)return!a||a.jquery?(a||b).find(c):this.constructor(a).find(c);if(d[1]){if(a=a instanceof f?a[0]:a,f.merge(this,f.parseHTML(d[1],a&&a.nodeType?a.ownerDocument||a:y,!0)),ha.test(d[1])&&f.isPlainObject(a))for(d in a)f.isFunction(this[d])?this[d](a[d]):this.attr(d,a[d]);return this}if(t=y.getElementById(d[2]),t&&t.parentNode){if(t.id!==d[2])return b.find(c);this.length=1;this[0]=t}return this.context=y,this.selector=c,this}return c.nodeType?(this.context=this[0]=c,this.length=1,this):f.isFunction(c)?b.ready(c):(c.selector!==e&&(this.selector=c.selector,this.context=c.context),f.makeArray(c,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return ea.call(this)},get:function(c){return null==c?this.toArray():0>c?this[this.length+c]:this[c]},pushStack:function(c){c=f.merge(this.constructor(),c);return c.prevObject=this,c.context=this.context,c},each:function(c,a){return f.each(this,c,a)},ready:function(c){return f.ready.promise().done(c),this},slice:function(){return this.pushStack(ea.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(c){var a=this.length;c=+c+(0>c?a:0);return this.pushStack(0<=c&&a>c?[this[c]]:[])},map:function(c){return this.pushStack(f.map(this,function(a,f){return c.call(a,f,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:R,sort:[].sort,splice:[].splice};f.fn.init.prototype=f.fn;f.extend=f.fn.extend=function(){var c,a,b,d,t,m,l=arguments[0]||{},r=1,g=arguments.length,n=!1;"boolean"==typeof l&&(n=l,l=arguments[1]||{},r=2);"object"==typeof l||f.isFunction(l)||(l={});for(g===r&&(l=this,--r);g>r;r++)if(null!=(t=arguments[r]))for(d in t)c=l[d],b=t[d],l!==b&&(n&&b&&(f.isPlainObject(b)||(a=f.isArray(b)))?(a?(a=!1,m=c&&f.isArray(c)?c:[]):m=c&&f.isPlainObject(c)?c:{},l[d]=f.extend(n,m,b)):b!==e&&(l[d]=b));return l};f.extend({noConflict:function(c){return a.$===f&&(a.$=Ga),c&&a.jQuery===f&&(a.jQuery=Fa),f},isReady:!1,readyWait:1,holdReady:function(c){c?f.readyWait++:f.ready(!0)},ready:function(c){if(!0===c?!--f.readyWait:!f.isReady){if(!y.body)return setTimeout(f.ready);f.isReady=!0;!0!==c&&0<--f.readyWait||(ja.resolveWith(y,[f]),f.fn.trigger&&f(y).trigger("ready").off("ready"))}},isFunction:function(c){return"function"===f.type(c)},isArray:Array.isArray||function(c){return"array"===f.type(c)},isWindow:function(c){return null!=c&&c==c.window},isNumeric:function(c){return!isNaN(parseFloat(c))&&isFinite(c)},type:function(c){return null==c?c+"":"object"==typeof c||"function"==typeof c?qa[bb.call(c)]||"object":typeof c},isPlainObject:function(c){if(!c||"object"!==f.type(c)||c.nodeType||f.isWindow(c))return!1;try{if(c.constructor&&!ca.call(c,"constructor")&&!ca.call(c.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var b in c);return b===e||ca.call(c,b)},isEmptyObject:function(c){for(var a in c)return!1;return!0},error:function(c){throw Error(c);},parseHTML:function(c,a,b){if(!c||"string"!=typeof c)return null;"boolean"==typeof a&&(b=a,a=!1);a=a||y;var d=ha.exec(c);b=!b&&[];return d?[a.createElement(d[1])]:(d=f.buildFragment([c],a,b),b&&f(b).remove(),f.merge([],d.childNodes))},parseJSON:function(c){return a.JSON&&a.JSON.parse?a.JSON.parse(c):null===c?c:"string"==typeof c&&(c=f.trim(c),c&&ra.test(c.replace(X,"@").replace(fa,"]").replace(ka,"")))?Function("return "+c)():(f.error("Invalid JSON: "+c),e)},parseXML:function(c){var h,b;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(b=new DOMParser,h=b.parseFromString(c,"text/xml")):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async="false",h.loadXML(c))}catch(d){h=e}return h&&h.documentElement&&!h.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+c),h},noop:function(){},globalEval:function(c){c&&f.trim(c)&&(a.execScript||function(c){a.eval.call(a,c)})(c)},camelCase:function(c){return c.replace(la,"ms-").replace(ma,aa)},nodeName:function(c,a){return c.nodeName&&c.nodeName.toLowerCase()===a.toLowerCase()},each:function(c,a,f){var d,e=0,m=c.length,l=b(c);if(f)if(l)for(;m>e&&(d=a.apply(c[e],f),!1!==d);e++);else for(e in c){if(d=a.apply(c[e],f),!1===d)break}else if(l)for(;m>e&&(d=a.call(c[e],e,c[e]),!1!==d);e++);else for(e in c)if(d=a.call(c[e],e,c[e]),!1===d)break;return c},trim:I&&!I.call("\ufeff\u00a0")?function(c){return null==c?"":I.call(c)}:function(c){return null==c?"":(c+"").replace(Sa,"")},makeArray:function(c,a){var d=a||[];return null!=c&&(b(Object(c))?f.merge(d,"string"==typeof c?[c]:c):R.call(d,c)),d},inArray:function(c,a,f){var b;if(a){if(Ma)return Ma.call(a,c,f);b=a.length;for(f=f?0>f?Math.max(0,b+f):f:0;b>f;f++)if(f in a&&a[f]===c)return f}return-1},merge:function(c,a){var f=a.length,b=c.length,d=0;if("number"==typeof f)for(;f>d;d++)c[b++]=a[d];else for(;a[d]!==e;)c[b++]=a[d++];return c.length=b,c},grep:function(c,a,f){var b,d=[],e=0,l=c.length;for(f=!!f;l>e;e++)b=!!a(c[e],e),f!==b&&d.push(c[e]);return d},map:function(c,a,f){var d,e=0,m=c.length,l=[];if(b(c))for(;m>e;e++)d=a(c[e],e,f),null!=d&&(l[l.length]=d);else for(e in c)d=a(c[e],e,f),null!=d&&(l[l.length]=d);return U.apply([],l)},guid:1,proxy:function(c,a){var b,d,t;return"string"==typeof a&&(t=c[a],a=c,c=t),f.isFunction(c)?(b=ea.call(arguments,2),d=function(){return c.apply(a||this,b.concat(ea.call(arguments)))},d.guid=c.guid=c.guid||f.guid++,d):e},access:function(c,a,b,d,t,m,l){var r=0,g=c.length,n=null==b;if("object"===f.type(b))for(r in t=!0,b)f.access(c,a,r,b[r],!0,m,l);else if(d!==e&&(t=!0,f.isFunction(d)||(l=!0),n&&(l?(a.call(c,d),a=null):(n=a,a=function(c,a,h){return n.call(f(c),h)})),a))for(;g>r;r++)a(c[r],b,l?d:d.call(c[r],r,a(c[r],b)));return t?c:n?a.call(c):g?a(c[0],b):m},now:function(){return(new Date).getTime()}});f.ready.promise=function(c){if(!ja)if(ja=f.Deferred(),"complete"===y.readyState)setTimeout(f.ready);else if(y.addEventListener)y.addEventListener("DOMContentLoaded",oa,!1),a.addEventListener("load",oa,!1);else{y.attachEvent("onreadystatechange",oa);a.attachEvent("onload",oa);var h=!1;try{h=null==a.frameElement&&y.documentElement}catch(b){}h&&h.doScroll&&function t(){if(!f.isReady){try{h.doScroll("left")}catch(c){return setTimeout(t,50)}Ha();f.ready()}}()}return ja.promise(c)};f.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(c,a){qa["[object "+a+"]"]=a.toLowerCase()});va=f(y);var A={};f.Callbacks=function(c){c="string"==typeof c?A[c]||d(c):f.extend({},c);var a,b,J,t,m,l,r=[],g=!c.once&&[],n=function(f){b=c.memory&&f;J=!0;m=l||0;l=0;t=r.length;for(a=!0;r&&t>m;m++)if(!1===r[m].apply(f[0],f[1])&&c.stopOnFalse){b=!1;break}a=!1;r&&(g?g.length&&n(g.shift()):b?r=[]:q.disable())},q={add:function(){if(r){var d=r.length;(function Lb(a){f.each(a,function(a,h){var b=f.type(h);"function"===b?c.unique&&q.has(h)||r.push(h):h&&h.length&&"string"!==b&&Lb(h)})})(arguments);a?t=r.length:b&&(l=d,n(b))}return this},remove:function(){return r&&f.each(arguments,function(c,b){for(var d;-1<(d=f.inArray(b,r,d));)r.splice(d,1),a&&(t>=d&&t--,m>=d&&m--)}),this},has:function(c){return c?-1<f.inArray(c,r):!(!r||!r.length)},empty:function(){return r=[],this},disable:function(){return r=g=b=e,this},disabled:function(){return!r},lock:function(){return g=e,b||q.disable(),this},locked:function(){return!g},fireWith:function(c,f){return f=f||[],f=[c,f.slice?f.slice():f],!r||J&&!g||(a?g.push(f):n(f)),this},fire:function(){return q.fireWith(this,arguments),this},fired:function(){return!!J}};return q};f.extend({Deferred:function(c){var a=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],b="pending",d={state:function(){return b},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var c=arguments;return f.Deferred(function(b){f.each(a,function(a,h){var C=h[0],g=f.isFunction(c[a])&&c[a];e[h[1]](function(){var c=g&&g.apply(this,arguments);c&&f.isFunction(c.promise)?c.promise().done(b.resolve).fail(b.reject).progress(b.notify):b[C+"With"](this===d?b.promise():this,g?[c]:arguments)})});c=null}).promise()},promise:function(c){return null!=c?f.extend(c,d):d}},e={};return d.pipe=d.then,f.each(a,function(c,f){var r=f[2],g=f[3];d[f[1]]=r.add;g&&r.add(function(){b=g},a[1^c][2].disable,a[2][2].lock);e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this};e[f[0]+"With"]=r.fireWith}),d.promise(e),c&&c.call(e,e),e},when:function(c){var a=0,b=ea.call(arguments),d=b.length,e=1!==d||c&&f.isFunction(c.promise)?d:0,m=1===e?c:f.Deferred(),l=function(c,a,f){return function(h){a[c]=this;f[c]=1<arguments.length?ea.call(arguments):h;f===r?m.notifyWith(a,f):--e||m.resolveWith(a,f)}},r,g,n;if(1<d)for(r=Array(d),g=Array(d),n=Array(d);d>a;a++)b[a]&&f.isFunction(b[a].promise)?b[a].promise().done(l(a,n,b)).fail(m.reject).progress(l(a,g,r)):--e;return e||m.resolveWith(n,b),m.promise()}});f.support=function(){var c,h,b,d,e,m,l,r=y.createElement("div");if(r.setAttribute("className","t"),r.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e",h=r.getElementsByTagName("*"),b=r.getElementsByTagName("a")[0],!h||!b||!h.length)return{};d=y.createElement("select");e=d.appendChild(y.createElement("option"));h=r.getElementsByTagName("input")[0];b.style.cssText="top:1px;float:left;opacity:.5";c={getSetAttribute:"t"!==r.className,leadingWhitespace:3===r.firstChild.nodeType,tbody:!r.getElementsByTagName("tbody").length,htmlSerialize:!!r.getElementsByTagName("link").length,style:/top/.test(b.getAttribute("style")),hrefNormalized:"/a"===b.getAttribute("href"),opacity:/^0.5/.test(b.style.opacity),cssFloat:!!b.style.cssFloat,checkOn:!!h.value,optSelected:e.selected,enctype:!!y.createElement("form").enctype,html5Clone:"\x3c:nav\x3e\x3c/:nav\x3e"!==y.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===y.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};h.checked=!0;c.noCloneChecked=h.cloneNode(!0).checked;d.disabled=!0;c.optDisabled=!e.disabled;try{delete r.test}catch(g){c.deleteExpando=!1}h=y.createElement("input");h.setAttribute("value","");c.input=""===h.getAttribute("value");h.value="t";h.setAttribute("type","radio");c.radioValue="t"===h.value;h.setAttribute("checked","t");h.setAttribute("name","t");b=y.createDocumentFragment();b.appendChild(h);c.appendChecked=h.checked;c.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked;r.attachEvent&&(r.attachEvent("onclick",function(){c.noCloneEvent=!1}),r.cloneNode(!0).click());for(l in{submit:!0,change:!0,focusin:!0})r.setAttribute(b="on"+l,"t"),c[l+"Bubbles"]=b in a||!1===r.attributes[b].expando;return r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",c.clearCloneStyle="content-box"===r.style.backgroundClip,f(function(){var f,h,b,d=y.getElementsByTagName("body")[0];d&&(f=y.createElement("div"),f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",d.appendChild(f).appendChild(r),r.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",b=r.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",m=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c.reliableHiddenOffsets=m&&0===b[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",c.boxSizing=4===r.offsetWidth,c.doesNotIncludeMarginInBodyOffset=1!==d.offsetTop,a.getComputedStyle&&(c.pixelPosition="1%"!==(a.getComputedStyle(r,null)||{}).top,c.boxSizingReliable="4px"===(a.getComputedStyle(r,null)||{width:"4px"}).width,h=r.appendChild(y.createElement("div")),h.style.cssText=r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",h.style.marginRight=h.style.width="0",r.style.width="1px",c.reliableMarginRight=!parseFloat((a.getComputedStyle(h,null)||{}).marginRight)),typeof r.style.zoom!==Z&&(r.innerHTML="",r.style.cssText="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;width:1px;padding:1px;display:inline;zoom:1",c.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.innerHTML="\x3cdiv\x3e\x3c/div\x3e",r.firstChild.style.width="5px",c.shrinkWrapBlocks=3!==r.offsetWidth,c.inlineBlockNeedsLayout&&(d.style.zoom=1)),d.removeChild(f),r=null)}),h=d=b=e=b=h=null,c}();var S=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Oa=/([A-Z])/g;f.extend({cache:{},expando:"jQuery"+("1.9.1"+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(c){return c=c.nodeType?f.cache[c[f.expando]]:c[f.expando],!!c&&!s(c)},data:function(c,a,f){return g(c,a,f)},removeData:function(c,a){return k(c,a)},_data:function(c,a,f){return g(c,a,f,!0)},_removeData:function(c,a){return k(c,a,!0)},acceptData:function(c){if(c.nodeType&&1!==c.nodeType&&9!==c.nodeType)return!1;var a=c.nodeName&&f.noData[c.nodeName.toLowerCase()];return!a||!0!==a&&c.getAttribute("classid")===a}});f.fn.extend({data:function(c,a){var b,d,t=this[0],m=0,l=null;if(c===e){if(this.length&&(l=f.data(t),1===t.nodeType&&!f._data(t,"parsedAttrs"))){for(b=t.attributes;b.length>m;m++)d=b[m].name,d.indexOf("data-")||(d=f.camelCase(d.slice(5)),w(t,d,l[d]));f._data(t,"parsedAttrs",!0)}return l}return"object"==typeof c?this.each(function(){f.data(this,c)}):f.access(this,function(a){return a===e?t?w(t,c,f.data(t,c)):null:(this.each(function(){f.data(this,c,a)}),e)},null,a,1<arguments.length,null,!0)},removeData:function(c){return this.each(function(){f.removeData(this,c)})}});f.extend({queue:function(c,a,b){var d;return c?(a=(a||"fx")+"queue",d=f._data(c,a),b&&(!d||f.isArray(b)?d=f._data(c,a,f.makeArray(b)):d.push(b)),d||[]):e},dequeue:function(c,a){a=a||"fx";var b=f.queue(c,a),d=b.length,e=b.shift(),m=f._queueHooks(c,a),l=function(){f.dequeue(c,a)};"inprogress"===e&&(e=b.shift(),d--);(m.cur=e)&&("fx"===a&&b.unshift("inprogress"),delete m.stop,e.call(c,l,m));!d&&m&&m.empty.fire()},_queueHooks:function(c,a){var b=a+"queueHooks";return f._data(c,b)||f._data(c,b,{empty:f.Callbacks("once memory").add(function(){f._removeData(c,a+"queue");f._removeData(c,b)})})}});f.fn.extend({queue:function(c,a){var b=2;return"string"!=typeof c&&(a=c,c="fx",b--),b>arguments.length?f.queue(this[0],c):a===e?this:this.each(function(){var b=f.queue(this,c,a);f._queueHooks(this,c);"fx"===c&&"inprogress"!==b[0]&&f.dequeue(this,c)})},dequeue:function(c){return this.each(function(){f.dequeue(this,c)})},delay:function(c,a){return c=f.fx?f.fx.speeds[c]||c:c,a=a||"fx",this.queue(a,function(a,f){var b=setTimeout(a,c);f.stop=function(){clearTimeout(b)}})},clearQueue:function(c){return this.queue(c||"fx",[])},promise:function(c,a){var b,d=1,t=f.Deferred(),m=this,l=this.length,r=function(){--d||t.resolveWith(m,[m])};"string"!=typeof c&&(a=c,c=e);for(c=c||"fx";l--;)(b=f._data(m[l],c+"queueHooks"))&&b.empty&&(d++,b.empty.add(r));return r(),t.promise(a)}});var sa,Ta,wa=/[\t\r\n]/g,za=/\r/g,Xa=/^(?:input|select|textarea|button|object)$/i,cb=/^(?:a|area)$/i,Ya=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,db=/^(?:checked|selected)$/i,xa=f.support.getSetAttribute,eb=f.support.input;f.fn.extend({attr:function(c,a){return f.access(this,f.attr,c,a,1<arguments.length)},removeAttr:function(c){return this.each(function(){f.removeAttr(this,c)})},prop:function(c,a){return f.access(this,f.prop,c,a,1<arguments.length)},removeProp:function(c){return c=f.propFix[c]||c,this.each(function(){try{this[c]=e,delete this[c]}catch(a){}})},addClass:function(c){var a,b,d,e,m,l=0,r=this.length;a="string"==typeof c&&c;if(f.isFunction(c))return this.each(function(a){f(this).addClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(V)||[];r>l;l++)if(b=this[l],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(wa," "):" ")){for(m=0;e=a[m++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");b.className=f.trim(d)}return this},removeClass:function(c){var a,b,d,e,m,l=0,r=this.length;a=0===arguments.length||"string"==typeof c&&c;if(f.isFunction(c))return this.each(function(a){f(this).removeClass(c.call(this,a,this.className))});if(a)for(a=(c||"").match(V)||[];r>l;l++)if(b=this[l],d=1===b.nodeType&&(b.className?(" "+b.className+" ").replace(wa," "):"")){for(m=0;e=a[m++];)for(;0<=d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");b.className=c?f.trim(d):""}return this},toggleClass:function(c,a){var b=typeof c,d="boolean"==typeof a;return f.isFunction(c)?this.each(function(b){f(this).toggleClass(c.call(this,b,this.className,a),a)}):this.each(function(){if("string"===b)for(var e,m=0,l=f(this),r=a,g=c.match(V)||[];e=g[m++];)r=d?r:!l.hasClass(e),l[r?"addClass":"removeClass"](e);else(b===Z||"boolean"===b)&&(this.className&&f._data(this,"__className__",this.className),this.className=this.className||!1===c?"":f._data(this,"__className__")||"")})},hasClass:function(c){c=" "+c+" ";for(var a=0,b=this.length;b>a;a++)if(1===this[a].nodeType&&0<=(" "+this[a].className+" ").replace(wa," ").indexOf(c))return!0;return!1},val:function(c){var a,b,d,t=this[0];if(arguments.length)return d=f.isFunction(c),this.each(function(a){var h,t=f(this);1===this.nodeType&&(h=d?c.call(this,a,t.val()):c,null==h?h="":"number"==typeof h?h+="":f.isArray(h)&&(h=f.map(h,function(c){return null==c?"":c+""})),b=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&b.set(this,h,"value")!==e||(this.value=h))});if(t)return b=f.valHooks[t.type]||f.valHooks[t.nodeName.toLowerCase()],b&&"get"in b&&(a=b.get(t,"value"))!==e?a:(a=t.value,"string"==typeof a?a.replace(za,""):null==a?"":a)}});f.extend({valHooks:{option:{get:function(c){var a=c.attributes.value;return!a||a.specified?c.value:c.text}},select:{get:function(c){for(var a,b=c.options,d=c.selectedIndex,e="select-one"===c.type||0>d,m=e?null:[],l=e?d+1:b.length,r=0>d?l:e?d:0;l>r;r++)if(a=b[r],!(!a.selected&&r!==d||(f.support.optDisabled?a.disabled:null!==a.getAttribute("disabled"))||a.parentNode.disabled&&f.nodeName(a.parentNode,"optgroup"))){if(c=f(a).val(),e)return c;m.push(c)}return m},set:function(c,a){var b=f.makeArray(a);return f(c).find("option").each(function(){this.selected=0<=f.inArray(f(this).val(),b)}),b.length||(c.selectedIndex=-1),b}}},attr:function(c,a,b){var d,t,m,l=c.nodeType;if(c&&3!==l&&8!==l&&2!==l)return typeof c.getAttribute===Z?f.prop(c,a,b):(t=1!==l||!f.isXMLDoc(c),t&&(a=a.toLowerCase(),d=f.attrHooks[a]||(Ya.test(a)?Ta:sa)),b===e?d&&t&&"get"in d&&null!==(m=d.get(c,a))?m:(typeof c.getAttribute!==Z&&(m=c.getAttribute(a)),null==m?e:m):null!==b?d&&t&&"set"in d&&(m=d.set(c,b,a))!==e?m:(c.setAttribute(a,b+""),b):(f.removeAttr(c,a),e))},removeAttr:function(c,a){var b,d,e=0,m=a&&a.match(V);if(m&&1===c.nodeType)for(;b=m[e++];)d=f.propFix[b]||b,Ya.test(b)?!xa&&db.test(b)?c[f.camelCase("default-"+b)]=c[d]=!1:c[d]=!1:f.attr(c,b,""),c.removeAttribute(xa?b:d)},attrHooks:{type:{set:function(c,a){if(!f.support.radioValue&&"radio"===a&&f.nodeName(c,"input")){var b=c.value;return c.setAttribute("type",a),b&&(c.value=b),a}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(c,a,b){var d,t,m,l=c.nodeType;if(c&&3!==l&&8!==l&&2!==l)return m=1!==l||!f.isXMLDoc(c),m&&(a=f.propFix[a]||a,t=f.propHooks[a]),b!==e?t&&"set"in t&&(d=t.set(c,b,a))!==e?d:c[a]=b:t&&"get"in t&&null!==(d=t.get(c,a))?d:c[a]},propHooks:{tabIndex:{get:function(c){var a=c.getAttributeNode("tabindex");return a&&a.specified?parseInt(a.value,10):Xa.test(c.nodeName)||cb.test(c.nodeName)&&c.href?0:e}}}});Ta={get:function(c,a){var b=f.prop(c,a),d="boolean"==typeof b&&c.getAttribute(a);return(b="boolean"==typeof b?eb&&xa?null!=d:db.test(a)?c[f.camelCase("default-"+a)]:!!d:c.getAttributeNode(a))&&!1!==b.value?a.toLowerCase():e},set:function(c,a,b){return!1===a?f.removeAttr(c,b):eb&&xa||!db.test(b)?c.setAttribute(!xa&&f.propFix[b]||b,b):c[f.camelCase("default-"+b)]=c[b]=!0,b}};eb&&xa||(f.attrHooks.value={get:function(c,a){var b=c.getAttributeNode(a);return f.nodeName(c,"input")?c.defaultValue:b&&b.specified?b.value:e},set:function(c,a,b){return f.nodeName(c,"input")?(c.defaultValue=a,e):sa&&sa.set(c,a,b)}});xa||(sa=f.valHooks.button={get:function(c,a){var b=c.getAttributeNode(a);return b&&("id"===a||"name"===a||"coords"===a?""!==b.value:b.specified)?b.value:e},set:function(c,a,b){var f=c.getAttributeNode(b);return f||c.setAttributeNode(f=c.ownerDocument.createAttribute(b)),f.value=a+="","value"===b||a===c.getAttribute(b)?a:e}},f.attrHooks.contenteditable={get:sa.get,set:function(c,a,b){sa.set(c,""===a?!1:a,b)}},f.each(["width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{set:function(c,b){return""===b?(c.setAttribute(a,"auto"),b):e}})}));f.support.hrefNormalized||(f.each(["href","src","width","height"],function(c,a){f.attrHooks[a]=f.extend(f.attrHooks[a],{get:function(c){c=c.getAttribute(a,2);return null==c?e:c}})}),f.each(["href","src"],function(c,a){f.propHooks[a]={get:function(c){return c.getAttribute(a,4)}}}));f.support.style||(f.attrHooks.style={get:function(c){return c.style.cssText||e},set:function(c,a){return c.style.cssText=a+""}});f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(c){c=c.parentNode;return c&&(c.selectedIndex,c.parentNode&&c.parentNode.selectedIndex),null}}));f.support.enctype||(f.propFix.enctype="encoding");f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(c){return null===c.getAttribute("value")?"on":c.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(c,a){return f.isArray(a)?c.checked=0<=f.inArray(f(c).val(),a):e}})});var fb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,qb=/^(?:focusinfocus|focusoutblur)$/,rb=/^([^.]*)(?:\.(.+)|)$/;f.event={global:{},add:function(c,a,b,d,t){var m,l,r,g,n,q,p,v,k;if(r=f._data(c)){b.handler&&(g=b,b=g.handler,t=g.selector);b.guid||(b.guid=f.guid++);(l=r.events)||(l=r.events={});(n=r.handle)||(n=r.handle=function(c){return typeof f===Z||c&&f.event.triggered===c.type?e:f.event.dispatch.apply(n.elem,arguments)},n.elem=c);a=(a||"").match(V)||[""];for(r=a.length;r--;)m=rb.exec(a[r])||[],v=q=m[1],k=(m[2]||"").split(".").sort(),m=f.event.special[v]||{},v=(t?m.delegateType:m.bindType)||v,m=f.event.special[v]||{},q=f.extend({type:v,origType:q,data:d,handler:b,guid:b.guid,selector:t,needsContext:t&&f.expr.match.needsContext.test(t),namespace:k.join(".")},g),(p=l[v])||(p=l[v]=[],p.delegateCount=0,m.setup&&!1!==m.setup.call(c,d,k,n)||(c.addEventListener?c.addEventListener(v,n,!1):c.attachEvent&&c.attachEvent("on"+v,n))),m.add&&(m.add.call(c,q),q.handler.guid||(q.handler.guid=b.guid)),t?p.splice(p.delegateCount++,0,q):p.push(q),f.event.global[v]=!0;c=null}},remove:function(c,a,b,d,e){var m,l,r,g,n,q,p,v,k,s,ha,w=f.hasData(c)&&f._data(c);if(w&&(q=w.events)){a=(a||"").match(V)||[""];for(n=a.length;n--;)if(r=rb.exec(a[n])||[],k=ha=r[1],s=(r[2]||"").split(".").sort(),k){p=f.event.special[k]||{};k=(d?p.delegateType:p.bindType)||k;v=q[k]||[];r=r[2]&&RegExp("(^|\\.)"+s.join("\\.(?:.*\\.|)")+"(\\.|$)");for(g=m=v.length;m--;)l=v[m],!e&&ha!==l.origType||b&&b.guid!==l.guid||r&&!r.test(l.namespace)||d&&d!==l.selector&&("**"!==d||!l.selector)||(v.splice(m,1),l.selector&&v.delegateCount--,p.remove&&p.remove.call(c,l));g&&!v.length&&(p.teardown&&!1!==p.teardown.call(c,s,w.handle)||f.removeEvent(c,k,w.handle),delete q[k])}else for(k in q)f.event.remove(c,k+a[n],b,d,!0);f.isEmptyObject(q)&&(delete w.handle,f._removeData(c,"events"))}},trigger:function(c,b,d,J){var t,m,l,r,g,n,q=[d||y],p=ca.call(c,"type")?c.type:c;n=ca.call(c,"namespace")?c.namespace.split("."):[];if(l=t=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!qb.test(p+f.event.triggered)&&(0<=p.indexOf(".")&&(n=p.split("."),p=n.shift(),n.sort()),m=0>p.indexOf(":")&&"on"+p,c=c[f.expando]?c:new f.Event(p,"object"==typeof c&&c),c.isTrigger=!0,c.namespace=n.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+n.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=e,c.target||(c.target=d),b=null==b?[c]:f.makeArray(b,[c]),g=f.event.special[p]||{},J||!g.trigger||!1!==g.trigger.apply(d,b))){if(!J&&!g.noBubble&&!f.isWindow(d)){r=g.delegateType||p;for(qb.test(r+p)||(l=l.parentNode);l;l=l.parentNode)q.push(l),t=l;t===(d.ownerDocument||y)&&q.push(t.defaultView||t.parentWindow||a)}for(n=0;(l=q[n++])&&!c.isPropagationStopped();)c.type=1<n?r:g.bindType||p,(t=(f._data(l,"events")||{})[c.type]&&f._data(l,"handle"))&&t.apply(l,b),(t=m&&l[m])&&f.acceptData(l)&&t.apply&&!1===t.apply(l,b)&&c.preventDefault();if(c.type=p,!(J||c.isDefaultPrevented()||g._default&&!1!==g._default.apply(d.ownerDocument,b)||"click"===p&&f.nodeName(d,"a"))&&f.acceptData(d)&&m&&d[p]&&!f.isWindow(d)){(t=d[m])&&(d[m]=null);f.event.triggered=p;try{d[p]()}catch(v){}f.event.triggered=e;t&&(d[m]=t)}return c.result}},dispatch:function(c){c=f.event.fix(c);var a,b,d,t,m,l=[],r=ea.call(arguments);a=(f._data(this,"events")||{})[c.type]||[];var g=f.event.special[c.type]||{};if(r[0]=c,c.delegateTarget=this,!g.preDispatch||!1!==g.preDispatch.call(this,c)){l=f.event.handlers.call(this,c,a);for(a=0;(t=l[a++])&&!c.isPropagationStopped();)for(c.currentTarget=t.elem,m=0;(d=t.handlers[m++])&&!c.isImmediatePropagationStopped();)c.namespace_re&&!c.namespace_re.test(d.namespace)||(c.handleObj=d,c.data=d.data,b=((f.event.special[d.origType]||{}).handle||d.handler).apply(t.elem,r),b===e||!1!==(c.result=b)||(c.preventDefault(),c.stopPropagation()));return g.postDispatch&&g.postDispatch.call(this,c),c.result}},handlers:function(c,a){var b,d,t,m,l=[],g=a.delegateCount,n=c.target;if(g&&n.nodeType&&(!c.button||"click"!==c.type))for(;n!=this;n=n.parentNode||this)if(1===n.nodeType&&(!0!==n.disabled||"click"!==c.type)){t=[];for(m=0;g>m;m++)d=a[m],b=d.selector+" ",t[b]===e&&(t[b]=d.needsContext?0<=f(b,this).index(n):f.find(b,this,null,[n]).length),t[b]&&t.push(d);t.length&&l.push({elem:n,handlers:t})}return a.length>g&&l.push({elem:this,handlers:a.slice(g)}),l},fix:function(c){if(c[f.expando])return c;var a,b,d;a=c.type;var e=c,m=this.fixHooks[a];m||(this.fixHooks[a]=m=Nb.test(a)?this.mouseHooks:Mb.test(a)?this.keyHooks:{});d=m.props?this.props.concat(m.props):this.props;c=new f.Event(e);for(a=d.length;a--;)b=d[a],c[b]=e[b];return c.target||(c.target=e.srcElement||y),3===c.target.nodeType&&(c.target=c.target.parentNode),c.metaKey=!!c.metaKey,m.filter?m.filter(c,e):c},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(c,a){return null==c.which&&(c.which=null!=a.charCode?a.charCode:a.keyCode),c}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(c,a){var b,f,d,m=a.button,l=a.fromElement;return null==c.pageX&&null!=a.clientX&&(f=c.target.ownerDocument||y,d=f.documentElement,b=f.body,c.pageX=a.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||b&&b.clientLeft||0),c.pageY=a.clientY+(d&&d.scrollTop||b&&b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)),!c.relatedTarget&&l&&(c.relatedTarget=l===c.target?a.toElement:l),c.which||m===e||(c.which=1&m?1:2&m?3:4&m?2:0),c}},special:{load:{noBubble:!0},click:{trigger:function(){return f.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):e}},focus:{trigger:function(){if(this!==y.activeElement&&this.focus)try{return this.focus(),!1}catch(c){}},delegateType:"focusin"},blur:{trigger:function(){return this===y.activeElement&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},beforeunload:{postDispatch:function(c){c.result!==e&&(c.originalEvent.returnValue=c.result)}}},simulate:function(c,a,b,d){c=f.extend(new f.Event,b,{type:c,isSimulated:!0,originalEvent:{}});d?f.event.trigger(c,null,a):f.event.dispatch.call(a,c);c.isDefaultPrevented()&&b.preventDefault()}};f.removeEvent=y.removeEventListener?function(c,a,b){c.removeEventListener&&c.removeEventListener(a,b,!1)}:function(c,a,b){a="on"+a;c.detachEvent&&(typeof c[a]===Z&&(c[a]=null),c.detachEvent(a,b))};f.Event=function(c,a){return this instanceof f.Event?(c&&c.type?(this.originalEvent=c,this.type=c.type,this.isDefaultPrevented=c.defaultPrevented||!1===c.returnValue||c.getPreventDefault&&c.getPreventDefault()?u:B):this.type=c,a&&f.extend(this,a),this.timeStamp=c&&c.timeStamp||f.now(),this[f.expando]=!0,e):new f.Event(c,a)};f.Event.prototype={isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B,preventDefault:function(){var c=this.originalEvent;this.isDefaultPrevented=u;c&&(c.preventDefault?c.preventDefault():c.returnValue=!1)},stopPropagation:function(){var c=this.originalEvent;this.isPropagationStopped=u;c&&(c.stopPropagation&&c.stopPropagation(),c.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=u;this.stopPropagation()}};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(c,a){f.event.special[c]={delegateType:a,bindType:a,handle:function(c){var b,d=c.relatedTarget,e=c.handleObj;return(!d||d!==this&&!f.contains(this,d))&&(c.type=e.origType,b=e.handler.apply(this,arguments),c.type=a),b}}});f.support.submitBubbles||(f.event.special.submit={setup:function(){return f.nodeName(this,"form")?!1:(f.event.add(this,"click._submit keypress._submit",function(c){c=c.target;(c=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:e)&&!f._data(c,"submitBubbles")&&(f.event.add(c,"submit._submit",function(c){c._submit_bubble=!0}),f._data(c,"submitBubbles",!0))}),e)},postDispatch:function(c){c._submit_bubble&&(delete c._submit_bubble,this.parentNode&&!c.isTrigger&&f.event.simulate("submit",this.parentNode,c,!0))},teardown:function(){return f.nodeName(this,"form")?!1:(f.event.remove(this,"._submit"),e)}});f.support.changeBubbles||(f.event.special.change={setup:function(){return fb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(f.event.add(this,"propertychange._change",function(c){"checked"===c.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(c){this._just_changed&&!c.isTrigger&&(this._just_changed=!1);f.event.simulate("change",this,c,!0)})),!1):(f.event.add(this,"beforeactivate._change",function(c){c=c.target;fb.test(c.nodeName)&&!f._data(c,"changeBubbles")&&(f.event.add(c,"change._change",function(c){!this.parentNode||c.isSimulated||c.isTrigger||f.event.simulate("change",this.parentNode,c,!0)}),f._data(c,"changeBubbles",!0))}),e)},handle:function(c){var a=c.target;return this!==a||c.isSimulated||c.isTrigger||"radio"!==a.type&&"checkbox"!==a.type?c.handleObj.handler.apply(this,arguments):e},teardown:function(){return f.event.remove(this,"._change"),!fb.test(this.nodeName)}});f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(c,a){var b=0,d=function(c){f.event.simulate(a,c.target,f.event.fix(c),!0)};f.event.special[a]={setup:function(){0===b++&&y.addEventListener(c,d,!0)},teardown:function(){0===--b&&y.removeEventListener(c,d,!0)}}});f.fn.extend({on:function(c,a,b,d,t){var m,l;if("object"==typeof c){"string"!=typeof a&&(b=b||a,a=e);for(m in c)this.on(m,a,b,c[m],t);return this}if(null==b&&null==d?(d=a,b=a=e):null==d&&("string"==typeof a?(d=b,b=e):(d=b,b=a,a=e)),!1===d)d=B;else if(!d)return this;return 1===t&&(l=d,d=function(c){return f().off(c),l.apply(this,arguments)},d.guid=l.guid||(l.guid=f.guid++)),this.each(function(){f.event.add(this,c,d,b,a)})},one:function(c,a,b,f){return this.on(c,a,b,f,1)},off:function(c,a,b){var d,t;if(c&&c.preventDefault&&c.handleObj)return d=c.handleObj,f(c.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof c){for(t in c)this.off(t,a,c[t]);return this}return(!1===a||"function"==typeof a)&&(b=a,a=e),!1===b&&(b=B),this.each(function(){f.event.remove(this,c,b,a)})},bind:function(c,a,b){return this.on(c,null,a,b)},unbind:function(c,a){return this.off(c,null,a)},delegate:function(c,a,b,f){return this.on(a,c,b,f)},undelegate:function(c,a,b){return 1===arguments.length?this.off(c,"**"):this.off(a,c||"**",b)},trigger:function(c,a){return this.each(function(){f.event.trigger(c,a,this)})},triggerHandler:function(c,a){var b=this[0];return b?f.event.trigger(c,a,b,!0):e}});(function(c,a){function b(c){return Z.test(c+"")}function d(){var c,a=[];return c=function(b,f){return a.push(b+=" ")>A.cacheLength&&delete c[a.shift()],c[b]=f}}function e(c){return c[G]=!0,c}function m(c){var a=aa.createElement("div");try{return c(a)}catch(b){return!1}finally{}}function l(c,a,b,f){var d,e,h,m,l;if((a?a.ownerDocument||a:da)!==aa&&ra(a),a=a||aa,b=b||[],!c||"string"!=typeof c)return b;if(1!==(m=a.nodeType)&&9!==m)return[];if(!N&&!f){if(d=ca.exec(c))if(h=d[1])if(9===m){if(e=a.getElementById(h),!e||!e.parentNode)return b;if(e.id===h)return b.push(e),b}else{if(a.ownerDocument&&(e=a.ownerDocument.getElementById(h))&&wa(a,e)&&e.id===h)return b.push(e),b}else{if(d[2])return I.apply(b,L.call(a.getElementsByTagName(c),0)),b;if((h=d[3])&&X.getByClassName&&a.getElementsByClassName)return I.apply(b,L.call(a.getElementsByClassName(h),0)),b}if(X.qsa&&!ma.test(c)){if(d=!0,e=G,h=a,l=9===m&&c,1===m&&"object"!==a.nodeName.toLowerCase()){m=v(c);(d=a.getAttribute("id"))?e=d.replace(xa,"\\$\x26"):a.setAttribute("id",e);e="[id\x3d'"+e+"'] ";for(h=m.length;h--;)m[h]=e+k(m[h]);h=sa.test(c)&&a.parentNode||a;l=m.join(",")}if(l)try{return I.apply(b,L.call(h.querySelectorAll(l),0)),b}catch(g){}finally{d||a.removeAttribute("id")}}}var C;a:{c=c.replace(Ha,"$1");var t,r;e=v(c);if(!f&&1===e.length){if(C=e[0]=e[0].slice(0),2<C.length&&"ID"===(t=C[0]).type&&9===a.nodeType&&!N&&A.relative[C[1].type]){if(a=A.find.ID(t.matches[0].replace(W,Y),a)[0],!a){C=b;break a}c=c.slice(C.shift().value.length)}for(m=R.needsContext.test(c)?0:C.length;m--&&(t=C[m],!A.relative[d=t.type]);)if((r=A.find[d])&&(f=r(t.matches[0].replace(W,Y),sa.test(C[0].type)&&a.parentNode||a))){if(C.splice(m,1),c=f.length&&k(C),!c){C=(I.apply(b,L.call(f,0)),b);break a}break}}C=(fa(c,e)(f,a,N,b,sa.test(c)),b)}return C}function g(c,a){var b=a&&c,f=b&&(~a.sourceIndex||M)-(~c.sourceIndex||M);if(f)return f;if(b)for(;b=b.nextSibling;)if(b===a)return-1;return c?1:-1}function n(c){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===c}}function q(c){return function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&a.type===c}}function p(c){return e(function(a){return a=+a,e(function(b,f){for(var d,e=c([],b.length,a),h=e.length;h--;)b[d=e[h]]&&(b[d]=!(f[d]=b[d]))})})}function v(c,a){var b,f,d,e,h,m,C;if(h=Xa[c+" "])return a?0:h.slice(0);h=c;m=[];for(C=A.preFilter;h;){b&&!(f=T.exec(h))||(f&&(h=h.slice(f[0].length)||h),m.push(d=[]));b=!1;(f=Ya.exec(h))&&(b=f.shift(),d.push({value:b,type:f[0].replace(Ha," ")}),h=h.slice(b.length));for(e in A.filter)!(f=R[e].exec(h))||C[e]&&!(f=C[e](f))||(b=f.shift(),d.push({value:b,type:e,matches:f}),h=h.slice(b.length));if(!b)break}return a?h.length:h?l.error(c):Xa(c,m).slice(0)}function k(c){for(var a=0,b=c.length,f="";b>a;a++)f+=c[a].value;return f}function s(c,a,b){var f=a.dir,d=b&&"parentNode"===f,e=ia++;return a.first?function(a,b,e){for(;a=a[f];)if(1===a.nodeType||d)return c(a,b,e)}:function(a,b,h){var m,l,C,g=Q+" "+e;if(h)for(;a=a[f];){if((1===a.nodeType||d)&&c(a,b,h))return!0}else for(;a=a[f];)if(1===a.nodeType||d)if(C=a[G]||(a[G]={}),(l=C[f])&&l[0]===g){if(!0===(m=l[1])||m===D)return!0===m}else if(l=C[f]=[g],l[1]=c(a,b,h)||D,!0===l[1])return!0}}function w(c){return 1<c.length?function(a,b,f){for(var d=c.length;d--;)if(!c[d](a,b,f))return!1;return!0}:c[0]}function ha(c,a,b,f,d){for(var e,h=[],m=0,l=c.length,C=null!=a;l>m;m++)(e=c[m])&&(!b||b(e,f,d))&&(h.push(e),C&&a.push(m));return h}function B(c,a,b,f,d,h){return f&&!f[G]&&(f=B(f)),d&&!d[G]&&(d=B(d,h)),e(function(e,h,m,C){var g,t,r=[],n=[],J=h.length,q;if(!(q=e)){q=a||"*";for(var p=m.nodeType?[m]:m,v=[],k=0,A=p.length;A>k;k++)l(q,p[k],v);q=v}q=!c||!e&&a?q:ha(q,r,c,m,C);p=b?d||(e?c:J||f)?[]:h:q;if(b&&b(q,p,m,C),f)for(g=ha(p,n),f(g,[],m,C),m=g.length;m--;)(t=g[m])&&(p[n[m]]=!(q[n[m]]=t));if(e){if(d||c){if(d){g=[];for(m=p.length;m--;)(t=p[m])&&g.push(q[m]=t);d(null,p=[],g,C)}for(m=p.length;m--;)(t=p[m])&&-1<(g=d?Oa.call(e,t):r[m])&&(e[g]=!(h[g]=t))}}else p=ha(p===h?p.splice(J,p.length):p),d?d(null,h,p,C):I.apply(h,p)})}function z(c){var a,b,f,d=c.length,e=A.relative[c[0].type];b=e||A.relative[" "];for(var h=e?1:0,m=s(function(c){return c===a},b,!0),l=s(function(c){return-1<Oa.call(a,c)},b,!0),C=[function(c,b,f){return!e&&(f||b!==ka)||((a=b).nodeType?m(c,b,f):l(c,b,f))}];d>h;h++)if(b=A.relative[c[h].type])C=[s(w(C),b)];else{if(b=A.filter[c[h].type].apply(null,c[h].matches),b[G]){for(f=++h;d>f&&!A.relative[c[f].type];f++);return B(1<h&&w(C),1<h&&k(c.slice(0,h-1)).replace(Ha,"$1"),b,f>h&&z(c.slice(h,f)),d>f&&z(c=c.slice(f)),d>f&&k(c))}C.push(b)}return w(C)}function u(c,a){var b=0,f=0<a.length,d=0<c.length,h=function(e,h,m,C,g){var t,r,n=[],J=0,p="0",q=e&&[],v=null!=g,k=ka,s=e||d&&A.find.TAG("*",g&&h.parentNode||h),w=Q+=null==k?1:Math.random()||0.1;for(v&&(ka=h!==aa&&h,D=b);null!=(g=s[p]);p++){if(d&&g){for(t=0;r=c[t++];)if(r(g,h,m)){C.push(g);break}v&&(Q=w,D=++b)}f&&((g=!r&&g)&&J--,e&&q.push(g))}if(J+=p,f&&p!==J){for(t=0;r=a[t++];)r(q,n,h,m);if(e){if(0<J)for(;p--;)q[p]||n[p]||(n[p]=cb.call(C));n=ha(n)}I.apply(C,n);v&&!e&&0<n.length&&1<J+a.length&&l.uniqueSort(C)}return v&&(Q=w,ka=k),q};return f?e(h):h}function O(){}var K,D,A,x,F,fa,la,ka,ra,aa,S,N,ma,za,y,wa,na,G="sizzle"+-new Date,da=c.document,X={},Q=0,ia=0,E=d(),Xa=d(),oa=d(),ba=typeof a,M=-2147483648,H=[],cb=H.pop,I=H.push,L=H.slice,Oa=H.indexOf||function(c){for(var a=0,b=this.length;b>a;a++)if(this[a]===c)return a;return-1},H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),Ta="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+H+")|)|)[\\x20\\t\\r\\n\\f]*\\]",P=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+Ta.replace(3,8)+")*)|.*)\\)|)",Ha=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),T=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Ya=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,U=RegExp(P),V=RegExp("^"+H+"$"),R={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[\w-]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+Ta),PSEUDO:RegExp("^"+P),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[\x3e+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?\x3d[^-]|$)","i")},sa=/[\x20\t\r\n\f]*[+~]/,Z=/^[^{]+\{\s*\[native code/,ca=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ya=/^(?:input|select|textarea|button)$/i,ea=/^h\d$/i,xa=/'|\\/g,ga=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,W=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,Y=function(c,a){var b="0x"+a-65536;return b!==b?a:0>b?String.fromCharCode(b+65536):String.fromCharCode(55296|b>>10,56320|1023&b)};try{L.call(da.documentElement.childNodes,0)[0].nodeType}catch(ja){L=function(c){for(var a,b=[];a=this[c++];)b.push(a);return b}}F=l.isXML=function(c){return(c=c&&(c.ownerDocument||c).documentElement)?"HTML"!==c.nodeName:!1};ra=l.setDocument=function(c){var f=c?c.ownerDocument||c:da;return f!==aa&&9===f.nodeType&&f.documentElement?(aa=f,S=f.documentElement,N=F(f),X.tagNameNoComments=m(function(c){return c.appendChild(f.createComment("")),!c.getElementsByTagName("*").length}),X.attributes=m(function(c){c.innerHTML="\x3cselect\x3e\x3c/select\x3e";c=typeof c.lastChild.getAttribute("multiple");return"boolean"!==c&&"string"!==c}),X.getByClassName=m(function(c){return c.innerHTML="\x3cdiv class\x3d'hidden e'\x3e\x3c/div\x3e\x3cdiv class\x3d'hidden'\x3e\x3c/div\x3e",c.getElementsByClassName&&c.getElementsByClassName("e").length?(c.lastChild.className="e",2===c.getElementsByClassName("e").length):!1}),X.getByName=m(function(c){c.id=G+0;c.innerHTML="\x3ca name\x3d'"+G+"'\x3e\x3c/a\x3e\x3cdiv name\x3d'"+G+"'\x3e\x3c/div\x3e";S.insertBefore(c,S.firstChild);var a=f.getElementsByName&&f.getElementsByName(G).length===2+f.getElementsByName(G+0).length;return X.getIdNotName=!f.getElementById(G),S.removeChild(c),a}),A.attrHandle=m(function(c){return c.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e",c.firstChild&&typeof c.firstChild.getAttribute!==ba&&"#"===c.firstChild.getAttribute("href")})?{}:{href:function(c){return c.getAttribute("href",2)},type:function(c){return c.getAttribute("type")}},X.getIdNotName?(A.find.ID=function(c,a){if(typeof a.getElementById!==ba&&!N){var b=a.getElementById(c);return b&&b.parentNode?[b]:[]}},A.filter.ID=function(c){var a=c.replace(W,Y);return function(c){return c.getAttribute("id")===a}}):(A.find.ID=function(c,b){if(typeof b.getElementById!==ba&&!N){var f=b.getElementById(c);return f?f.id===c||typeof f.getAttributeNode!==ba&&f.getAttributeNode("id").value===c?[f]:a:[]}},A.filter.ID=function(c){var a=c.replace(W,Y);return function(c){return(c=typeof c.getAttributeNode!==ba&&c.getAttributeNode("id"))&&c.value===a}}),A.find.TAG=X.tagNameNoComments?function(c,b){return typeof b.getElementsByTagName!==ba?b.getElementsByTagName(c):a}:function(c,a){var b,f=[],d=0,e=a.getElementsByTagName(c);if("*"===c){for(;b=e[d++];)1===b.nodeType&&f.push(b);return f}return e},A.find.NAME=X.getByName&&function(c,b){return typeof b.getElementsByName!==ba?b.getElementsByName(name):a},A.find.CLASS=X.getByClassName&&function(c,b){return typeof b.getElementsByClassName===ba||N?a:b.getElementsByClassName(c)},za=[],ma=[":focus"],(X.qsa=b(f.querySelectorAll))&&(m(function(c){c.innerHTML="\x3cselect\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";c.querySelectorAll("[selected]").length||ma.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");c.querySelectorAll(":checked").length||ma.push(":checked")}),m(function(c){c.innerHTML="\x3cinput type\x3d'hidden' i\x3d''/\x3e";c.querySelectorAll("[i^\x3d'']").length&&ma.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");c.querySelectorAll(":enabled").length||ma.push(":enabled",":disabled");c.querySelectorAll("*,:x");ma.push(",.*:")})),(X.matchesSelector=b(y=S.matchesSelector||S.mozMatchesSelector||S.webkitMatchesSelector||S.oMatchesSelector||S.msMatchesSelector))&&m(function(c){X.disconnectedMatch=y.call(c,"div");y.call(c,"[s!\x3d'']:x");za.push("!\x3d",P)}),ma=RegExp(ma.join("|")),za=RegExp(za.join("|")),wa=b(S.contains)||S.compareDocumentPosition?function(c,a){var b=9===c.nodeType?c.documentElement:c,f=a&&a.parentNode;return c===f||!(!f||1!==f.nodeType||!(b.contains?b.contains(f):c.compareDocumentPosition&&16&c.compareDocumentPosition(f)))}:function(c,a){if(a)for(;a=a.parentNode;)if(a===c)return!0;return!1},na=S.compareDocumentPosition?function(c,a){var b;return c===a?(la=!0,0):(b=a.compareDocumentPosition&&c.compareDocumentPosition&&c.compareDocumentPosition(a))?1&b||c.parentNode&&11===c.parentNode.nodeType?c===f||wa(da,c)?-1:a===f||wa(da,a)?1:0:4&b?-1:1:c.compareDocumentPosition?-1:1}:function(c,a){var b,d=0;b=c.parentNode;var e=a.parentNode,h=[c],m=[a];if(c===a)return la=!0,0;if(!b||!e)return c===f?-1:a===f?1:b?-1:e?1:0;if(b===e)return g(c,a);for(b=c;b=b.parentNode;)h.unshift(b);for(b=a;b=b.parentNode;)m.unshift(b);for(;h[d]===m[d];)d++;return d?g(h[d],m[d]):h[d]===da?-1:m[d]===da?1:0},la=!1,[0,0].sort(na),X.detectDuplicates=la,aa):aa};l.matches=function(c,a){return l(c,null,null,a)};l.matchesSelector=function(c,a){if((c.ownerDocument||c)!==aa&&ra(c),a=a.replace(ga,"\x3d'$1']"),X.matchesSelector&&!(N||za&&za.test(a)||ma.test(a)))try{var b=y.call(c,a);if(b||X.disconnectedMatch||c.document&&11!==c.document.nodeType)return b}catch(f){}return 0<l(a,aa,null,[c]).length};l.contains=function(c,a){return(c.ownerDocument||c)!==aa&&ra(c),wa(c,a)};l.attr=function(c,a){var b;return(c.ownerDocument||c)!==aa&&ra(c),N||(a=a.toLowerCase()),(b=A.attrHandle[a])?b(c):N||X.attributes?c.getAttribute(a):((b=c.getAttributeNode(a))||c.getAttribute(a))&&!0===c[a]?a:b&&b.specified?b.value:null};l.error=function(c){throw Error("Syntax error, unrecognized expression: "+c);};l.uniqueSort=function(c){var a,b=[],f=1,d=0;if(la=!X.detectDuplicates,c.sort(na),la){for(;a=c[f];f++)a===c[f-1]&&(d=b.push(f));for(;d--;)c.splice(b[d],1)}return c};x=l.getText=function(c){var a,b="",f=0;if(a=c.nodeType)if(1===a||9===a||11===a){if("string"==typeof c.textContent)return c.textContent;for(c=c.firstChild;c;c=c.nextSibling)b+=x(c)}else{if(3===a||4===a)return c.nodeValue}else for(;a=c[f];f++)b+=x(a);return b};A=l.selectors={cacheLength:50,createPseudo:e,match:R,find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(c){return c[1]=c[1].replace(W,Y),c[3]=(c[4]||c[5]||"").replace(W,Y),"~\x3d"===c[2]&&(c[3]=" "+c[3]+" "),c.slice(0,4)},CHILD:function(c){return c[1]=c[1].toLowerCase(),"nth"===c[1].slice(0,3)?(c[3]||l.error(c[0]),c[4]=+(c[4]?c[5]+(c[6]||1):2*("even"===c[3]||"odd"===c[3])),c[5]=+(c[7]+c[8]||"odd"===c[3])):c[3]&&l.error(c[0]),c},PSEUDO:function(c){var a,b=!c[5]&&c[2];return R.CHILD.test(c[0])?null:(c[4]?c[2]=c[4]:b&&U.test(b)&&(a=v(b,!0))&&(a=b.indexOf(")",b.length-a)-b.length)&&(c[0]=c[0].slice(0,a),c[2]=b.slice(0,a)),c.slice(0,3))}},filter:{TAG:function(c){return"*"===c?function(){return!0}:(c=c.replace(W,Y).toLowerCase(),function(a){return a.nodeName&&a.nodeName.toLowerCase()===c})},CLASS:function(c){var a=E[c+" "];return a||(a=RegExp("(^|[\\x20\\t\\r\\n\\f])"+c+"([\\x20\\t\\r\\n\\f]|$)"))&&E(c,function(c){return a.test(c.className||typeof c.getAttribute!==ba&&c.getAttribute("class")||"")})},ATTR:function(c,a,b){return function(f){f=l.attr(f,c);return null==f?"!\x3d"===a:a?(f+="","\x3d"===a?f===b:"!\x3d"===a?f!==b:"^\x3d"===a?b&&0===f.indexOf(b):"*\x3d"===a?b&&-1<f.indexOf(b):"$\x3d"===a?b&&f.slice(-b.length)===b:"~\x3d"===a?-1<(" "+f+" ").indexOf(b):"|\x3d"===a?f===b||f.slice(0,b.length+1)===b+"-":!1):!0}},CHILD:function(c,a,b,f,d){var e="nth"!==c.slice(0,3),h="last"!==c.slice(-4),m="of-type"===a;return 1===f&&0===d?function(c){return!!c.parentNode}:function(a,b,l){var C,g,t,r,n;b=e!==h?"nextSibling":"previousSibling";var J=a.parentNode,p=m&&a.nodeName.toLowerCase();l=!l&&!m;if(J){if(e){for(;b;){for(g=a;g=g[b];)if(m?g.nodeName.toLowerCase()===p:1===g.nodeType)return!1;n=b="only"===c&&!n&&"nextSibling"}return!0}if(n=[h?J.firstChild:J.lastChild],h&&l)for(l=J[G]||(J[G]={}),C=l[c]||[],r=C[0]===Q&&C[1],t=C[0]===Q&&C[2],g=r&&J.childNodes[r];g=++r&&g&&g[b]||(t=r=0)||n.pop();){if(1===g.nodeType&&++t&&g===a){l[c]=[Q,r,t];break}}else if(l&&(C=(a[G]||(a[G]={}))[c])&&C[0]===Q)t=C[1];else for(;(g=++r&&g&&g[b]||(t=r=0)||n.pop())&&((m?g.nodeName.toLowerCase()!==p:1!==g.nodeType)||!++t||(l&&((g[G]||(g[G]={}))[c]=[Q,t]),g!==a)););return t-=d,t===f||0===t%f&&0<=t/f}}},PSEUDO:function(c,a){var b,f=A.pseudos[c]||A.setFilters[c.toLowerCase()]||l.error("unsupported pseudo: "+c);return f[G]?f(a):1<f.length?(b=[c,c,"",a],A.setFilters.hasOwnProperty(c.toLowerCase())?e(function(c,b){for(var d,e=f(c,a),h=e.length;h--;)d=Oa.call(c,e[h]),c[d]=!(b[d]=e[h])}):function(c){return f(c,0,b)}):f}},pseudos:{not:e(function(c){var a=[],b=[],f=fa(c.replace(Ha,"$1"));return f[G]?e(function(c,a,b,d){var e;b=f(c,null,d,[]);for(d=c.length;d--;)(e=b[d])&&(c[d]=!(a[d]=e))}):function(c,d,e){return a[0]=c,f(a,null,e,b),!b.pop()}}),has:e(function(c){return function(a){return 0<l(c,a).length}}),contains:e(function(c){return function(a){return-1<(a.textContent||a.innerText||x(a)).indexOf(c)}}),lang:e(function(c){return V.test(c||"")||l.error("unsupported lang: "+c),c=c.replace(W,Y).toLowerCase(),function(a){var b;do if(b=N?a.getAttribute("xml:lang")||a.getAttribute("lang"):a.lang)return b=b.toLowerCase(),b===c||0===b.indexOf(c+"-");while((a=a.parentNode)&&1===a.nodeType);return!1}}),target:function(a){var b=c.location&&c.location.hash;return b&&b.slice(1)===a.id},root:function(c){return c===S},focus:function(c){return c===aa.activeElement&&(!aa.hasFocus||aa.hasFocus())&&!!(c.type||c.href||~c.tabIndex)},enabled:function(c){return!1===c.disabled},disabled:function(c){return!0===c.disabled},checked:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&!!c.checked||"option"===a&&!!c.selected},selected:function(c){return c.parentNode&&c.parentNode.selectedIndex,!0===c.selected},empty:function(c){for(c=c.firstChild;c;c=c.nextSibling)if("@"<c.nodeName||3===c.nodeType||4===c.nodeType)return!1;return!0},parent:function(c){return!A.pseudos.empty(c)},header:function(c){return ea.test(c.nodeName)},input:function(c){return ya.test(c.nodeName)},button:function(c){var a=c.nodeName.toLowerCase();return"input"===a&&"button"===c.type||"button"===a},text:function(c){var a;return"input"===c.nodeName.toLowerCase()&&"text"===c.type&&(null==(a=c.getAttribute("type"))||a.toLowerCase()===c.type)},first:p(function(){return[0]}),last:p(function(c,a){return[a-1]}),eq:p(function(c,a,b){return[0>b?b+a:b]}),even:p(function(c,a){for(var b=0;a>b;b+=2)c.push(b);return c}),odd:p(function(c,a){for(var b=1;a>b;b+=2)c.push(b);return c}),lt:p(function(c,a,b){for(a=0>b?b+a:b;0<=--a;)c.push(a);return c}),gt:p(function(c,a,b){for(b=0>b?b+a:b;a>++b;)c.push(b);return c})}};for(K in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[K]=n(K);for(K in{submit:!0,reset:!0})A.pseudos[K]=q(K);fa=l.compile=function(c,a){var b,f=[],d=[],e=oa[c+" "];if(!e){a||(a=v(c));for(b=a.length;b--;)e=z(a[b]),e[G]?f.push(e):d.push(e);e=oa(c,u(d,f))}return e};A.pseudos.nth=A.pseudos.eq;A.filters=O.prototype=A.pseudos;A.setFilters=new O;ra();l.attr=f.attr;f.find=l;f.expr=l.selectors;f.expr[":"]=f.expr.pseudos;f.unique=l.uniqueSort;f.text=l.getText;f.isXMLDoc=l.isXML;f.contains=l.contains})(a);var Ob=/Until$/,Pb=/^(?:parents|prev(?:Until|All))/,Hb=/^.[^:#\[\.,]*$/,sb=f.expr.match.needsContext,Qb={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(c){var a,b,d,e=this.length;if("string"!=typeof c)return d=this,this.pushStack(f(c).filter(function(){for(a=0;e>a;a++)if(f.contains(d[a],this))return!0}));b=[];for(a=0;e>a;a++)f.find(c,this[a],b);return b=this.pushStack(1<e?f.unique(b):b),b.selector=(this.selector?this.selector+" ":"")+c,b},has:function(c){var a,b=f(c,this),d=b.length;return this.filter(function(){for(a=0;d>a;a++)if(f.contains(this,b[a]))return!0})},not:function(c){return this.pushStack(p(this,c,!1))},filter:function(c){return this.pushStack(p(this,c,!0))},is:function(c){return!!c&&("string"==typeof c?sb.test(c)?0<=f(c,this.context).index(this[0]):0<f.filter(c,this).length:0<this.filter(c).length)},closest:function(c,a){for(var b,d=0,e=this.length,m=[],l=sb.test(c)||"string"!=typeof c?f(c,a||this.context):0;e>d;d++)for(b=this[d];b&&b.ownerDocument&&b!==a&&11!==b.nodeType;){if(l?-1<l.index(b):f.find.matchesSelector(b,c)){m.push(b);break}b=b.parentNode}return this.pushStack(1<m.length?f.unique(m):m)},index:function(c){return c?"string"==typeof c?f.inArray(this[0],f(c)):f.inArray(c.jquery?c[0]:c,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(c,a){var b="string"==typeof c?f(c,a):f.makeArray(c&&c.nodeType?[c]:c),b=f.merge(this.get(),b);return this.pushStack(f.unique(b))},addBack:function(c){return this.add(null==c?this.prevObject:this.prevObject.filter(c))}});f.fn.andSelf=f.fn.addBack;f.each({parent:function(c){return(c=c.parentNode)&&11!==c.nodeType?c:null},parents:function(c){return f.dir(c,"parentNode")},parentsUntil:function(c,a,b){return f.dir(c,"parentNode",b)},next:function(c){return v(c,"nextSibling")},prev:function(c){return v(c,"previousSibling")},nextAll:function(c){return f.dir(c,"nextSibling")},prevAll:function(c){return f.dir(c,"previousSibling")},nextUntil:function(c,a,b){return f.dir(c,"nextSibling",b)},prevUntil:function(c,a,b){return f.dir(c,"previousSibling",b)},siblings:function(c){return f.sibling((c.parentNode||{}).firstChild,c)},children:function(c){return f.sibling(c.firstChild)},contents:function(c){return f.nodeName(c,"iframe")?c.contentDocument||c.contentWindow.document:f.merge([],c.childNodes)}},function(c,a){f.fn[c]=function(b,d){var e=f.map(this,a,b);return Ob.test(c)||(d=b),d&&"string"==typeof d&&(e=f.filter(d,e)),e=1<this.length&&!Qb[c]?f.unique(e):e,1<this.length&&Pb.test(c)&&(e=e.reverse()),this.pushStack(e)}});f.extend({filter:function(c,a,b){return b&&(c=":not("+c+")"),1===a.length?f.find.matchesSelector(a[0],c)?[a[0]]:[]:f.find.matches(c,a)},dir:function(c,a,b){var d=[];for(c=c[a];c&&9!==c.nodeType&&(b===e||1!==c.nodeType||!f(c).is(b));)1===c.nodeType&&d.push(c),c=c[a];return d},sibling:function(c,a){for(var b=[];c;c=c.nextSibling)1===c.nodeType&&c!==a&&b.push(c);return b}});var nb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Rb=/ jQuery\d+="(?:null|\d+)"/g,tb=RegExp("\x3c(?:"+nb+")[\\s/\x3e]","i"),gb=/^\s+/,ub=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,vb=/<([\w:]+)/,wb=/<tbody/i,Sb=/<|&#?\w+;/,Tb=/<(?:script|style|link)/i,$a=/^(?:checkbox|radio)$/i,Ub=/checked\s*(?:[^=]|=\s*.checked.)/i,xb=/^$|\/(?:java|ecma)script/i,Ib=/^true\/(.*)/,Vb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Y={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:f.support.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]},hb=z(y).appendChild(y.createElement("div"));Y.optgroup=Y.option;Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead;Y.th=Y.td;f.fn.extend({text:function(c){return f.access(this,function(c){return c===e?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(c))},null,c,arguments.length)},wrapAll:function(c){if(f.isFunction(c))return this.each(function(a){f(this).wrapAll(c.call(this,a))});if(this[0]){var a=f(c,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&a.insertBefore(this[0]);a.map(function(){for(var c=this;c.firstChild&&1===c.firstChild.nodeType;)c=c.firstChild;return c}).append(this)}return this},wrapInner:function(c){return f.isFunction(c)?this.each(function(a){f(this).wrapInner(c.call(this,a))}):this.each(function(){var a=f(this),b=a.contents();b.length?b.wrapAll(c):a.append(c)})},wrap:function(c){var a=f.isFunction(c);return this.each(function(b){f(this).wrapAll(a?c.call(this,b):c)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.appendChild(c)})},prepend:function(){return this.domManip(arguments,!0,function(c){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||this.insertBefore(c,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(c){this.parentNode&&this.parentNode.insertBefore(c,this)})},after:function(){return this.domManip(arguments,!1,function(c){this.parentNode&&this.parentNode.insertBefore(c,this.nextSibling)})},remove:function(c,a){for(var b,d=0;null!=(b=this[d]);d++)(!c||0<f.filter(c,[b]).length)&&(a||1!==b.nodeType||f.cleanData(F(b)),b.parentNode&&(a&&f.contains(b.ownerDocument,b)&&O(F(b,"script")),b.parentNode.removeChild(b)));return this},empty:function(){for(var c,a=0;null!=(c=this[a]);a++){for(1===c.nodeType&&f.cleanData(F(c,!1));c.firstChild;)c.removeChild(c.firstChild);c.options&&f.nodeName(c,"select")&&(c.options.length=0)}return this},clone:function(c,a){return c=null==c?!1:c,a=null==a?c:a,this.map(function(){return f.clone(this,c,a)})},html:function(c){return f.access(this,function(c){var a=this[0]||{},b=0,d=this.length;if(c===e)return 1===a.nodeType?a.innerHTML.replace(Rb,""):e;if(!("string"!=typeof c||Tb.test(c)||!f.support.htmlSerialize&&tb.test(c)||!f.support.leadingWhitespace&&gb.test(c)||Y[(vb.exec(c)||["",""])[1].toLowerCase()])){c=c.replace(ub,"\x3c$1\x3e\x3c/$2\x3e");try{for(;d>b;b++)a=this[b]||{},1===a.nodeType&&(f.cleanData(F(a,!1)),a.innerHTML=c);a=0}catch(m){}}a&&this.empty().append(c)},null,c,arguments.length)},replaceWith:function(c){return f.isFunction(c)||"string"==typeof c||(c=f(c).not(this).detach()),this.domManip([c],!0,function(c){var a=this.nextSibling,b=this.parentNode;b&&(f(this).remove(),b.insertBefore(c,a))})},detach:function(c){return this.remove(c,!0)},domManip:function(c,a,b){c=U.apply([],c);var d,g,m,l,r=0,p=this.length,q=this,v=p-1,k=c[0],A=f.isFunction(k);if(A||!(1>=p||"string"!=typeof k||f.support.checkClone)&&Ub.test(k))return this.each(function(f){var d=q.eq(f);A&&(c[0]=k.call(this,f,a?d.html():e));d.domManip(c,a,b)});if(p&&(l=f.buildFragment(c,this[0].ownerDocument,!1,this),d=l.firstChild,1===l.childNodes.length&&(l=d),d)){a=a&&f.nodeName(d,"tr");m=f.map(F(l,"script"),x);for(g=m.length;p>r;r++)d=l,r!==v&&(d=f.clone(d,!0,!0),g&&f.merge(m,F(d,"script"))),b.call(a&&f.nodeName(this[r],"table")?this[r].getElementsByTagName("tbody")[0]||this[r].appendChild(this[r].ownerDocument.createElement("tbody")):this[r],d,r);if(g)for(l=m[m.length-1].ownerDocument,f.map(m,n),r=0;g>r;r++)d=m[r],xb.test(d.type||"")&&!f._data(d,"globalEval")&&f.contains(l,d)&&(d.src?f.ajax({url:d.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):f.globalEval((d.text||d.textContent||d.innerHTML||"").replace(Vb,"")));l=d=null}return this}});f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(c,a){f.fn[c]=function(c){for(var b=0,d=[],e=f(c),l=e.length-1;l>=b;b++)c=b===l?this:this.clone(!0),f(e[b])[a](c),R.apply(d,c.get());return this.pushStack(d)}});f.extend({clone:function(c,a,b){var d,e,m,l,g,p=f.contains(c.ownerDocument,c);if(f.support.html5Clone||f.isXMLDoc(c)||!tb.test("\x3c"+c.nodeName+"\x3e")?m=c.cloneNode(!0):(hb.innerHTML=c.outerHTML,hb.removeChild(m=hb.firstChild)),!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==c.nodeType&&11!==c.nodeType||f.isXMLDoc(c)))for(d=F(m),g=F(c),l=0;null!=(e=g[l]);++l)if(d[l]){var q=d[l],v=void 0,k=void 0,A=void 0;if(1===q.nodeType){if(v=q.nodeName.toLowerCase(),!f.support.noCloneEvent&&q[f.expando]){A=f._data(q);for(k in A.events)f.removeEvent(q,k,A.handle);q.removeAttribute(f.expando)}"script"===v&&q.text!==e.text?(x(q).text=e.text,n(q)):"object"===v?(q.parentNode&&(q.outerHTML=e.outerHTML),f.support.html5Clone&&e.innerHTML&&!f.trim(q.innerHTML)&&(q.innerHTML=e.innerHTML)):"input"===v&&$a.test(e.type)?(q.defaultChecked=q.checked=e.checked,q.value!==e.value&&(q.value=e.value)):"option"===v?q.defaultSelected=q.selected=e.defaultSelected:("input"===v||"textarea"===v)&&(q.defaultValue=e.defaultValue)}}if(a)if(b)for(g=g||F(c),d=d||F(m),l=0;null!=(e=g[l]);l++)K(e,d[l]);else K(c,m);return d=F(m,"script"),0<d.length&&O(d,!p&&F(c,"script")),m},buildFragment:function(c,a,b,d){for(var e,m,l,g,n,q,p,v=c.length,k=z(a),A=[],s=0;v>s;s++)if(m=c[s],m||0===m)if("object"===f.type(m))f.merge(A,m.nodeType?[m]:m);else if(Sb.test(m)){g=g||k.appendChild(a.createElement("div"));n=(vb.exec(m)||["",""])[1].toLowerCase();p=Y[n]||Y._default;g.innerHTML=p[1]+m.replace(ub,"\x3c$1\x3e\x3c/$2\x3e")+p[2];for(e=p[0];e--;)g=g.lastChild;if(!f.support.leadingWhitespace&&gb.test(m)&&A.push(a.createTextNode(gb.exec(m)[0])),!f.support.tbody)for(e=(m="table"!==n||wb.test(m)?"\x3ctable\x3e"!==p[1]||wb.test(m)?0:g:g.firstChild)&&m.childNodes.length;e--;)f.nodeName(q=m.childNodes[e],"tbody")&&!q.childNodes.length&&m.removeChild(q);f.merge(A,g.childNodes);for(g.textContent="";g.firstChild;)g.removeChild(g.firstChild);g=k.lastChild}else A.push(a.createTextNode(m));g&&k.removeChild(g);f.support.appendChecked||f.grep(F(A,"input"),na);for(s=0;m=A[s++];)if((!d||-1===f.inArray(m,d))&&(l=f.contains(m.ownerDocument,m),g=F(k.appendChild(m),"script"),l&&O(g),b))for(e=0;m=g[e++];)xb.test(m.type||"")&&b.push(m);return k},cleanData:function(c,a){for(var b,d,e,m,g=0,r=f.expando,n=f.cache,q=f.support.deleteExpando,p=f.event.special;null!=(b=c[g]);g++)if((a||f.acceptData(b))&&(e=b[r],m=e&&n[e])){if(m.events)for(d in m.events)p[d]?f.event.remove(b,d):f.removeEvent(b,d,m.handle);n[e]&&(delete n[e],q?delete b[r]:typeof b.removeAttribute!==Z?b.removeAttribute(r):b[r]=null,ga.push(e))}}});var Pa,Ca,Da,ib=/alpha\([^)]*\)/i,Wb=/opacity\s*=\s*([^)]*)/,Xb=/^(top|right|bottom|left)$/,Yb=/^(none|table(?!-c[ea]).+)/,yb=/^margin/,Jb=RegExp("^("+E+")(.*)$","i"),Va=RegExp("^("+E+")(?!px)[a-z%]+$","i"),Zb=RegExp("^([+-])\x3d("+E+")","i"),pb={BODY:"block"},$b={position:"absolute",visibility:"hidden",display:"block"},zb={letterSpacing:0,fontWeight:400},Ba=["Top","Right","Bottom","Left"],ob=["Webkit","O","Moz","ms"];f.fn.extend({css:function(c,a){return f.access(this,function(c,a,b){var d,h={},g=0;if(f.isArray(a)){d=Ca(c);for(b=a.length;b>g;g++)h[a[g]]=f.css(c,a[g],!1,d);return h}return b!==e?f.style(c,a,b):f.css(c,a)},c,a,1<arguments.length)},show:function(){return ba(this,!0)},hide:function(){return ba(this)},toggle:function(c){var a="boolean"==typeof c;return this.each(function(){(a?c:Q(this))?f(this).show():f(this).hide()})}});f.extend({cssHooks:{opacity:{get:function(c,a){if(a){var b=Da(c,"opacity");return""===b?"1":b}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(c,a,b,d){if(c&&3!==c.nodeType&&8!==c.nodeType&&c.style){var g,m,l,r=f.camelCase(a),n=c.style;if(a=f.cssProps[r]||(f.cssProps[r]=G(n,r)),l=f.cssHooks[a]||f.cssHooks[r],b===e)return l&&"get"in l&&(g=l.get(c,!1,d))!==e?g:n[a];if(m=typeof b,"string"===m&&(g=Zb.exec(b))&&(b=(g[1]+1)*g[2]+parseFloat(f.css(c,a)),m="number"),!(null==b||"number"===m&&isNaN(b)||("number"!==m||f.cssNumber[r]||(b+="px"),f.support.clearCloneStyle||""!==b||0!==a.indexOf("background")||(n[a]="inherit"),l&&"set"in l&&(b=l.set(c,b,d))===e)))try{n[a]=b}catch(q){}}},css:function(c,a,b,d){var g,m,l,n=f.camelCase(a);return a=f.cssProps[n]||(f.cssProps[n]=G(c.style,n)),l=f.cssHooks[a]||f.cssHooks[n],l&&"get"in l&&(m=l.get(c,!0,b)),m===e&&(m=Da(c,a,d)),"normal"===m&&a in zb&&(m=zb[a]),""===b||b?(g=parseFloat(m),!0===b||f.isNumeric(g)?g||0:m):m},swap:function(c,a,b,d){var f,e={};for(f in a)e[f]=c.style[f],c.style[f]=a[f];b=b.apply(c,d||[]);for(f in a)c.style[f]=e[f];return b}});a.getComputedStyle?(Ca=function(c){return a.getComputedStyle(c,null)},Da=function(c,a,b){var d,g,m,l=(b=b||Ca(c))?b.getPropertyValue(a)||b[a]:e,n=c.style;return b&&(""!==l||f.contains(c.ownerDocument,c)||(l=f.style(c,a)),Va.test(l)&&yb.test(a)&&(d=n.width,g=n.minWidth,m=n.maxWidth,n.minWidth=n.maxWidth=n.width=l,l=b.width,n.width=d,n.minWidth=g,n.maxWidth=m)),l}):y.documentElement.currentStyle&&(Ca=function(c){return c.currentStyle},Da=function(c,a,b){var f,d,g;b=(b=b||Ca(c))?b[a]:e;var l=c.style;return null==b&&l&&l[a]&&(b=l[a]),Va.test(b)&&!Xb.test(a)&&(f=l.left,d=c.runtimeStyle,g=d&&d.left,g&&(d.left=c.currentStyle.left),l.left="fontSize"===a?"1em":b,b=l.pixelLeft+"px",l.left=f,g&&(d.left=g)),""===b?"auto":b});f.each(["height","width"],function(c,a){f.cssHooks[a]={get:function(c,b,d){return b?0===c.offsetWidth&&Yb.test(f.css(c,"display"))?f.swap(c,$b,function(){return q(c,a,d)}):q(c,a,d):e},set:function(c,b,d){var e=d&&Ca(c);return D(c,b,d?N(c,a,d,f.support.boxSizing&&"border-box"===f.css(c,"boxSizing",!1,e),e):0)}}});f.support.opacity||(f.cssHooks.opacity={get:function(c,a){return Wb.test((a&&c.currentStyle?c.currentStyle.filter:c.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":a?"1":""},set:function(c,a){var b=c.style,d=c.currentStyle,e=f.isNumeric(a)?"alpha(opacity\x3d"+100*a+")":"",g=d&&d.filter||b.filter||"";b.zoom=1;(1<=a||""===a)&&""===f.trim(g.replace(ib,""))&&b.removeAttribute&&(b.removeAttribute("filter"),""===a||d&&!d.filter)||(b.filter=ib.test(g)?g.replace(ib,e):g+" "+e)}});f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(c,a){return a?f.swap(c,{display:"inline-block"},Da,[c,"marginRight"]):e}});!f.support.pixelPosition&&f.fn.position&&f.each(["top","left"],function(c,a){f.cssHooks[a]={get:function(c,b){return b?(b=Da(c,a),Va.test(b)?f(c).position()[a]+"px":b):e}}})});f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(c){return 0>=c.offsetWidth&&0>=c.offsetHeight||!f.support.reliableHiddenOffsets&&"none"===(c.style&&c.style.display||f.css(c,"display"))},f.expr.filters.visible=function(c){return!f.expr.filters.hidden(c)});f.each({margin:"",padding:"",border:"Width"},function(c,a){f.cssHooks[c+a]={expand:function(b){var d=0,f={};for(b="string"==typeof b?b.split(" "):[b];4>d;d++)f[c+Ba[d]+a]=b[d]||b[d-2]||b[0];return f}};yb.test(c)||(f.cssHooks[c+a].set=D)});var ac=/%20/g,Kb=/\[\]$/,Ab=/\r?\n/g,bc=/^(?:submit|button|image|reset|file)$/i,cc=/^(?:input|select|textarea|keygen)/i;f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var c=f.prop(this,"elements");return c?f.makeArray(c):this}).filter(function(){var c=this.type;return this.name&&!f(this).is(":disabled")&&cc.test(this.nodeName)&&!bc.test(c)&&(this.checked||!$a.test(c))}).map(function(c,a){var b=f(this).val();return null==b?null:f.isArray(b)?f.map(b,function(c){return{name:a.name,value:c.replace(Ab,"\r\n")}}):{name:a.name,value:b.replace(Ab,"\r\n")}}).get()}});f.param=function(c,a){var b,d=[],g=function(c,a){a=f.isFunction(a)?a():null==a?"":a;d[d.length]=encodeURIComponent(c)+"\x3d"+encodeURIComponent(a)};if(a===e&&(a=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(c)||c.jquery&&!f.isPlainObject(c))f.each(c,function(){g(this.name,this.value)});else for(b in c)ya(b,c[b],a,g);return d.join("\x26").replace(ac,"+")};f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(c,a){f.fn[a]=function(c,b){return 0<arguments.length?this.on(a,null,c,b):this.trigger(a)}});f.fn.hover=function(c,a){return this.mouseenter(c).mouseleave(a||c)};var Ia,Aa,jb=f.now(),kb=/\?/,dc=/#.*$/,Bb=/([?&])_=[^&]*/,ec=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,fc=/^(?:GET|HEAD)$/,gc=/^\/\//,Cb=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Db=f.fn.load,Eb={},ab={},Fb="*/".concat("*");try{Aa=Ea.href}catch(lc){Aa=y.createElement("a"),Aa.href="",Aa=Aa.href}Ia=Cb.exec(Aa.toLowerCase())||[];f.fn.load=function(c,a,b){if("string"!=typeof c&&Db)return Db.apply(this,arguments);var d,g,m,l=this,n=c.indexOf(" ");return 0<=n&&(d=c.slice(n,c.length),c=c.slice(0,n)),f.isFunction(a)?(b=a,a=e):a&&"object"==typeof a&&(m="POST"),0<l.length&&f.ajax({url:c,type:m,dataType:"html",data:a}).done(function(c){g=arguments;l.html(d?f("\x3cdiv\x3e").append(f.parseHTML(c)).find(d):c)}).complete(b&&function(c,a){l.each(b,g||[c.responseText,a,c])}),this};f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(c,a){f.fn[a]=function(c){return this.on(a,c)}});f.each(["get","post"],function(c,a){f[a]=function(c,b,d,g){return f.isFunction(b)&&(g=g||d,d=b,b=e),f.ajax({url:c,type:a,dataType:g,data:b,success:d})}});f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Aa,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ia[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Fb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(c,a){return a?Ja(Ja(c,f.ajaxSettings),a):Ja(f.ajaxSettings,c)},ajaxPrefilter:Qa(Eb),ajaxTransport:Qa(ab),ajax:function(c,a){function b(c,a,d,h){var g,t,v,C,J,z=a;if(2!==u){u=2;n&&clearTimeout(n);p=e;l=h||"";D.readyState=0<c?4:0;if(d){C=k;h=D;var K,O,x,F,la=C.contents,fa=C.dataTypes,aa=C.responseFields;for(F in aa)F in d&&(h[aa[F]]=d[F]);for(;"*"===fa[0];)fa.shift(),O===e&&(O=C.mimeType||h.getResponseHeader("Content-Type"));if(O)for(F in la)if(la[F]&&la[F].test(O)){fa.unshift(F);break}if(fa[0]in d)x=fa[0];else{for(F in d){if(!fa[0]||C.converters[F+" "+fa[0]]){x=F;break}K||(K=F)}x=x||K}C=x?(x!==fa[0]&&fa.unshift(x),d[x]):e}if(200<=c&&300>c||304===c)if(k.ifModified&&(J=D.getResponseHeader("Last-Modified"),J&&(f.lastModified[m]=J),J=D.getResponseHeader("etag"),J&&(f.etag[m]=J)),204===c)g=!0,z="nocontent";else if(304===c)g=!0,z="notmodified";else{var S;a:{d=k;g=C;var N,ka;v={};J=0;z=d.dataTypes.slice();K=z[0];if(d.dataFilter&&(g=d.dataFilter(g,d.dataType)),z[1])for(N in d.converters)v[N.toLowerCase()]=d.converters[N];for(;t=z[++J];)if("*"!==t){if("*"!==K&&K!==t){if(N=v[K+" "+t]||v["* "+t],!N)for(S in v)if(ka=S.split(" "),ka[1]===t&&(N=v[K+" "+ka[0]]||v["* "+ka[0]])){!0===N?N=v[S]:!0!==v[S]&&(t=ka[0],z.splice(J--,0,t));break}if(!0!==N)if(N&&d["throws"])g=N(g);else try{g=N(g)}catch(ra){S={state:"parsererror",error:N?ra:"No conversion from "+K+" to "+t};break a}}K=t}S={state:"success",data:g}}g=S;z=g.state;t=g.data;v=g.error;g=!v}else v=z,(c||!z)&&(z="error",0>c&&(c=0));D.status=c;D.statusText=(a||z)+"";g?w.resolveWith(A,[t,z,D]):w.rejectWith(A,[D,z,v]);D.statusCode(B);B=e;q&&s.trigger(g?"ajaxSuccess":"ajaxError",[D,k,g?t:v]);ha.fireWith(A,[D,z]);q&&(s.trigger("ajaxComplete",[D,k]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof c&&(a=c,c=e);a=a||{};var d,g,m,l,n,q,p,v,k=f.ajaxSetup({},a),A=k.context||k,s=k.context&&(A.nodeType||A.jquery)?f(A):f.event,w=f.Deferred(),ha=f.Callbacks("once memory"),B=k.statusCode||{},z={},K={},u=0,O="canceled",D={readyState:0,getResponseHeader:function(c){var a;if(2===u){if(!v)for(v={};a=ec.exec(l);)v[a[1].toLowerCase()]=a[2];a=v[c.toLowerCase()]}return null==a?null:a},getAllResponseHeaders:function(){return 2===u?l:null},setRequestHeader:function(c,a){var b=c.toLowerCase();return u||(c=K[b]=K[b]||c,z[c]=a),this},overrideMimeType:function(c){return u||(k.mimeType=c),this},statusCode:function(c){var a;if(c)if(2>u)for(a in c)B[a]=[B[a],c[a]];else D.always(c[D.status]);return this},abort:function(c){c=c||O;return p&&p.abort(c),b(0,c),this}};if(w.promise(D).complete=ha.add,D.success=D.done,D.error=D.fail,k.url=((c||k.url||Aa)+"").replace(dc,"").replace(gc,Ia[1]+"//"),k.type=a.method||a.type||k.method||k.type,k.dataTypes=f.trim(k.dataType||"*").toLowerCase().match(V)||[""],null==k.crossDomain&&(d=Cb.exec(k.url.toLowerCase()),k.crossDomain=!(!d||d[1]===Ia[1]&&d[2]===Ia[2]&&(d[3]||("http:"===d[1]?80:443))==(Ia[3]||("http:"===Ia[1]?80:443)))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=f.param(k.data,k.traditional)),T(Eb,k,a,D),2===u)return D;(q=k.global)&&0===f.active++&&f.event.trigger("ajaxStart");k.type=k.type.toUpperCase();k.hasContent=!fc.test(k.type);m=k.url;k.hasContent||(k.data&&(m=k.url+=(kb.test(m)?"\x26":"?")+k.data,delete k.data),!1===k.cache&&(k.url=Bb.test(m)?m.replace(Bb,"$1_\x3d"+jb++):m+(kb.test(m)?"\x26":"?")+"_\x3d"+jb++));k.ifModified&&(f.lastModified[m]&&D.setRequestHeader("If-Modified-Since",f.lastModified[m]),f.etag[m]&&D.setRequestHeader("If-None-Match",f.etag[m]));(k.data&&k.hasContent&&!1!==k.contentType||a.contentType)&&D.setRequestHeader("Content-Type",k.contentType);D.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Fb+"; q\x3d0.01":""):k.accepts["*"]);for(g in k.headers)D.setRequestHeader(g,k.headers[g]);if(k.beforeSend&&(!1===k.beforeSend.call(A,D,k)||2===u))return D.abort();O="abort";for(g in{success:1,error:1,complete:1})D[g](k[g]);if(p=T(ab,k,a,D)){D.readyState=1;q&&s.trigger("ajaxSend",[D,k]);k.async&&0<k.timeout&&(n=setTimeout(function(){D.abort("timeout")},k.timeout));try{u=1,p.send(z,b)}catch(x){if(!(2>u))throw x;b(-1,x)}}else b(-1,"No Transport");return D},getScript:function(c,a){return f.get(c,e,a,"script")},getJSON:function(c,a,b){return f.get(c,a,b,"json")}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(c){return f.globalEval(c),c}}});f.ajaxPrefilter("script",function(c){c.cache===e&&(c.cache=!1);c.crossDomain&&(c.type="GET",c.global=!1)});f.ajaxTransport("script",function(c){if(c.crossDomain){var a,b=y.head||f("head")[0]||y.documentElement;return{send:function(d,f){a=y.createElement("script");a.async=!0;c.scriptCharset&&(a.charset=c.scriptCharset);a.src=c.url;a.onload=a.onreadystatechange=function(c,b){(b||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),a=null,b||f(200,"success"))};b.insertBefore(a,b.firstChild)},abort:function(){a&&a.onload(e,!0)}}}});var Gb=[],lb=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var c=Gb.pop()||f.expando+"_"+jb++;return this[c]=!0,c}});f.ajaxPrefilter("json jsonp",function(c,b,d){var g,n,m,l=!1!==c.jsonp&&(lb.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&lb.test(c.data)&&"data");return l||"jsonp"===c.dataTypes[0]?(g=c.jsonpCallback=f.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,l?c[l]=c[l].replace(lb,"$1"+g):!1!==c.jsonp&&(c.url+=(kb.test(c.url)?"\x26":"?")+c.jsonp+"\x3d"+g),c.converters["script json"]=function(){return m||f.error(g+" was not called"),m[0]},c.dataTypes[0]="json",n=a[g],a[g]=function(){m=arguments},d.always(function(){a[g]=n;c[g]&&(c.jsonpCallback=b.jsonpCallback,Gb.push(g));m&&f.isFunction(n)&&n(m[0]);m=n=e}),"script"):e});var Na,Ua,hc=0,mb=a.ActiveXObject&&function(){for(var c in Na)Na[c](e,!0)};f.ajaxSettings.xhr=a.ActiveXObject?function(){var c;if(!(c=!this.isLocal&&Ka()))a:{try{c=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}c=void 0}return c}:Ka;Ua=f.ajaxSettings.xhr();f.support.cors=!!Ua&&"withCredentials"in Ua;(Ua=f.support.ajax=!!Ua)&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var b;return{send:function(d,g){var n,m,l=c.xhr();if(c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async),c.xhrFields)for(m in c.xhrFields)l[m]=c.xhrFields[m];c.mimeType&&l.overrideMimeType&&l.overrideMimeType(c.mimeType);c.crossDomain||d["X-Requested-With"]||(d["X-Requested-With"]="XMLHttpRequest");try{for(m in d)l.setRequestHeader(m,d[m])}catch(q){}l.send(c.hasContent&&c.data||null);b=function(a,d){var m,q,p,r;try{if(b&&(d||4===l.readyState))if(b=e,n&&(l.onreadystatechange=f.noop,mb&&delete Na[n]),d)4!==l.readyState&&l.abort();else{r={};m=l.status;q=l.getAllResponseHeaders();"string"==typeof l.responseText&&(r.text=l.responseText);try{p=l.statusText}catch(k){p=""}m||!c.isLocal||c.crossDomain?1223===m&&(m=204):m=r.text?200:404}}catch(v){d||g(-1,v)}r&&g(m,p,r,q)};c.async?4===l.readyState?setTimeout(b):(n=++hc,mb&&(Na||(Na={},f(a).unload(mb)),Na[n]=b),l.onreadystatechange=b):b()},abort:function(){b&&b(e,!0)}}}});var La,Za,ic=/^(?:toggle|show|hide)$/,jc=RegExp("^(?:([+-])\x3d|)("+E+")([a-z%]*)$","i"),kc=/queueHooks$/,Wa=[function(c,a,b){var d,e,g,l,n,q,p=this,k=c.style,v={},A=[],s=c.nodeType&&Q(c);b.queue||(n=f._queueHooks(c,"fx"),null==n.unqueued&&(n.unqueued=0,q=n.empty.fire,n.empty.fire=function(){n.unqueued||q()}),n.unqueued++,p.always(function(){p.always(function(){n.unqueued--;f.queue(c,"fx").length||n.empty.fire()})}));1===c.nodeType&&("height"in a||"width"in a)&&(b.overflow=[k.overflow,k.overflowX,k.overflowY],"inline"===f.css(c,"display")&&"none"===f.css(c,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==ia(c.nodeName)?k.zoom=1:k.display="inline-block"));b.overflow&&(k.overflow="hidden",f.support.shrinkWrapBlocks||p.always(function(){k.overflow=b.overflow[0];k.overflowX=b.overflow[1];k.overflowY=b.overflow[2]}));for(e in a)(g=a[e],ic.exec(g))&&(delete a[e],d=d||"toggle"===g,g!==(s?"hide":"show"))&&A.push(e);if(a=A.length)for(g=f._data(c,"fxshow")||f._data(c,"fxshow",{}),("hidden"in g)&&(s=g.hidden),d&&(g.hidden=!s),s?f(c).show():p.done(function(){f(c).hide()}),p.done(function(){var a;f._removeData(c,"fxshow");for(a in v)f.style(c,a,v[a])}),e=0;a>e;e++)d=A[e],l=p.createTween(d,s?g[d]:0),v[d]=g[d]||f.style(c,d),d in g||(g[d]=l.start,s&&(l.end=l.start,l.start="width"===d||"height"===d?1:0))}],Ra={"*":[function(c,a){var b,d,e=this.createTween(c,a),g=jc.exec(a),l=e.cur(),n=+l||0,p=1,q=20;if(g){if(b=+g[2],d=g[3]||(f.cssNumber[c]?"":"px"),"px"!==d&&n){n=f.css(e.elem,c,!0)||b||1;do p=p||".5",n/=p,f.style(e.elem,c,n+d);while(p!==(p=e.cur()/l)&&1!==p&&--q)}e.unit=d;e.start=n;e.end=g[1]?n+(g[1]+1)*b:b}return e}]};f.Animation=f.extend(M,{tweener:function(c,a){f.isFunction(c)?(a=c,c=["*"]):c=c.split(" ");for(var b,d=0,e=c.length;e>d;d++)b=c[d],Ra[b]=Ra[b]||[],Ra[b].unshift(a)},prefilter:function(c,a){a?Wa.unshift(c):Wa.push(c)}});f.Tween=P;P.prototype={constructor:P,init:function(c,a,b,d,e,g){this.elem=c;this.prop=b;this.easing=e||"swing";this.options=a;this.start=this.now=this.cur();this.end=d;this.unit=g||(f.cssNumber[b]?"":"px")},cur:function(){var c=P.propHooks[this.prop];return c&&c.get?c.get(this):P.propHooks._default.get(this)},run:function(c){var a,b=P.propHooks[this.prop];return this.pos=a=this.options.duration?f.easing[this.easing](c,this.options.duration*c,0,1,this.options.duration):c,this.now=(this.end-this.start)*a+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),b&&b.set?b.set(this):P.propHooks._default.set(this),this}};P.prototype.init.prototype=P.prototype;P.propHooks={_default:{get:function(c){var a;return null==c.elem[c.prop]||c.elem.style&&null!=c.elem.style[c.prop]?(a=f.css(c.elem,c.prop,""),a&&"auto"!==a?a:0):c.elem[c.prop]},set:function(c){f.fx.step[c.prop]?f.fx.step[c.prop](c):c.elem.style&&(null!=c.elem.style[f.cssProps[c.prop]]||f.cssHooks[c.prop])?f.style(c.elem,c.prop,c.now+c.unit):c.elem[c.prop]=c.now}}};P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};f.each(["toggle","show","hide"],function(c,a){var b=f.fn[a];f.fn[a]=function(c,d,f){return null==c||"boolean"==typeof c?b.apply(this,arguments):this.animate(ta(a,!0),c,d,f)}});f.fn.extend({fadeTo:function(c,a,b,d){return this.filter(Q).css("opacity",0).show().end().animate({opacity:a},c,b,d)},animate:function(c,a,b,d){var e=f.isEmptyObject(c),g=f.speed(a,b,d),l=function(){var a=M(this,f.extend({},c),g);l.finish=function(){a.stop(!0)};(e||f._data(this,"finish"))&&a.stop(!0)};return l.finish=l,e||!1===g.queue?this.each(l):this.queue(g.queue,l)},stop:function(c,a,b){var d=function(c){var a=c.stop;delete c.stop;a(b)};return"string"!=typeof c&&(b=a,a=c,c=e),a&&!1!==c&&this.queue(c||"fx",[]),this.each(function(){var a=!0,e=null!=c&&c+"queueHooks",g=f.timers,h=f._data(this);if(e)h[e]&&h[e].stop&&d(h[e]);else for(e in h)h[e]&&h[e].stop&&kc.test(e)&&d(h[e]);for(e=g.length;e--;)g[e].elem!==this||null!=c&&g[e].queue!==c||(g[e].anim.stop(b),a=!1,g.splice(e,1));!a&&b||f.dequeue(this,c)})},finish:function(c){return!1!==c&&(c=c||"fx"),this.each(function(){var a,b=f._data(this),d=b[c+"queue"];a=b[c+"queueHooks"];var e=f.timers,g=d?d.length:0;b.finish=!0;f.queue(this,c,[]);a&&a.cur&&a.cur.finish&&a.cur.finish.call(this);for(a=e.length;a--;)e[a].elem===this&&e[a].queue===c&&(e[a].anim.stop(!0),e.splice(a,1));for(a=0;g>a;a++)d[a]&&d[a].finish&&d[a].finish.call(this);delete b.finish})}});f.each({slideDown:ta("show"),slideUp:ta("hide"),slideToggle:ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});f.speed=function(a,b,d){var e=a&&"object"==typeof a?f.extend({},a):{complete:d||!d&&b||f.isFunction(a)&&a,duration:a,easing:d&&b||b&&!f.isFunction(b)&&b};return e.duration=f.fx.off?0:"number"==typeof e.duration?e.duration:e.duration in f.fx.speeds?f.fx.speeds[e.duration]:f.fx.speeds._default,(null==e.queue||!0===e.queue)&&(e.queue="fx"),e.old=e.complete,e.complete=function(){f.isFunction(e.old)&&e.old.call(this);e.queue&&f.dequeue(this,e.queue)},e};f.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};f.timers=[];f.fx=P.prototype.init;f.fx.tick=function(){var a,b=f.timers,d=0;for(La=f.now();b.length>d;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||f.fx.stop();La=e};f.fx.timer=function(a){a()&&f.timers.push(a)&&f.fx.start()};f.fx.interval=13;f.fx.start=function(){Za||(Za=setInterval(f.fx.tick,f.fx.interval))};f.fx.stop=function(){clearInterval(Za);Za=null};f.fx.speeds={slow:600,fast:200,_default:400};f.fx.step={};f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});f.fn.offset=function(a){if(arguments.length)return a===e?this:this.each(function(b){f.offset.setOffset(this,a,b)});var b,d,g={top:0,left:0},n=this[0],m=n&&n.ownerDocument;if(m)return b=m.documentElement,f.contains(b,n)?(typeof n.getBoundingClientRect!==Z&&(g=n.getBoundingClientRect()),d=ua(m),{top:g.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:g.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):g};f.offset={setOffset:function(a,b,d){var e=f.css(a,"position");"static"===e&&(a.style.position="relative");var g=f(a),m=g.offset(),l=f.css(a,"top"),n=f.css(a,"left"),p={},q={},k,v;("absolute"===e||"fixed"===e)&&-1<f.inArray("auto",[l,n])?(q=g.position(),k=q.top,v=q.left):(k=parseFloat(l)||0,v=parseFloat(n)||0);f.isFunction(b)&&(b=b.call(a,d,m));null!=b.top&&(p.top=b.top-m.top+k);null!=b.left&&(p.left=b.left-m.left+v);"using"in b?b.using.call(a,p):g.css(p)}};f.fn.extend({position:function(){if(this[0]){var a,b,d={top:0,left:0},e=this[0];return"fixed"===f.css(e,"position")?b=e.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),f.nodeName(a[0],"html")||(d=a.offset()),d.top+=f.css(a[0],"borderTopWidth",!0),d.left+=f.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-f.css(e,"marginTop",!0),left:b.left-d.left-f.css(e,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||y.documentElement;a&&!f.nodeName(a,"html")&&"static"===f.css(a,"position");)a=a.offsetParent;return a||y.documentElement})}});f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);f.fn[a]=function(g){return f.access(this,function(a,c,g){var n=ua(a);return g===e?n?b in n?n[b]:n.document.documentElement[c]:a[c]:(n?n.scrollTo(d?f(n).scrollLeft():g,d?g:f(n).scrollTop()):a[c]=g,e)},a,g,arguments.length,null)}});f.each({Height:"height",Width:"width"},function(a,b){f.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,g){f.fn[g]=function(g,n){var l=arguments.length&&(d||"boolean"!=typeof g),p=d||(!0===g||!0===n?"margin":"border");return f.access(this,function(b,d,g){var h;return f.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(h=b.documentElement,Math.max(b.body["scroll"+a],h["scroll"+a],b.body["offset"+a],h["offset"+a],h["client"+a])):g===e?f.css(b,d,p):f.style(b,d,g,p)},b,l?g:e,l,null)}})});a.jQuery=a.$=f;"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function e(a){return g.raw?a:encodeURIComponent(a)}function b(b,e){var s;if(g.raw)s=b;else a:{var u=b;0===u.indexOf('"')&&(u=u.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{u=decodeURIComponent(u.replace(d," "));s=g.json?JSON.parse(u):u;break a}catch(B){}s=void 0}return a.isFunction(e)?e(s):s}var d=/\+/g,g=a.cookie=function(d,w,s){if(void 0!==w&&!a.isFunction(w)){s=a.extend({},g.defaults,s);if("number"===typeof s.expires){var u=s.expires,B=s.expires=new Date;B.setTime(+B+864E5*u)}return document.cookie=[e(d),"\x3d",e(g.json?JSON.stringify(w):String(w)),s.expires?"; expires\x3d"+s.expires.toUTCString():"",s.path?"; path\x3d"+s.path:"",s.domain?"; domain\x3d"+s.domain:"",s.secure?"; secure":""].join("")}s=d?void 0:{};for(var u=document.cookie?document.cookie.split("; "):[],B=0,v=u.length;B<v;B++){var p=u[B].split("\x3d"),z;z=p.shift();z=g.raw?z:decodeURIComponent(z);p=p.join("\x3d");if(d&&d===z){s=b(p,w);break}d||void 0===(p=b(p))||(s[z]=p)}return s};g.defaults={};a.removeCookie=function(b,d){if(void 0===a.cookie(b))return!1;a.cookie(b,"",a.extend({},d,{expires:-1}));return!a.cookie(b)}});String.prototype.Format=function(a,e){var b;b=arguments[0]instanceof Array?arguments[0]:arguments;return this.replace(/(\{\d+\})/g,function(a){a=parseInt(a.substring(1,a.length-1));var e="";if(void 0!=b[a]||null!=b[a])e=b[a];return MPHtmlEncode(e.toString())})};String.prototype.FormatNoEncode=function(a,e){var b;b=arguments[0]instanceof Array?arguments[0]:arguments;return this.replace(/(\{\d+\})/g,function(a){a=parseInt(a.substring(1,a.length-1));var e="";if(void 0!=b[a]||null!=b[a])e=b[a];return e.toString()})};MPData={};MPTemplate={};MPWidget={};MPFormat={};MPObject={};imageHost=host="";var MPWaterFall={Item:{New:function(a){var e={};e.Element=$(a);var b,d,g=e.Element.outerHeight(),k;e.Height=function(){return g};e.X=function(){if(0==arguments.length)return b;var a=arguments[0];a!=b&&(e.Element.css("left",a+"px"),b=a)};e.Y=function(){if(0==arguments.length)return d;var a=arguments[0];a!=d&&(e.Element.css("top",a+"px"),d=a)};e.WID=function(){if(0==arguments.length)return k;var a=arguments[0];a!=k&&(e.Element.attr("wid",a),k=a)};return e}},New:function(a,e,b,d,g,k,w,s){function u(){for(var a=na=0;a<n;a++)K[a]=0;for(var b=O.length,a=0;a<b;a++)B(O[a])}function B(a){var b=v(K);a.X((d+g+w)*b.index+g);a.Y(b.value+k);a=b.value+a.Height()+k+s;K[b.index]=a;a>na&&e.css("height",a);G=v(K).value}function v(a){if(!1==a instanceof Array)throw TypeError("\u51fd\u6570\u53ea\u63a5\u53d7\u6570\u7ec4\u53c2\u6570");for(var b=a.length,d=a[0],e=0,g=1;g<b;g++)a[g]<d&&(d=a[g],e=g);return{index:e,value:d}}function p(a){e.append(a);a=MPWaterFall.Item.New(a);a.WID(F++);return a}function z(){for(var a=d+g+w,b=$(window).width(),e=1;a*(e+1)<=b;)e++;return 4>e?4:6<e?6:e}var x={},n=1;x.ColumnCount=function(){if(0==arguments.length)return n;var a=arguments[0];if(a!=n){K=[];for(var b=0;b<a;b++)K[b]=0;n=a;u()}};var O=[],K=[],F=0,na=0,G=0,Q=!1,ba=!1;a.scroll(function(){if(!0!=Q&&!0!=ba){var b=a.get(0)==window,d=b?0:a.offset().top,g=e.offset().top,n=a.height(),p=a.scrollTop();if(p+(g-d+(b?0:p))+n>G&&null!=x.onBottom)x.onBottom()}});x.Push=function(a,b,d,e){var g=a.length;if(0==g)return x.Complete(),0;for(var n=0;n<g;n++){var k=p(b.New(a[n],d));B(k);O.push(k)}return a[g-1][e]};x.PushElement=function(a){a=p(a);B(a);O.push(a)};x.Insert=function(a,b){var d=[];if(b instanceof Array)for(var e=b.length,g=0;g<e;g++)d.push(p(b[g]));else d.push(p(b));e=O.slice(0,a);g=O.slice(a);O=e.concat(d,g);u()};x.Delete=function(a){for(var b=O.length,d=0;d<b;d++){var e=O[d];if(e.WID()==a){O.splice(d,1);e.Element.remove();break}}};x.Clear=function(){e.empty();O=[]};x.ColumnCount(b);x.BeginUpdate=function(){Q=!0};x.EndUpdate=function(){Q=!1};x.Complete=function(){ba=!0};x.onBottom=null;x.Resize=function(){var a=z();$(".wrapper").css("width",a*(d+g+w));x.ColumnCount(a);$(window).on("resize",function(){var a=z();$(".wrapper").css("width",a*(d+g+w));x.ColumnCount(a)})};return x}};function MPCheckLogin(a){return 0==MPData.user.id?(!0===(null==a?!0:a)&&(MPLoginDialog.New().onSuccess=function(){location.reload()}),!1):!0}function MPCenter(a,e){var b=a.height(),d=a.width();a.css("margin-left",-Math.floor(d/2));a.css("margin-top",-Math.floor(b/2))}function MPCheckEmail(a){return""==a?(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u90ae\u7bb1\u4e0d\u80fd\u4e3a\u7a7a!"),!1):a.match(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/)?!0:(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u90ae\u7bb1\u683c\u5f0f\u4e0d\u6b63\u786e,\u8bf7\u91cd\u65b0\u8f93\u5165!"),!1)}function MPCheckPassword(a){return""==a?(MPMessageBox.New("alert","\u63d0\u793a","\u8bf7\u8f93\u5165\u5bc6\u7801"),!1):!0}function MPHtmlEncode(a){var e=$("\x3cdiv\x3e\x3c/div\x3e");e.text(a);return e.html()}function MPLogOut(){$.post(host+"/ajax.aspx?act\x3dlogout",{},function(a){0==a.code&&($.removeCookie("login"),alert("logout success"))},"json")}function MPMenu(a,e,b,d){var g=b?b:500,k=d?d:0,w,s;a=$(a);var u=$(e);a.mouseenter(function(a){clearTimeout(s);w=setTimeout(function(){u.show()},k)});a.mouseleave(function(){clearTimeout(w);s=setTimeout(function(){u.hide()},g)});u.mouseenter(function(){clearTimeout(s)});(function(a,b){a=a.get(0);for(b=b.get(0);void 0!=a&&null!=a&&"BODY"!=a.tagName.toUpperCase();){if(a==b)return!0;a=a.parentNode}return!1})(u,a)||u.mouseleave(function(){s=setTimeout(function(){u.hide()},g)});$(window).click(function(a){var b={};b.X=a.clientX;b.Y=a.clientY;MPCheckInEle(u,b)||u.hide()})}function MPPopUpMenu(a,e,b,d){a=$(a);var g=$(e);a.click(function(a){a.stopPropagation();g.show();d&&d();var e;$(window).on("click",e=function(a){var d={};d.X=a.clientX;d.Y=a.clientY;MPCheckInEle(g,d)?g.show():(g.hide(),$(window).off("click",e));b&&b()})})}function MPCheckInEle(a,e){var b=$(window),d=e.X,g=e.Y,k=a.offset().left,w=a.offset().top,s=a.width(),u=a.height();return d>k-b.scrollLeft()&&d<k+s-b.scrollLeft()&&g>w-b.scrollTop()&&g<w+u-b.scrollTop()?!0:!1}function MPGetQueryString(a){a=RegExp("(^|\x26)"+a+"\x3d([^\x26]*)(\x26|$)");a=window.location.search.substr(1).match(a);return null!=a?unescape(a[2]):null}(function(a,e){function b(a,b,d){var e=B[b.type]||{};if((b.empty||d)&&null==a)return null;if(b.def&&null==a)return b.def;a=e.floor?~~a:parseFloat(a);return null==a||isNaN(a)?b.def:e.mod?(a%=e.mod,0>a?e.mod+a:a):e.min>a?e.min:e.max<a?e.max:a}function d(b){var d=s(),e=d._rgba=[];b=b.toLowerCase();x(w,function(a,g){var p=g.re.exec(b),k=p&&g.parse(p),v=g.space||"rgba",p=u[v].cache;if(k)return k=d[v](k),d[p]=k[p],e=d._rgba=k._rgba,!1});if(0!==e.length)return 0===Math.max.apply(Math,e)&&a.extend(e,z.transparent),d;if(b=z[b])return b}function g(a,b,d){d=(d+1)%1;return 1>6*d?a+6*(b-a)*d:1>2*d?b:2>3*d?a+6*(b-a)*(2/3-d):a}var k=/^([\-+])=\s*(\d+\.?\d*)/,w=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],s=a.Color=function(b,d,e,g){return new a.Color.fn.parse(b,d,e,g)},u={rgba:{cache:"_rgba",props:{red:{idx:0,type:"byte",empty:!0},green:{idx:1,type:"byte",empty:!0},blue:{idx:2,type:"byte",empty:!0},alpha:{idx:3,type:"percent",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,type:"degrees",empty:!0},saturation:{idx:1,type:"percent",empty:!0},lightness:{idx:2,type:"percent",empty:!0}}}},B={"byte":{floor:!0,min:0,max:255},percent:{min:0,max:1},degrees:{mod:360,floor:!0}},v=u.rgba.props,p=s.support={},z,x=a.each;u.hsla.props.alpha=v.alpha;s.fn=s.prototype={constructor:s,parse:function(g,p,k,w){if(g===e)return this._rgba=[null,null,null,null],this;if(g instanceof a||g.nodeType)g=g instanceof a?g.css(p):a(g).css(p),p=e;var B=this,G=a.type(g),Q=this._rgba=[];p!==e&&(g=[g,p,k,w],G="array");if("string"===G)return this.parse(d(g)||z._default);if("array"===G)return x(v,function(a,d){Q[d.idx]=b(g[d.idx],d)}),this;if("object"===G)return g instanceof s?x(u,function(a,b){g[b.cache]&&(B[b.cache]=g[b.cache].slice())}):x(u,function(a,d){x(d.props,function(a,e){var p=d.cache;if(!B[p]&&d.to){if(null==g[a]||"alpha"===a)return;B[p]=d.to(B._rgba)}B[p][e.idx]=b(g[a],e,!0)})}),this},is:function(a){var b=s(a),d=!0,e=this;x(u,function(a,g){var p=b[g.cache],n;p&&(n=e[g.cache]||g.to&&g.to(e._rgba)||[],x(g.props,function(a,b){if(null!=p[b.idx])return d=p[b.idx]===n[b.idx]}));return d});return d},_space:function(){var a=[],b=this;x(u,function(d,e){b[e.cache]&&a.push(d)});return a.pop()},transition:function(a,d){var e=s(a),g=e._space(),p=u[g],k=this[p.cache]||p.to(this._rgba),v=k.slice(),e=e[p.cache];x(p.props,function(a,g){var p=g.idx,n=k[p],s=e[p],z=B[g.type]||{};null!==s&&(null===n?v[p]=s:(z.mod&&(s-n>z.mod/2?n+=z.mod:n-s>z.mod/2&&(n-=z.mod)),v[g.idx]=b((s-n)*d+n,g)))});return this[g](v)},blend:function(b){if(1===this._rgba[3])return this;var d=this._rgba.slice(),e=d.pop(),g=s(b)._rgba;return s(a.map(d,function(a,b){return(1-e)*g[b]+e*a}))},toRgbaString:function(){var b="rgba(",d=a.map(this._rgba,function(a,b){return null==a?2<b?1:0:a});1===d[3]&&(d.pop(),b="rgb(");return b+d.join(",")+")"},toHslaString:function(){var b="hsla(",d=a.map(this.hsla(),function(a,b){null==a&&(a=2<b?1:0);b&&3>b&&(a=Math.round(100*a)+"%");return a});1===d[3]&&(d.pop(),b="hsl(");return b+d.join(",")+")"},toHexString:function(b){var d=this._rgba.slice(),e=d.pop();b&&d.push(~~(255*e));return"#"+a.map(d,function(a,b){a=(a||0).toString(16);return 1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}};s.fn.parse.prototype=s.fn;u.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/255,d=a[1]/255,e=a[2]/255;a=a[3];var g=Math.max(b,d,e),p=Math.min(b,d,e),k=g-p,v=g+p,s=0.5*v,v=0===s||1===s?s:0.5>=s?k/v:k/(2-v);return[Math.round(p===g?0:b===g?60*(d-e)/k+360:d===g?60*(e-b)/k+120:60*(b-d)/k+240)%360,v,s,null==a?1:a]};u.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,d=a[1],e=a[2];a=a[3];d=0.5>=e?e*(1+d):e+d-e*d;e=2*e-d;return[Math.round(255*g(e,d,b+1/3)),Math.round(255*g(e,d,b)),Math.round(255*g(e,d,b-1/3)),a]};x(u,function(d,g){var p=g.props,v=g.cache,z=g.to,u=g.from;s.fn[d]=function(d){z&&!this[v]&&(this[v]=z(this._rgba));if(d===e)return this[v].slice();var g=a.type(d),k="array"===g||"object"===g?d:arguments,n=this[v].slice(),q;x(p,function(a,d){var e=k["object"===g?a:d.idx];null==e&&(e=n[d.idx]);n[d.idx]=b(e,d)});return u?(q=s(u(n)),q[v]=n,q):s(n)};x(p,function(b,e){s.fn[b]||(s.fn[b]=function(g){var p=a.type(g),v="alpha"===b?this._hsla?"hsla":"rgba":d,s=this[v](),z=s[e.idx];if("undefined"===p)return z;"function"===p&&(g=g.call(this,z),p=a.type(g));if(null==g&&e.empty)return this;"string"===p&&(p=k.exec(g))&&(g=z+parseFloat(p[2])*("+"===p[1]?1:-1));s[e.idx]=g;return this[v](s)})})});x("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "),function(b,e){a.cssHooks[e]={set:function(b,g){var k,n;if("string"!==a.type(g)||(k=d(g))){g=s(k||g);if(!p.rgba&&1!==g._rgba[3]){n="backgroundColor"===e?b.parentNode:b;do k=a.curCSS(n,"backgroundColor");while((""===k||"transparent"===k)&&(n=n.parentNode)&&n.style);g=g.blend(k&&"transparent"!==k?k:"_default")}g=g.toRgbaString()}b.style[e]=g}};a.fx.step[e]=function(b){b.colorInit||(b.start=s(b.elem,e),b.end=s(b.end),b.colorInit=!0);a.cssHooks[e].set(b.elem,b.start.transition(b.end,b.pos))}});a(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(1,1,1,.5)";p.rgba=-1<a.backgroundColor.indexOf("rgba")});z=a.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);(function(a){a.Jcrop=function(e,b){function d(a){return Math.round(a)+"px"}function g(b){b=a(b).offset();return[b.left,b.top]}function k(a){return[a.pageX-ia[0],a.pageY-ia[1]]}function w(b){"object"!==typeof b&&(b={});q=a.extend(q,b);a.each(["onChange","onSelect","onRelease","onDblClick"],function(a,b){"function"!==typeof q[b]&&(q[b]=function(){})})}function s(a,b,d){ia=g(H);V.setCursor("move"===a?a:a+"-resize");if("move"===a)return V.activateHandlers(B(b),n,d);b=I.getFixed();var f=v(a),e=I.getCorner(v(f));I.setPressed(I.getCorner(f));I.setCurrent(e);V.activateHandlers(u(a,b),n,d)}function u(a,b){return function(d){if(q.aspectRatio)switch(a){case "e":d[1]=b.y+1;break;case "w":d[1]=b.y+1;break;case "n":d[0]=b.x+1;break;case "s":d[0]=b.x+1}else switch(a){case "e":d[1]=b.y2;break;case "w":d[1]=b.y2;break;case "n":d[0]=b.x2;break;case "s":d[0]=b.x2}I.setCurrent(d);E.update()}}function B(a){var b=a;Sa.watchKeys();return function(a){I.moveOffset([a[0]-b[0],a[1]-b[1]]);b=a;E.update()}}function v(a){switch(a){case "n":return"sw";case "s":return"nw";case "e":return"nw";case "w":return"ne";case "ne":return"sw";case "nw":return"se";case "se":return"nw";case "sw":return"ne"}}function p(a){return function(b){if(q.disabled||"move"===a&&!q.allowMove)return!1;ia=g(H);ea=!0;s(a,k(b));b.stopPropagation();b.preventDefault();return!1}}function z(a,b,d){var f=a.width(),e=a.height();f>b&&0<b&&(f=b,e=b/a.width()*a.height());e>d&&0<d&&(e=d,f=d/a.height()*a.width());U=a.width()/f;R=a.height()/e;a.width(f).height(e)}function x(a){return{x:a.x*U,y:a.y*R,x2:a.x2*U,y2:a.y2*R,w:a.w*U,h:a.h*R}}function n(a){a=I.getFixed();a.w>q.minSelect[0]&&a.h>q.minSelect[1]?(E.enableHandles(),E.done()):E.release();V.setCursor(q.allowSelect?"crosshair":"default")}function O(a){if(q.disabled||!q.allowSelect)return!1;ea=!0;ia=g(H);E.disableHandles();V.setCursor("crosshair");var b=k(a);I.setPressed(b);E.update();V.activateHandlers(K,n,"touch"===a.type.substring(0,5));Sa.watchKeys();a.stopPropagation();a.preventDefault();return!1}function K(a){I.setCurrent(a);E.update()}function F(){var b=a("\x3cdiv\x3e\x3c/div\x3e").addClass(q.baseClass+"-tracker");ya&&b.css({opacity:0,backgroundColor:"white"});return b}function na(a){G([a[0]/U,a[1]/R,a[2]/U,a[3]/R]);q.onSelect.call(W,x(I.getFixed()));E.enableHandles()}function G(a){I.setPressed([a[0],a[1]]);I.setCurrent([a[2],a[3]]);E.update()}function Q(){q.disabled=!0;E.disableHandles();E.setCursor("default");V.setCursor("default")}function ba(){q.disabled=!1;N()}function D(b,d,f){d=d||q.bgColor;q.bgFade&&a.fx.step.hasOwnProperty("backgroundColor")&&q.fadeTime&&!f?b.animate({backgroundColor:d},{queue:!1,duration:q.fadeTime}):b.css("backgroundColor",d)}function N(a){q.allowResize?a?E.enableOnly():E.enableHandles():E.disableHandles();V.setCursor(q.allowSelect?"crosshair":"default");E.setCursor(q.allowMove?"move":"default");q.hasOwnProperty("trueSize")&&(U=q.trueSize[0]/L,R=q.trueSize[1]/M);q.hasOwnProperty("setSelect")&&(na(q.setSelect),E.done(),delete q.setSelect);f.refresh();q.bgColor!=y&&(D(q.shade?f.getShades():pa,q.shade?q.shadeColor||q.bgColor:q.bgColor),y=q.bgColor);Ea!=q.bgOpacity&&(Ea=q.bgOpacity,q.shade?f.refresh():E.setBgOpacity(Ea));Fa=q.maxSize[0]||0;Ga=q.maxSize[1]||0;qa=q.minSize[0]||0;ga=q.minSize[1]||0;q.hasOwnProperty("outerImage")&&(H.attr("src",q.outerImage),delete q.outerImage);E.refresh()}var q=a.extend({},a.Jcrop.defaults),ia,da=navigator.userAgent.toLowerCase(),ya=/msie/.test(da),Qa=/msie [1-6]\./.test(da);"object"!==typeof e&&(e=a(e)[0]);"object"!==typeof b&&(b={});w(b);var da={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},T=a(e),Ja=!0;if("IMG"==e.tagName){if(0!=T[0].width&&0!=T[0].height)T.width(T[0].width),T.height(T[0].height);else{var Ka=new Image;Ka.src=T[0].src;T.width(Ka.width);T.height(Ka.height)}var H=T.clone().removeAttr("id").css(da).show();H.width(T.width());H.height(T.height());T.after(H).hide()}else H=T.css(da).show(),Ja=!1,null===q.shade&&(q.shade=!0);z(H,q.boxWidth,q.boxHeight);var L=H.width(),M=H.height(),pa=a("\x3cdiv /\x3e").width(L).height(M).addClass(q.baseClass+"-holder").css({position:"relative",backgroundColor:q.bgColor}).insertAfter(T).append(H);q.addClass&&pa.addClass(q.addClass);var P=a("\x3cdiv /\x3e"),ta=a("\x3cdiv /\x3e").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),ua=a("\x3cdiv /\x3e").width("100%").height("100%").css("zIndex",320),ja=a("\x3cdiv /\x3e").css({position:"absolute",zIndex:600}).dblclick(function(){var a=I.getFixed();q.onDblClick.call(W,a)}).insertBefore(H).append(ta,ua);Ja&&(P=a("\x3cimg /\x3e").attr("src",H.attr("src")).css(da).width(L).height(M),ta.append(P));Qa&&ja.css({overflowY:"hidden"});var va=q.boundary,Z=F().width(L+2*va).height(M+2*va).css({position:"absolute",top:d(-va),left:d(-va),zIndex:290}).mousedown(O),y=q.bgColor,Ea=q.bgOpacity,Fa,Ga,qa,ga,U,R,ea,Ma,bb;ia=g(H);var ca=function(){function a(){var b={},d=["touchstart","touchmove","touchend"],f=document.createElement("div"),e;try{for(e=0;e<d.length;e++){var g=d[e],g="on"+g,p=g in f;p||(f.setAttribute(g,"return;"),p="function"==typeof f[g]);b[d[e]]=p}return b.touchstart&&b.touchend&&b.touchmove}catch(k){return!1}}var b;b=!0===q.touchSupport||!1===q.touchSupport?q.touchSupport:a();return{createDragger:function(a){return function(b){if(q.disabled||"move"===a&&!q.allowMove)return!1;ia=g(H);ea=!0;s(a,k(ca.cfilter(b)),!0);b.stopPropagation();b.preventDefault();return!1}},newSelection:function(a){return O(ca.cfilter(a))},cfilter:function(a){a.pageX=a.originalEvent.changedTouches[0].pageX;a.pageY=a.originalEvent.changedTouches[0].pageY;return a},isSupported:a,support:b}}(),I=function(){function a(){if(!q.aspectRatio){var b=p-e,n=k-g;Fa&&Math.abs(b)>Fa&&(p=0<b?e+Fa:e-Fa);Ga&&Math.abs(n)>Ga&&(k=0<n?g+Ga:g-Ga);ga/R&&Math.abs(n)<ga/R&&(k=0<n?g+ga/R:g-ga/R);qa/U&&Math.abs(b)<qa/U&&(p=0<b?e+qa/U:e-qa/U);0>e&&(p-=e,e-=e);0>g&&(k-=g,g-=g);0>p&&(e-=p,p-=p);0>k&&(g-=k,k-=k);p>L&&(b=p-L,e-=b,p-=b);k>M&&(b=k-M,g-=b,k-=b);e>L&&(b=e-M,k-=b,g-=b);g>M&&(b=g-M,k-=b,g-=b);return f(d(e,g,p,k))}var b=q.aspectRatio,n=q.minSize[0]/U,v=q.maxSize[0]/U,s=p-e,z=k-g,u=Math.abs(s),x=Math.abs(z);0===v&&(v=10*L);u/x<b?(u=k,x*=b,x=0>s?e-x:x+e,0>x?(x=0,u=Math.abs((x-e)/b),u=0>z?g-u:u+g):x>L&&(x=L,u=Math.abs((x-e)/b),u=0>z?g-u:u+g)):(x=p,u/=b,u=0>z?g-u:g+u,0>u?(u=0,x=Math.abs((u-g)*b),x=0>s?e-x:x+e):u>M&&(u=M,x=Math.abs(u-g)*b,x=0>s?e-x:x+e));x>e?(x-e<n?x=e+n:x-e>v&&(x=e+v),u=u>g?g+(x-e)/b:g-(x-e)/b):x<e&&(e-x<n?x=e-n:e-x>v&&(x=e-v),u=u>g?g+(e-x)/b:g-(e-x)/b);0>x?(e-=x,x=0):x>L&&(e-=x-L,x=L);0>u?(g-=u,u=0):u>M&&(g-=u-M,u=M);return f(d(e,g,x,u))}function b(a){0>a[0]&&(a[0]=0);0>a[1]&&(a[1]=0);a[0]>L&&(a[0]=L);a[1]>M&&(a[1]=M);return[Math.round(a[0]),Math.round(a[1])]}function d(a,b,f,e){var g=a,p=f,k=b,n=e;f<a&&(g=f,p=a);e<b&&(k=e,n=b);return[g,k,p,n]}function f(a){return{x:a[0],y:a[1],x2:a[2],y2:a[3],w:a[2]-a[0],h:a[3]-a[1]}}var e=0,g=0,p=0,k=0,n,v;return{flipCoords:d,setPressed:function(a){a=b(a);p=e=a[0];k=g=a[1]},setCurrent:function(a){a=b(a);n=a[0]-p;v=a[1]-k;p=a[0];k=a[1]},getOffset:function(){return[n,v]},moveOffset:function(a){var b=a[0];a=a[1];0>e+b&&(b-=b+e);0>g+a&&(a-=a+g);M<k+a&&(a+=M-(k+a));L<p+b&&(b+=L-(p+b));e+=b;p+=b;g+=a;k+=a},getCorner:function(b){var d=a();switch(b){case "ne":return[d.x2,d.y];case "nw":return[d.x,d.y];case "se":return[d.x2,d.y2];case "sw":return[d.x,d.y2]}},getFixed:a}}(),f=function(){function b(){return f(I.getFixed())}function f(a){u.top.css({left:d(a.x),width:d(a.w),height:d(a.y)});u.bottom.css({top:d(a.y2),left:d(a.x),width:d(a.w),height:d(M-a.y2)});u.right.css({left:d(a.x2),width:d(L-a.x2)});u.left.css({width:d(a.x)})}function e(){return a("\x3cdiv /\x3e").css({position:"absolute",backgroundColor:q.shadeColor||q.bgColor}).appendTo(x)}function g(){s||(s=!0,x.insertBefore(H),b(),E.setBgOpacity(1,0,1),P.hide(),p(q.shadeColor||q.bgColor,1),E.isAwake()?n(q.bgOpacity,1):n(1,1))}function p(a,b){D(v(),a,b)}function k(){s&&(x.remove(),P.show(),s=!1,E.isAwake()?E.setBgOpacity(q.bgOpacity,1,1):(E.setBgOpacity(1,1,1),E.disableHandles()),D(pa,0,1))}function n(a,b){s&&(q.bgFade&&!b?x.animate({opacity:1-a},{queue:!1,duration:q.fadeTime}):x.css({opacity:1-a}))}function v(){return x.children()}var s=!1,x=a("\x3cdiv /\x3e").css({position:"absolute",zIndex:240,opacity:0}),u={top:e(),left:e().height(M),right:e().height(M),bottom:e()};return{update:b,updateRaw:f,getShades:v,setBgColor:p,enable:g,disable:k,resize:function(a,b){u.left.css({height:d(b)});u.right.css({height:d(b)})},refresh:function(){q.shade?g():k();E.isAwake()&&n(q.bgOpacity)},opacity:n}}(),E=function(){function b(d,f){var e=a("\x3cdiv /\x3e").mousedown(p(d)).css({cursor:d+"-resize",position:"absolute",zIndex:f}).addClass("ord-"+d);ca.support&&e.bind("touchstart.jcrop",ca.createDragger(d));ua.append(e);return e}function e(a){var d;for(d=0;d<a.length;d++)b(a[d],D++).addClass("jcrop-dragbar")}function g(b){var d,f;for(f=0;f<b.length;f++){switch(b[f]){case "n":d="hline";break;case "s":d="hline bottom";break;case "e":d="vline right";break;case "w":d="vline"}var e=O,p=b[f],k=d,k=a("\x3cdiv /\x3e").css({position:"absolute",opacity:q.borderOpacity}).addClass(q.baseClass+"-"+k);ta.append(k);e[p]=k}}function k(a){var d;for(d=0;d<a.length;d++){var f=K,e=a[d],g=q.handleSize,p=b(a[d],D++).css({opacity:q.handleOpacity}).addClass(q.baseClass+"-handle");g&&p.width(g).height(g);f[e]=p}}function n(){var a=I.getFixed();I.setPressed([a.x,a.y]);I.setCurrent([a.x2,a.y2]);v()}function v(a){if(y)return s(a)}function s(a){var b=I.getFixed(),e=b.h;ja.width(Math.round(b.w)).height(Math.round(e));var e=b.x,g=b.y;q.shade||P.css({top:d(-g),left:d(-e)});ja.css({top:d(g),left:d(e)});q.shade&&f.updateRaw(b);y||(ja.show(),q.shade?f.opacity(Ea):u(Ea,!0),y=!0);a?q.onSelect.call(W,x(b)):q.onChange.call(W,x(b))}function u(a,b,d){if(y||b)q.bgFade&&!d?H.animate({opacity:a},{queue:!1,duration:q.fadeTime}):H.css("opacity",a)}function z(){E=!0;if(q.allowResize)return ua.show(),!0}function B(){E=!1;ua.hide()}function w(a){a?(Ma=!0,B()):(Ma=!1,z())}var y,D=370,O={},K={},E=!1;q.dragEdges&&a.isArray(q.createDragbars)&&e(q.createDragbars);a.isArray(q.createHandles)&&k(q.createHandles);q.drawBorders&&a.isArray(q.createBorders)&&g(q.createBorders);a(document).bind("touchstart.jcrop-ios",function(b){a(b.currentTarget).hasClass("jcrop-tracker")&&b.stopPropagation()});var G=F().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});ca.support&&G.bind("touchstart.jcrop",ca.createDragger("move"));ta.append(G);B();return{updateVisible:v,update:s,release:function(){B();ja.hide();q.shade?f.opacity(1):u(1);y=!1;q.onRelease.call(W)},refresh:n,isAwake:function(){return y},setCursor:function(a){G.css("cursor",a)},enableHandles:z,enableOnly:function(){E=!0},showHandles:function(){E&&ua.show()},disableHandles:B,animMode:w,setBgOpacity:u,done:function(){w(!1);n()}}}(),V=function(){function b(a){g(k(a));return!1}function d(b){b.preventDefault();b.stopPropagation();ea&&(ea=!1,p(k(b)),E.isAwake()&&q.onSelect.call(W,x(I.getFixed())),Z.css({zIndex:290}),a(document).unbind(".jcrop"),g=function(){},p=function(){});return!1}function f(a){g(k(ca.cfilter(a)));return!1}function e(a){return d(ca.cfilter(a))}var g=function(){},p=function(){},n=q.trackDocument;n||Z.mousemove(b).mouseup(d).mouseout(d);H.before(Z);return{activateHandlers:function(k,v,q){ea=!0;g=k;p=v;Z.css({zIndex:450});q?a(document).bind("touchmove.jcrop",f).bind("touchend.jcrop",e):n&&a(document).bind("mousemove.jcrop",b).bind("mouseup.jcrop",d);return!1},setCursor:function(a){Z.css("cursor",a)}}}(),Sa=function(){function b(a){e.hide()}function d(a,b,e){q.allowMove&&(I.moveOffset([b,e]),E.updateVisible(!0));a.preventDefault();a.stopPropagation()}function f(a){if(a.ctrlKey||a.metaKey)return!0;var b=(bb=a.shiftKey?!0:!1)?10:1;switch(a.keyCode){case 37:d(a,-b,0);break;case 39:d(a,b,0);break;case 38:d(a,0,-b);break;case 40:d(a,0,b);break;case 27:q.allowSelect&&E.release();break;case 9:return!0}return!1}var e=a('\x3cinput type\x3d"radio" /\x3e').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),g=a("\x3cdiv /\x3e").css({position:"absolute",overflow:"hidden"}).append(e);q.keySupport&&(e.keydown(f).blur(b),Qa||!q.fixedSupport?(e.css({position:"absolute",left:"-20px"}),g.append(e).insertBefore(H)):e.insertBefore(H));return{watchKeys:function(){q.keySupport&&(e.show(),e.focus())}}}();ca.support&&Z.bind("touchstart.jcrop",ca.newSelection);ua.hide();N(!0);var W={setImage:function(a,b){E.release();Q();var d=new Image;d.onload=function(){var e=d.height,g=q.boxWidth,p=q.boxHeight;H.width(d.width).height(e);H.attr("src",a);P.attr("src",a);z(H,g,p);L=H.width();M=H.height();P.width(L).height(M);Z.width(L+2*va).height(M+2*va);pa.width(L).height(M);f.resize(L,M);ba();"function"===typeof b&&b.call(W)};d.src=a},animateTo:function(a,b){var d=a[0]/U,e=a[1]/R,f=a[2]/U,g=a[3]/R;if(!Ma){var p=I.flipCoords(d,e,f,g),k=I.getFixed(),n=[k.x,k.y,k.x2,k.y2],v=q.animationDelay,s=p[0]-n[0],x=p[1]-n[1],u=p[2]-n[2],z=p[3]-n[3],B=0,w=q.swingSpeed,d=n[0],e=n[1],f=n[2],g=n[3];E.animMode(!0);var y=function(){return function(){B+=(100-B)/w;n[0]=Math.round(d+B/100*s);n[1]=Math.round(e+B/100*x);n[2]=Math.round(f+B/100*u);n[3]=Math.round(g+B/100*z);99.8<=B&&(B=100);100>B?(G(n),window.setTimeout(y,v)):(E.done(),E.animMode(!1),"function"===typeof b&&b.call(W))}}();window.setTimeout(y,v)}},setSelect:na,setOptions:function(a){w(a);N()},tellSelect:function(){return x(I.getFixed())},tellScaled:function(){return I.getFixed()},setClass:function(a){pa.removeClass().addClass(q.baseClass+"-holder").addClass(a)},disable:Q,enable:ba,cancel:function(){E.done();V.activateHandlers(null,null)},release:E.release,destroy:function(){pa.remove();T.show();T.css("visibility","visible");a(e).removeData("Jcrop")},focus:Sa.watchKeys,getBounds:function(){return[L*U,M*R]},getWidgetSize:function(){return[L,M]},getScaleFactor:function(){return[U,R]},getOptions:function(){return q},ui:{holder:pa,selection:ja}};ya&&pa.bind("selectstart",function(){return!1});T.data("Jcrop",W);return W};a.fn.Jcrop=function(e,b){var d;this.each(function(){if(a(this).data("Jcrop")){if("api"===e)return a(this).data("Jcrop");a(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?a.Jcrop.Loader(this,function(){a(this).css({display:"block",visibility:"hidden"});d=a.Jcrop(this,e);a.isFunction(b)&&b.call(d)}):(a(this).css({display:"block",visibility:"hidden"}),d=a.Jcrop(this,e),a.isFunction(b)&&b.call(d))});return this};a.Jcrop.Loader=function(e,b,d){function g(){w.complete?(k.unbind(".jcloader"),a.isFunction(b)&&b.call(w)):window.setTimeout(g,50)}var k=a(e),w=k[0];k.bind("load.jcloader",g).bind("error.jcloader",function(b){k.unbind(".jcloader");a.isFunction(d)&&d.call(w)});w.complete&&a.isFunction(b)&&(k.unbind(".jcloader"),b.call(w))};a.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:0.6,bgFade:!1,borderOpacity:0.4,handleOpacity:0.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:"n s e w nw ne se sw".split(" "),createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}})(jQuery);!function(a,e){"function"==typeof define&&define.amd?define(["jquery"],function(b){return a.returnExportsGlobal=e(b)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(a){var e,b,d,g,k,w,s,u;e=function(){function b(a){this.$inputor=a;this.domInputor=this.$inputor[0]}return b.prototype.setPos=function(){return this.domInputor},b.prototype.getIEPosition=function(){return this.getPosition()},b.prototype.getPosition=function(){var a,b;return b=this.getOffset(),a=this.$inputor.offset(),b.left-=a.left,b.top-=a.top,b},b.prototype.getOldIEPos=function(){var a,b;return b=w.selection.createRange(),a=w.body.createTextRange(),a.moveToElementText(this.domInputor),a.setEndPoint("EndToEnd",b),a.text.length},b.prototype.getPos=function(){var a,b,d;return(d=this.range())?(a=d.cloneRange(),a.selectNodeContents(this.domInputor),a.setEnd(d.endContainer,d.endOffset),b=a.toString().length,a.detach(),b):w.selection?this.getOldIEPos():void 0},b.prototype.getOldIEOffset=function(){var a,b;return a=w.selection.createRange().duplicate(),a.moveStart("character",-1),b=a.getBoundingClientRect(),{height:b.bottom-b.top,left:b.left,top:b.top}},b.prototype.getOffset=function(){var b,d,e,g,k;return s.getSelection&&(e=this.range())?(0<e.endOffset-1&&e.endContainer===!this.domInputor&&(b=e.cloneRange(),b.setStart(e.endContainer,e.endOffset-1),b.setEnd(e.endContainer,e.endOffset),g=b.getBoundingClientRect(),d={height:g.height,left:g.left+g.width,top:g.top},b.detach()),d&&0!==(null!=d?d.height:void 0)||(b=e.cloneRange(),k=a(w.createTextNode("|")),b.insertNode(k[0]),b.selectNode(k[0]),g=b.getBoundingClientRect(),d={height:g.height,left:g.left,top:g.top},k.remove(),b.detach())):w.selection&&(d=this.getOldIEOffset()),d&&(d.top+=a(s).scrollTop(),d.left+=a(s).scrollLeft()),d},b.prototype.range=function(){var a;if(s.getSelection)return a=s.getSelection(),0<a.rangeCount?a.getRangeAt(0):null},b}();b=function(){function b(a){this.$inputor=a;this.domInputor=this.$inputor[0]}return b.prototype.getIEPos=function(){var a,b,d,e,g,k,s;return b=this.domInputor,k=w.selection.createRange(),g=0,k&&k.parentElement()===b&&(e=b.value.replace(/\r\n/g,"\n"),d=e.length,s=b.createTextRange(),s.moveToBookmark(k.getBookmark()),a=b.createTextRange(),a.collapse(!1),g=-1<s.compareEndPoints("StartToEnd",a)?d:-s.moveStart("character",-d)),g},b.prototype.getPos=function(){return w.selection?this.getIEPos():this.domInputor.selectionStart},b.prototype.setPos=function(a){var b,d;return b=this.domInputor,w.selection?(d=b.createTextRange(),d.move("character",a),d.select()):b.setSelectionRange&&b.setSelectionRange(a,a),b},b.prototype.getIEOffset=function(a){var b,d,e,g;return d=this.domInputor.createTextRange(),a||(a=this.getPos()),d.move("character",a),e=d.boundingLeft,g=d.boundingTop,b=d.boundingHeight,{left:e,top:g,height:b}},b.prototype.getOffset=function(b){var d,e,g;return d=this.$inputor,w.selection?(e=this.getIEOffset(b),e.top+=a(s).scrollTop()+d.scrollTop(),e.left+=a(s).scrollLeft()+d.scrollLeft(),e):(e=d.offset(),g=this.getPosition(b),{left:e.left+g.left-d.scrollLeft(),top:e.top+g.top-d.scrollTop(),height:g.height})},b.prototype.getPosition=function(b){var e,g,k,n,s,u;return e=this.$inputor,k=function(b){return a("\x3cdiv\x3e\x3c/div\x3e").text(b).html().replace(/\r\n|\r|\n/g,"\x3cbr/\x3e").replace(/\s/g,"\x26nbsp;")},void 0===b&&(b=this.getPos()),u=e.val().slice(0,b),g=e.val().slice(b),n="\x3cspan style\x3d'position: relative; display: inline;'\x3e"+k(u)+"\x3c/span\x3e",n+="\x3cspan id\x3d'caret' style\x3d'position: relative; display: inline;'\x3e|\x3c/span\x3e",n+="\x3cspan style\x3d'position: relative; display: inline;'\x3e"+k(g)+"\x3c/span\x3e",s=new d(e),s.create(n).rect()},b.prototype.getIEPosition=function(a){var b,d,e,g,k;return e=this.getIEOffset(a),d=this.$inputor.offset(),g=e.left-d.left,k=e.top-d.top,b=e.height,{left:g,top:k,height:b}},b}();d=function(){function b(a){this.$inputor=a}return b.prototype.css_attr="borderBottomWidth borderLeftWidth borderRightWidth borderTopStyle borderRightStyle borderBottomStyle borderLeftStyle borderTopWidth boxSizing fontFamily fontSize fontWeight height letterSpacing lineHeight marginBottom marginLeft marginRight marginTop outlineWidth overflow overflowX overflowY paddingBottom paddingLeft paddingRight paddingTop textAlign textOverflow textTransform wordBreak wordWrap".split(" "),b.prototype.mirrorCss=function(){var b,d=this;return b={position:"absolute",left:-9999,top:0,zIndex:-2E4,whiteSpace:"pre-wrap"},"TEXTAREA"===this.$inputor.prop("tagName")&&this.css_attr.push("width"),a.each(this.css_attr,function(a,e){return b[e]=d.$inputor.css(e)}),b},b.prototype.create=function(b){return this.$mirror=a("\x3cdiv\x3e\x3c/div\x3e"),this.$mirror.css(this.mirrorCss()),this.$mirror.html(b),this.$inputor.after(this.$mirror),this},b.prototype.rect=function(){var a,b,d;return a=this.$mirror.find("#caret"),b=a.position(),d={left:b.left,top:b.top,height:a.height()},this.$mirror.remove(),d},b}();g={contentEditable:function(a){return!(!a[0].contentEditable||"true"!==a[0].contentEditable)}};k={pos:function(a){return a||0===a?this.setPos(a):this.getPos()},position:function(a){return w.selection?this.getIEPosition(a):this.getPosition(a)},offset:function(a){return this.getOffset(a)}};s=w=null;u=function(a){var b;return(b=null!=a?a.iframe:void 0)?(s=b.contentWindow,w=b.contentDocument||s.document):(s=window,w=document)};a.fn.caret=function(d,s,p){var w;return k[d]?(a.isPlainObject(s)?(u(s),s=void 0):u(p),w=g.contentEditable(this)?new e(this):new b(this),k[d].apply(w,[s])):a.error("Method "+d+" does not exist on jQuery.caret")};a.fn.caret.EditableCaret=e;a.fn.caret.InputCaret=b;a.fn.caret.Utils=g;a.fn.caret.apis=k});var MPDialog={New:function(a){var e={onClose:null};e.Content=$(a);var b=e.Content.find(".dialog-close");e.ButtonOK=e.Content.find(".ok");$("body").append(e.Content);MPCenter(e.Content.find(".dialog-box"),$(window));e.Close=function(){e.Content.remove();if(null!=e.onClose)e.onClose()};b.click(function(){e.Close()});e.HideClose=function(){b.hide()};return e}};MPTitleDialog={New:function(a,e){var b=MPDialog.New(a),d=b.Content.find(".dialog-title .text");b.Title=function(a){if(0==arguments.length)return d;d.text(a)};return b}};MPMessageBox={Icons:{Error:"error",OK:"ok",Warn:"warn"},New:function(a,e){var b;switch(a){case this.Icons.Warn:b="\u8b66\u544a";break;case this.Icons.Error:b="\u9519\u8bef";break;case this.Icons.OK:b="\u6210\u529f"}var d=MPTitleDialog.New('\x3cdiv class\x3d"dialog-mask"\x3e\x3cdiv class\x3d"dialog-box"\x3e\x3cdiv class\x3d"dialog-title"\x3e\x3cspan class\x3d"text"\x3e\u5bf9\u8bdd\u6846\x3c/span\x3e\x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-content"\x3e\x3cdiv class\x3d"messagebox"\x3e\x3cdiv class\x3d"icon"\x3e\x3c/div\x3e\x3cdiv class\x3d"message"\x3e\u8fd9\u91cc\u662f\u4e00\u6761\u4fe1\u606f\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-btns"\x3e\x3cdiv class\x3d"ok"\x3e\u786e\u8ba4\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',b);d.onOK=null;d.Content.find(".message").text(e);d.ButtonOK.click(function(){d.Close();if(d.onOK)d.onOK()});d.Content.find(".icon").addClass(a);return d}};MPSignUpDialog={New:function(){var a=MPDialog.New('\x3cdiv class\x3d"dialog-mask"\x3e\x3cdiv class\x3d"dialog-box"\x3e\x3cdiv class\x3d"dialog-title"\x3e\x3cspan class\x3d"text"\x3e\u6ce8\u518c\x3c/span\x3e\x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-content"\x3e\x3cdiv class\x3d"signup-dialog"\x3e\x3cinput class\x3d"email" type\x3d"text" placeholder\x3d"\u90ae\u7bb1"\x3e\x3cdiv class\x3d"signup"\x3e\u6ce8\u518c\x3c/div\x3e\x3cdiv class\x3d"more"\x3e\x3cspan\x3e\u5df2\u7ecf\u6709\u8d26\u53f7\u4e86\x3c/span\x3e \x3cspan class\x3d"login"\x3e\u767b\u5f55\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),e=a.Content.find(".signup"),b=a.Content.find(".login");e.click(function(){var b=a.Content.find(".email").val();if(!1==MPCheckEmail(b))return!1;$.post(host+"/ajax/signup-email",{email:MPHtmlEncode(b)},function(e){0==e.code?(a.Close(),MPSignUpSuccessDialog.New(b)):MPMessageBox.New(MPMessageBox.Icons.Warn,e.msg)},"json")});b.click(function(){a.Close();MPLoginDialog.New()});return a}};MPSignUpSuccessDialog={New:function(a){var e;e='\x3cdiv class\x3d"dialog-mask"\x3e    \x3cdiv class\x3d"dialog-box"\x3e';e+='        \x3cdiv class\x3d"dialog-title"\x3e';e+='            \x3cspan class\x3d"text"\x3e\u6ce8\u518c\u6210\u529f\x3c/span\x3e';e+='            \x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e';e+="        \x3c/div\x3e";e+='        \x3cdiv class\x3d"dialog-content"\x3e';e+='            \x3cdiv class\x3d"signup-success-dialog"\x3e';e+='                \x3cp\x3e\u9a8c\u8bc1\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230\x3cspan class\x3d"email"\x3e{0}\x3c/span\x3e\uff0c\u8bf7\u67e5\u6536\u90ae\u4ef6\u6fc0\u6d3b\u5e10\u53f7\u5b8c\u6210\u6ce8\u518c\u3002\x3c/p\x3e';e+='                \x3cp\x3e\u5982\u679c\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6216\u8005\x3cspan class\x3d"resend"\x3e\u91cd\u65b0\u53d1\u9001\x3c/span\x3e\x3c/p\x3e';e+='                \x3cp class\x3d"return"\x3e\x26lt;\x26lt; \u8fd4\u56de\u767b\u5f55\u9875\x3c/p\x3e';e+="            \x3c/div\x3e";e+="        \x3c/div\x3e";e+="    \x3c/div\x3e";e+="\x3c/div\x3e";e+="";var b=MPDialog.New(e.Format(a));e=b.Content.find(".resend");var d=b.Content.find(".return");e.click(function(){$.post(host+"/ajax/signup-email",{email:MPHtmlEncode(a)},function(a){0==a.code&&MPMessageBox.New(MPMessageBox.Icons.OK,"\u90ae\u4ef6\u53d1\u9001\u6210\u529f,\u8bf7\u67e5\u6536")},"json")});d.click(function(){b.Close();MPLoginDialog.New()});return b}};MPLoginDialog={New:function(){var a=MPDialog.New('\x3cdiv class\x3d"dialog-mask"\x3e\x3cdiv class\x3d"dialog-box"\x3e\x3cdiv class\x3d"dialog-title"\x3e\x3cspan class\x3d"text"\x3e\u767b\u5f55\x3c/span\x3e\x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-content"\x3e\x3cdiv class\x3d"login-dialog"\x3e\x3cinput class\x3d"email" type\x3d"text" placeholder\x3d"\u6ce8\u518c\u90ae\u7bb1"\x3e \x3cinput class\x3d"password" type\x3d"password" placeholder\x3d"\u5bc6\u7801"\x3e\x3cdiv class\x3d"reset"\x3e\u5fd8\u8bb0\u4e86\u5bc6\u7801\uff1f\x3c/div\x3e\x3cdiv class\x3d"login"\x3e\u767b\u5f55\x3c/div\x3e\x3cdiv class\x3d"more"\x3e\x3cspan\x3e\u8fd8\u6ca1\u6709\u6ce8\u518c\uff1f\x3c/span\x3e \x3cspan class\x3d"signup"\x3e\u7acb\u5373\u6ce8\u518c\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');a.onSuccess=null;a.Content.find(".reset").click(function(){a.Close();MPResetPasswordDialog.New()});a.Content.find(".login").click(function(){var e=a.Content.find(".email").val(),b=a.Content.find(".password").val();!1!=MPCheckEmail(e)&&!1!=MPCheckPassword(b)&&$.post(host+"/ajax/login",{email:MPHtmlEncode(e),password:MPHtmlEncode(b)},function(b){if(0==b.code){if($.cookie("login",b.cookie,{expires:30}),a.Close(),null!=a.onSuccess)a.onSuccess()}else MPMessageBox.New(MPMessageBox.Icons.Error,b.msg)},"json")});a.Content.find(".signup").click(function(){a.Close();MPSignUpDialog.New()});return a}};MPResetPasswordDialog={New:function(){var a=MPDialog.New('\x3cdiv class\x3d"dialog-mask"\x3e\x3cdiv class\x3d"dialog-box"\x3e\x3cdiv class\x3d"dialog-title"\x3e\x3cspan class\x3d"text"\x3e\u627e\u56de\u5bc6\u7801\x3c/span\x3e\x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-content"\x3e\x3cdiv class\x3d"reset-password-dialog"\x3e\x3cspan\x3e\u6ce8\u518c\u90ae\u7bb1:\x3c/span\x3e \x3cinput type\x3d"text" placeholder\x3d"\u8bf7\u8f93\u5165\u6ce8\u518c\u90ae\u7bb1"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-btns"\x3e\x3cdiv class\x3d"ok"\x3e\u786e\u8ba4\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),e=a.Content.find(".reset-password-dialog input");a.ButtonOK.click(function(){MPCheckEmail(e.val())&&$.post(host+"/ajax/reset-password",{email:MPHtmlEncode(e.val())},function(b){0==b.code?(a.Close(),MPResetPasswordSuccessDialog.New(e.val())):MPMessageBox.New(MPMessageBox.Icons.Error,b.msg)},"json")});return a}};MPResetPasswordSuccessDialog={New:function(a){var e;e='\x3cdiv class\x3d"dialog-mask"\x3e    \x3cdiv class\x3d"dialog-box"\x3e';e+='        \x3cdiv class\x3d"dialog-title"\x3e';e+='            \x3cspan class\x3d"text"\x3e\u90ae\u4ef6\u5df2\u53d1\u9001...\x3c/span\x3e';e+='            \x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e';e+="        \x3c/div\x3e";e+='        \x3cdiv class\x3d"dialog-content"\x3e';e+='            \x3cdiv class\x3d"reset-password-success-dialog"\x3e';e+='                \x3cp\x3e\u91cd\u7f6e\u5bc6\u7801\u7684\u90ae\u4ef6\u5df2\u7ecf\u53d1\u9001\u5230\x3cspan class\x3d"email"\x3e{0}\x3c/span\x3e\uff0c\u8bf7\u67e5\u6536\u90ae\u4ef6\u5e76\u91cd\u65b0\u8bbe\u7f6e\u5bc6\u7801\u3002\x3c/p\x3e';e+='                \x3cp\x3e\u5982\u679c\u6ca1\u6709\u6536\u5230\u90ae\u4ef6\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6216\u8005\x3cspan class\x3d"resend"\x3e\u91cd\u65b0\u53d1\u9001\x3c/span\x3e\x3c/p\x3e';e+='                \x3cp class\x3d"return"\x3e\x26lt;\x26lt; \u8fd4\u56de\u767b\u5f55\u9875\x3c/p\x3e';e+="            \x3c/div\x3e";e+="        \x3c/div\x3e";e+="    \x3c/div\x3e";e+="\x3c/div\x3e";e+="";var b=MPDialog.New(e.Format(a));e=b.Content.find(".resend");var d=b.Content.find(".return");e.click(function(){$.post(host+"/ajax/reset-password",{email:MPHtmlEncode(a)},function(a){0==a.code&&MPMessageBox.New(MPMessageBox.Icons.OK,"\u90ae\u4ef6\u53d1\u9001\u6210\u529f,\u8bf7\u67e5\u6536")},"json")});d.click(function(){b.Close();MPLoginDialog.New()});return b}};MPCreatePackageDialog={New:function(a,e,b,d){d=d?d:"";var g;g='\x3cdiv class\x3d"dialog-mask"\x3e        \x3cdiv class\x3d"dialog-box"\x3e';g+='            \x3cdiv class\x3d"dialog-title"\x3e';g+='                \x3cspan class\x3d"text"\x3e\x3c/span\x3e';g+='                \x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e';g+="            \x3c/div\x3e";g+='            \x3cdiv class\x3d"dialog-content"\x3e';g+='                \x3cdiv class\x3d"package-dialog"\x3e';g+='                    \x3cdiv class\x3d"title"\x3e\u6807\u9898\x3c/div\x3e';g=!0==a?g+'                    \x3cinput type\x3d"text" class\x3d"package-title" value\x3d{0} /\x3e'.Format(b?b:""):g+'                \x3cinput type\x3d"text" class\x3d"package-title"/\x3e';g+='                    \x3cdiv class\x3d"title"\x3e\u63cf\u8ff0\x3c/div\x3e';g=!0==a?g+'                    \x3ctextarea class\x3d"package-description" placeholder\x3d"\u8bf7\u8f93\u5165\u56fe\u5305\u63cf\u8ff0"\x3e{0}\x3c/textarea\x3e'.Format(d):g+'                    \x3ctextarea class\x3d"package-description" placeholder\x3d"\u8bf7\u8f93\u5165\u56fe\u5305\u63cf\u8ff0"\x3e\x3c/textarea\x3e';g+="                \x3c/div\x3e";g+="            \x3c/div\x3e";g+='            \x3cdiv class\x3d"dialog-btns"\x3e';!0==a&&(g+='                \x3cdiv class\x3d"delete"\x3e\u5220\u9664\x3c/div\x3e');g+='                \x3cdiv class\x3d"ok"\x3e\u786e\u8ba4\x3c/div\x3e';g+='                \x3cdiv class\x3d"cancel"\x3e\u53d6\u6d88\x3c/div\x3e';g+="            \x3c/div\x3e";g+="        \x3c/div\x3e";g+="\x3c/div\x3e";var k=MPTitleDialog.New(g,!0==a?"\u7f16\u8f91\u56fe\u5305":"\u521b\u5efa\u56fe\u5305");k.packageid=null;k.onDelete=null;var w=k.Content.find(".package-title"),s=k.Content.find(".package-description");!0==a?(k.packageid=e,k.ButtonOK.click(function(){$.post(host+"/ajax/edit-package",{id:e,title:MPHtmlEncode(w.val()),description:MPHtmlEncode(s.val())},function(a){0==a.code?MPMessageBox.New(MPMessageBox.Icons.OK,"\u7f16\u8f91\u6210\u529f").onOK=function(){k.Close()}:MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")})):k.ButtonOK.click(function(){$.post(host+"/ajax/create-package",{title:MPHtmlEncode(w.val()),description:MPHtmlEncode(s.val())},function(a){0==a.code?(k.packageid=a.packageid,location.href="/package/"+k.packageid):MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")});k.Content.find(".cancel").click(function(){k.Close()});k.Content.find(".delete").click(function(){MPMessageBox.New(MPMessageBox.Icons.Warn,"\u786e\u5b9a\u8981\u5220\u9664\u56fe\u5305?\u4e00\u65e6\u5220\u9664\u540e\u5c31\u65e0\u6cd5\u8fd8\u539f\u54e6\x3e_\x3c").onOK=function(){$.post(host+"/ajax/delete-package",{id:k.packageid},function(a){if(0==a.code){if(k.onDelete)k.onDelete();location.href="/user/"+MPData.user.id}else MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")}});return k}};MPCreateImageDialog={New:function(a){var e;e='\x3cdiv class\x3d"dialog-mask"\x3e    \x3cdiv class\x3d"dialog-box"\x3e';e+='        \x3cdiv class\x3d"dialog-title"\x3e';e+='            \x3cspan class\x3d"text"\x3e{0}\x3c/span\x3e'.Format(a.title);e+='            \x3cdiv class\x3d"dialog-close"\x3e';e+="            \x3c/div\x3e";e+="        \x3c/div\x3e";e+='        \x3cdiv class\x3d"dialog-content"\x3e';e+='            \x3cdiv class\x3d"create-image-dialog"\x3e';e+='                \x3cdiv class\x3d"message"\x3e';e+="                \x3c/div\x3e";e+='                \x3cdiv class\x3d"preview"\x3e';e+='                    \x3cimg src\x3d"{0}" width\x3d"180"\x3e'.Format(a.previewUrl);e+="                \x3c/div\x3e";e+='                \x3cdiv class\x3d"right"\x3e';e+="                    \x3ch3\x3e\u56fe\u5305\x3c/h3\x3e";e+='                    \x3cdiv class\x3d"package-list"\x3e';e+='                        \x3cdiv class\x3d"current"\x3e';e+='                            \x3cdiv class\x3d"name"\x3e\x26nbsp;\x3c/div\x3e';e+='                            \x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e';e+="                        \x3c/div\x3e";e+='                        \x3cdiv class\x3d"drop-list"\x3e';e+='                            \x3cdiv class\x3d"selections"\x3e\x3c/div\x3e';e+='                            \x3cdiv class\x3d"filtrate"\x3e';e+='                                \x3cdiv class\x3d"create"\x3e\x3c/div\x3e';e+="                            \x3c/div\x3e";e+='                            \x3cdiv class\x3d"filter"\x3e';e+='                                \x3cinput type\x3d"text" placeholder\x3d"\u5feb\u901f\u7b5b\u9009/\u521b\u5efa\u56fe\u5305"\x3e';e+="                            \x3c/div\x3e";e+="                        \x3c/div\x3e";e+="                    \x3c/div\x3e";e+='                     \x3cdiv class\x3d"seperator"\x3e\x3c/div\x3e';e+="                     \x3ch3 \x3e\u63cf\u8ff0\x3c/h3\x3e";e+='                    \x3cdiv class\x3d"description"\x3e';e+="                        \x3ctextarea\x3e{0}\x3c/textarea\x3e".Format(a.description);e+='                        \x3cdiv class\x3d"tip"\x3e';e+="                            \u7ed9\u56fe\u7247\u6dfb\u52a0 #\u6807\u7b7e#\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u6574\u7406\u56fe\u7247\u54e6~";e+="                        \x3c/div\x3e";e+="                    \x3c/div\x3e";!0==a.canEdit&&(e+='                     \x3cdiv class\x3d"seperator"\x3e\x3c/div\x3e',e+="                     \x3ch3\x3e\u6765\u81ea\x3c/h3\x3e",e+='                     \x3cinput class\x3d"source"  type\x3d"text" value\x3d"{0}"\x3e'.Format(a.source));e+="                \x3c/div\x3e";e+="            \x3c/div\x3e";e+="        \x3c/div\x3e";e+='        \x3cdiv class\x3d"dialog-btns"\x3e';!0==a.canEdit&&(e+='            \x3cdiv class\x3d"delete"\x3e\u5220\u9664\x3c/div\x3e');e+='            \x3cdiv class\x3d"ok"\x3e\u786e\u8ba4\x3c/div\x3e';e+='            \x3cdiv class\x3d"cancel"\x3e\u53d6\u6d88\x3c/div\x3e';e+="        \x3c/div\x3e";e+="    \x3c/div\x3e";e+="\x3c/div\x3e";var b=MPTitleDialog.New(e),d=b.Content.find(".description textarea"),g=b.Content.find(".package-list"),k=b.Content.find(".drop-list"),w=b.Content.find(".selections"),s=b.Content.find(".filtrate"),u=b.Content.find(".filter input"),B=b.Content.find(".source");b.onOK=null;b.onDelete=null;b.description="";b.packageId=0;b.source="";$.post(host+"/ajax/query-packages",{},function(b){if(0==b.code){b=b.packages;for(var d=b.length,e=0;e<d;e++){var k=$("\x3cdiv/\x3e").addClass("package");k.text(b[e].title);k.attr("data-package-id",b[e].id);w.append(k);b[e].id==a.defaultPackageId&&(g.attr("data-package-id",b[e].id),g.find(".name").text(b[e].title))}}},"json");null!=a.check&&$.post(host+"/ajax/check",a.check,function(a){if(0==a.code&&0!=a.packages.length){for(var d="\x3cspan\x3e\u56fe\u5305\x3c/span\x3e",e=0,g=a.packages.length;e<g;e++)d+='\x3ca href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/package/"+a.packages[e].id,a.packages[e].title);d+="\x3cspan\x3e\u91cc\u5df2\u7ecf\u6709\u8fd9\u5f20\u56fe\u7247\u4e86\x3c/span\x3e";a=b.Content.find(".message");a.html(d);a.show()}},"json");var v=function(){s.hide();w.show();u.val("")};MPPopUpMenu(g,k,v);k.on("click",".package",function(a){var b=$(this);g.attr("data-package-id",b.attr("data-package-id"));g.find(".name").text(b.text());k.hide();a.stopPropagation()});s.find(".create").click(function(){null!=$(this).text&&$.post(host+"/ajax/create-package",{title:MPHtmlEncode(u.val())},function(a){if(0==a.code){g.attr("data-package-id",a.packageid);g.find(".name").text(u.val());var b=$("\x3cdiv/\x3e").addClass("package");b.text(u.val());b.attr("data-package-id",a.packageid);w.append(b);v();k.hide()}else MPMessageBox.New("warn",a.msg)},"json")});u.keyup(function(){var a=$.trim(u.val());if(""==a)w.show(),s.hide();else{w.hide();s.show();s.find(".package").remove();var b=w.find(".package");0==b.length?s.find(".create").text("\u65b0\u5efa\u56fe\u5305---"+a):b.each(function(){-1!=$(this).text().indexOf(a)?s.append($(this).clone()):s.find(".create").text("\u65b0\u5efa\u56fe\u5305---"+a)})}});b.ButtonOK.click(function(){var e=g.attr("data-package-id");if(""==e||void 0==e)MPMessageBox.New(MPMessageBox.Icons.Warn,"\u8bf7\u9009\u62e9\u4e00\u4e2a\u56fe\u5305,\u5982\u679c\u6ca1\u6709\u56fe\u5305\u8bf7\u65b0\u5efa\u4e00\u4e2a\u56fe\u5305!");else if(b.description=d.val(),b.packageId=e,localStorage["default-package-id"]=e,!0==a.canEdit&&(b.source=B.val()),null!=b.onOK)b.onOK();else b.Close()});b.Content.find(".cancel").click(function(){b.Close()});b.Content.find(".delete").click(function(){if(null!=b.onDelete)b.onDelete()});return b}};MPUploadDialog={New:function(a){function e(a){function e(a,d,k,s,x){var n=new XMLHttpRequest;n.open("post",host+"/ajax/upload-chunk?chunks\x3d"+d+"\x26chunk\x3d"+a+"\x26name\x3d"+s);var w=131072*a;n.send(k.slice(w,w+131072));n.onload=function(){var w=JSON.parse(n.responseText);if(0==w.code)a==d-1?(u.find(".percentage").text("\u6b63\u5728\u4e0a\u4f20(100%)..."),x(w.file)):(a++,u.find(".percentage").text("\u6b63\u5728\u4e0a\u4f20("+Math.ceil(100*(a/d))+"%)..."),e(a,d,k,s,x));else{var F=MPMessageBox.New("error","\u6587\u4ef6\u4e0a\u4f20\u5931\u8d25\x3e_\x3c \u8bf7\u91cd\u8bd5");F.HideClose();F.onOK=function(){F.Close();b.Close()}}}}var k=a.files[0];b.filename=k.name;var w=Math.ceil(k.size/128/1024);(function(a){$.post(host+"/ajax/upload-begin",{},function(d){0==d.code&&(s.hide(),b.HideClose(),u.show(),a(d.name))},"json")})(function(a){e(0,w,k,a,function(a){if(null!=b.onSuccess)b.onSuccess(a);b.Close()})});var s=b.Content.find(".select"),u=b.Content.find(".process")}var b=MPTitleDialog.New('\x3cdiv class\x3d"dialog-mask"\x3e\x3cdiv class\x3d"dialog-box"\x3e\x3cdiv class\x3d"dialog-title"\x3e\x3cspan class\x3d"text"\x3e\u4e0a\u4f20\u56fe\u7247\x3c/span\x3e\x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"dialog-content"\x3e\x3cdiv class\x3d"upload-dialog"\x3e\x3cdiv class\x3d"select"\x3e\x3cdiv class\x3d"img"\x3e\x3c/div\x3e\x3cdiv class\x3d"button"\x3e\u9009\u62e9\u56fe\u7247\x3c/div\x3e\x3cdiv class\x3d"more"\x3e\u8bf7\u9009\u62e9\u4e0a\u4f20\u7684\u56fe\u7247\uff0c\u652f\u6301jpg\u548cpng\u56fe\u7247\x3c/div\x3e\x3cinput type\x3d"file" class\x3d"upload"\x3e\x3c/div\x3e\x3cdiv class\x3d"process"\x3e\x3cdiv class\x3d"img"\x3e\x3c/div\x3e\x3cdiv class\x3d"percentage"\x3e\u6b63\u5728\u4e0a\u4f20(0%)...\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e',a?a:"");b.Content.find(".upload").change(function(){e(this)});b.filename="";b.onSuccess=null;return b}};MPAvtCutDialog={New:function(a){function e(a){0<parseInt(a.w)&&$(".previews").children("div").each(function(){var b=$(this),d=$(this).find("img"),b=b.width()/a.w;d.css({width:Math.round(b*k)+"px",height:Math.round(b*w)+"px",marginLeft:"-"+Math.round(b*a.x)+"px",marginTop:"-"+Math.round(b*a.y)+"px"})})}var b=MPTitleDialog.New(MPTemplate.Dialog.AvtCutDialog(a),"\u88c1\u526a\u5934\u50cf"),d=b.Content.find(".main");b.Content.find("#preview");b.offset_x=null;b.offset_y=null;b.size=null;b.onSuccess=null;var g,k,w;$(".previews");d.Jcrop({onChange:e,onSelect:e,aspectRatio:1},function(){var a=this.getBounds();k=a[0];w=a[1];g=this});b.ButtonOK.click(function(){var d=a.width/$(".jcrop-holder").width(),e=g.tellScaled();b.offset_x=Math.round(e.x*d);b.offset_y=Math.round(e.y*d);b.size=Math.round(e.w*d);if(b.onSuccess)b.onSuccess();b.Close()});b.Content.find(".cancel").click(function(){b.Close()});return b}};MPFormat.User={};MPFormat.User.New=function(a){return{Home:function(){return"/user/"+a.id},BigAvt:function(){return!0==a.default_head?imageHost+"/avt/0_big":imageHost+"/avt/"+a.id+"_big"},Avt:function(){return!0==a.default_head?imageHost+"/avt/0":imageHost+"/avt/"+a.id},Follower:function(){return"/user/"+a.id+"/follower"},Following:function(){return"/user/"+a.id+"/following"},Name:function(){return a.name},ID:function(){return a.id}}};MPObject.User={};MPObject.User.Avt=function(a){return!0==a.default_head?imageHost+"/avt/0":imageHost+"/avt/"+a.id};MPObject.User.BigAvt=function(a){return!0==a.default_head?imageHost+"/avt/0_big":imageHost+"/avt/"+a.id+"_big"};MPObject.User.ID=function(a){return a.id};MPObject.User.Name=function(a){return a.name};MPObject.User.Actions={};MPObject.User.Actions.Follow=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/follow-user",{user_id:a},function(a){0==a.code&&e&&e()},"json")};MPObject.User.Actions.UnFollow=function(a,e){MPCheckLogin()&&(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u786e\u8ba4\u8981\u53d6\u6d88\u5173\u6ce8\u5417\x3e_\x3c").onOK=function(){$.post(host+"/ajax/unfollow-user",{user_id:a},function(a){0==a.code&&e&&e()},"json")})};MPObject.User.Pages={};MPObject.User.Pages.Following=function(a){return"/user/"+a.id+"/following"};MPObject.User.Pages.FollowingPackage=function(a){return"/user/"+a.id+"/following/package"};MPObject.User.Pages.Follower=function(a){return"/user/"+a.id+"/follower"};MPObject.User.Pages.Image=function(a){return"/user/"+a.id+"/image"};MPObject.User.Pages.Package=function(a){return"/user/"+a.id};MPObject.User.Pages.Home=function(a){return"/user/"+a.id};MPObject.User.Pages.Praise=function(a){return"/user/"+a.id+"/praise"};MPObject.User.Pages.PraisePackage=function(a){return"/user/"+a.id+"/praise/package"};MPObject.Image={};MPObject.Image._info=function(a,e,b){var d={};switch(b?b:""){case "fw":d.url=imageHost+"/"+a.file.hash+"_fw"+e;d.width=e;d.height=Math.ceil(e*a.file.height/a.file.width);break;case "sq":d.url=imageHost+"/"+a.file.hash+"_sq"+e;d.width=e;d.height=e;break;default:d.url=imageHost+"/"+a.file.hash,d.width=a.file.width,d.height=a.file.height}d.url+=".jpg";return d};MPObject.Image.sq236=function(a){return MPObject.Image._info(a,236,"sq")};MPObject.Image.fw78=function(a){return MPObject.Image._info(a,78,"fw")};MPObject.Image.fw236=function(a){return MPObject.Image._info(a,236,"fw")};MPObject.Image.fw658=function(a){return MPObject.Image._info(a,658,"fw")};MPObject.Image.sq75=function(a){return MPObject.Image._info(a,75,"sq")};MPObject.Image.fw236=function(a){return MPObject.Image._info(a,236,"fw")};MPObject.Image.Origin=function(a){return MPObject.Image._info(a)};MPObject.Image.Resave=function(a,e,b){if(MPCheckLogin()){var d=MPCreateImageDialog.New({previewUrl:imageHost+"/"+e+"_fw236.jpg",title:"\u8f6c\u5b58",description:b,check:{image_id:a},defaultPackageId:localStorage["default-package-id"]});d.onOK=function(){$.post(host+"/ajax/resave",{image_id:a,package_id:d.packageId,description:d.description},function(a){if(0==a.code){var b=MPMessageBox.New(MPMessageBox.Icons.OK,"\u56fe\u7247\u8f6c\u5b58\u6210\u529f");b.onOK=function(){d.Close();b.Close()}}else MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")}}};MPObject.Image.Edit=function(a,e,b,d,g,k,w){if(MPCheckLogin()){var s=MPCreateImageDialog.New({previewUrl:imageHost+"/"+e+"_fw236.jpg",title:"\u7f16\u8f91\u56fe\u7247",canEdit:!0,source:d,descripiton:b,defaultPackageId:g});s.onOK=function(){$.post(host+"/ajax/edit-image",{id:a,package_id:s.packageId,description:s.description,source:s.source},function(a){if(0==a.code){var b=MPMessageBox.New(MPMessageBox.Icons.OK,"\u56fe\u7247\u7f16\u8f91\u6210\u529f");b.onOK=function(){s.Close();b.Close()}}else MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")};s.onDelete=function(){MPObject.Image.Delete(a,w)}}};MPObject.Image.Delete=function(a,e){MPCheckLogin()&&(MPMessageBox.New(MPMessageBox.Icons.Warn,"\u56fe\u7247\u5220\u9664\u540e\u65e0\u6cd5\u6062\u590d\u54e6!").onOK=function(){$.post(host+"/ajax/delete-image",{id:a},function(a){0==a.code?(e&&e(),location.reload()):MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")})};MPObject.Image.Praise=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/praise-image",{image_id:a},function(a){e&&e()},"json")};MPObject.Image.UnPraise=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/unpraise-image",{image_id:a},function(a){e&&e()},"json")};MPObject.Image.CreateImage=function(){var a=MPUploadDialog.New("\u4e0a\u4f20\u56fe\u7247");a.onSuccess=function(e){var b=MPCreateImageDialog.New({previewUrl:imageHost+"/"+e.hash+"_fw236.jpg",title:"\u4e0a\u4f20\u56fe\u7247",description:a.filename,check:{hash:e.hash}});b.onOK=function(){$.post(host+"/ajax/create-image",{package_id:b.packageId,file_hash:e.hash,description:MPHtmlEncode(b.description)},function(a){0==a.code?(MPMessageBox.New(MPMessageBox.Icons.OK,"\u4e0a\u4f20\u56fe\u7247\u6210\u529f"),b.Close()):MPMessageBox.New(MPMessageBox.Icons.Error,a.msg)},"json")}}};MPObject.Package={};MPObject.Package.Follow=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/follow-package",{package_id:a},function(a){0==a.code&&e&&e()},"json")};MPObject.Package.UnFollow=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/unfollow-package",{package_id:a},function(a){0==a.code&&e&&e()},"json")};MPObject.Package.Praise=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/praise-package",{package_id:a},function(a){0==a.code&&e&&e()},"json")};MPObject.Package.Praise=function(a,e){MPCheckLogin()&&$.post(host+"/ajax/unpraise-package",{package_id:a},function(a){0==a.code&&e&&e()},"json")};MPObject.Package.Edit=function(a,e,b,d){MPCheckLogin()&&(MPCreatePackageDialog.New(!0,a,e,b).onDelete=function(){d?d():location.reload()})};MPTemplate.Widget={};MPTemplate.Page={};MPTemplate.Dialog={};MPTemplate.Page.Search=function(a,e){var b;b='\x3cdiv class\x3d"page-search"\x3e    \x3cdiv class\x3d"bar"\x3e';b+='        \x3ca class\x3d"item {1}" href\x3d"/search/{0}"\x3e\u56fe\u7247\x3c/a\x3e'.Format(encodeURIComponent(MPData.keyword),""==MPData.sub1?"on":"");b+='        \x3ca class\x3d"item {1}" href\x3d"/search/package/{0}"\x3e\u56fe\u5305\x3c/a\x3e'.Format(encodeURIComponent(MPData.keyword),"package"==MPData.sub1?"on":"");b+='        \x3ca class\x3d"item {1}" href\x3d"/search/user/{0}"\x3e\u7528\u6237\x3c/a\x3e'.Format(encodeURIComponent(MPData.keyword),"user"==MPData.sub1?"on":"");b+="    \x3c/div\x3e";b+='    \x3cdiv class\x3d"waterfall"\x3e\x3c/div\x3e';return b+="\x3c/div\x3e"};MPTemplate.Page.User=function(a,e){var b=MPObject.User,d;d='\x3cdiv class\x3d"page-user"\x3e        \x3cdiv class\x3d"inner"\x3e';d+='            \x3cdiv class\x3d"info"\x3e';d+='                \x3cimg class\x3d"avt" src\x3d"{0}" /\x3e'.Format(b.BigAvt(a));d+='                \x3cdiv class\x3d"right"\x3e';d+='                    \x3ch1 class\x3d"username"\x3e{0}\x3c/h1\x3e'.Format(b.Name(a));""!=a.description&&(d+='                    \x3ch2 class\x3d"description"\x3e{0}\x3c/h2\x3e'.Format(a.description));d+="                \x3c/div\x3e";d+='                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e';d+='                \x3cdiv class\x3d"actions"\x3e';a.id!=MPData.user.id&&(d+=MPTemplate.Widget.User.Buttons.Follow(a));d+="                \x3c/div\x3e";d+="            \x3c/div\x3e";d+='            \x3cdiv class\x3d"tabs"\x3e';d+='                \x3ca class\x3d"tab {1}" href\x3d"{2}"\x3e{0}\u56fe\u5305\x3c/a\x3e'.Format(a.packages_count,""==MPData.sub1?" on":"",b.Pages.Home(a));d+='                \x3ca class\x3d"tab {1}" href\x3d"{2}"\x3e{0}\u56fe\u7247\x3c/a\x3e'.Format(a.images_count,"image"==MPData.sub1?" on":"",b.Pages.Image(a));d+='                \x3ca class\x3d"tab {1}" href\x3d"{2}"\x3e{0}\u8d5e\x3c/a\x3e'.Format(a.praise_count,"praise"==MPData.sub1?" on":"",b.Pages.Praise(a));d+='                \x3ca class\x3d"tab {2}" href\x3d"{1}"\x3e{0}\u5173\u6ce8\x3c/a\x3e'.Format(a.follows_count,b.Pages.Following(a),"following"==MPData.sub1?" on":"");d+='                \x3ca class\x3d"tab {2}" href\x3d"{1}"\x3e{0}\u7c89\u4e1d\x3c/a\x3e'.Format(a.followers_count,b.Pages.Follower(a),"follower"==MPData.sub1?" on":"");d+="            \x3c/div\x3e";d+="        \x3c/div\x3e";"following"==MPData.sub1&&(d+='        \x3cdiv class\x3d"outer"\x3e',d+='            \x3cdiv class\x3d"list"\x3e',d+='                \x3ca class\x3d"item{1}" href\x3d"{0}"\x3e\u7528\u6237\x3c/a\x3e'.Format(b.Pages.Following(a),""==MPData.sub2?" on":""),d+='                \x3ca class\x3d"item{1}" href\x3d"{0}"\x3e\u56fe\u5305\x3c/a\x3e'.Format(b.Pages.FollowingPackage(a),"package"==MPData.sub2?" on":""),d+="            \x3c/div\x3e",d+="        \x3c/div\x3e        ");d+='\x3cdiv class\x3d"waterfall"\x3e\x3c/div\x3e';return d+="    \x3c/div\x3e"};MPTemplate.Page.Setting=function(a,e){var b;b='\x3cdiv class\x3d"page-setting"\x3e    \x3cul class\x3d"left"\x3e';b+='        \x3cli\x3e\x3ca href\x3d"{0}/setting"\x3e\u57fa\u672c\u4fe1\u606f\x3c/a\x3e\x3c/li\x3e'.Format(host);b+='        \x3cli\x3e\x3ca href\x3d"{0}/setting/password"\x3e\u66f4\u6539\u5bc6\u7801\x3c/a\x3e\x3c/li\x3e'.Format(host);b+="    \x3c/ul\x3e";b+='    \x3cdiv class\x3d"right"\x3e';""==MPData.sub1?(b+='        \x3cdiv class\x3d"content"\x3e',b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch2\x3e\u57fa\u672c\u4fe1\u606f\x3c/h2\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u90ae\u7bb1\u5730\u5740\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cinput type\x3d"text" readonly\x3d"readonly" value\x3d"{0}" /\x3e'.Format(MPData.basic_email),b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u6635\u79f0\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cinput type\x3d"text" value\x3d"{0}" id\x3d"username" /\x3e'.Format(MPData.user.name),b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u81ea\u6211\u4ecb\u7ecd\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3ctextarea id\x3d"description"\x3e{0}\x3c/textarea\x3e'.Format(MPData.basic_description),b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u5934\u50cf\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cdiv class\x3d"avt"\x3e',b+='                         \x3cimg src\x3d"{0}" /\x3e'.Format(MPObject.User.BigAvt(MPData.user)),b+="                    \x3c/div\x3e",b+='                    \x3cdiv class\x3d"upload"\x3e\u4e0a\u4f20\u5934\u50cf\x3c/div\x3e',b+='                    \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e',b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"actions"\x3e',b+='                \x3cdiv class\x3d"submit"\x3e\u786e\u5b9a\x3c/div\x3e',b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e',b+="        \x3c/div\x3e"):"password"==MPData.sub1&&(b+='        \x3cdiv class\x3d"content"\x3e',b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch2\x3e\u4fee\u6539\u5bc6\u7801\x3c/h2\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u539f\u5bc6\u7801\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cinput type\x3d"password" id\x3d"oldpassword" value\x3d"" /\x3e',b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u65b0\u5bc6\u7801\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cinput type\x3d"password" id\x3d"newpassword1" /\x3e',b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"line"\x3e',b+="                \x3ch3\x3e\u786e\u8ba4\u65b0\u5bc6\u7801\x3c/h3\x3e",b+="                \x3cdiv\x3e",b+='                    \x3cinput type\x3d"password" id\x3d"newpassword" /\x3e',b+="                \x3c/div\x3e",b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"actions"\x3e',b+='                \x3cdiv class\x3d"submit"\x3e\u786e\u5b9a\x3c/div\x3e',b+="            \x3c/div\x3e",b+='            \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e',b+="        \x3c/div\x3e");b+="    \x3c/div\x3e";return b+="\x3c/div\x3e"};MPTemplate.Page.Package=function(a,e){var b;b='\x3cdiv class\x3d"page-package"\x3e\x3cdiv class\x3d"inner"\x3e';b+='    \x3cdiv class\x3d"bar1"\x3e';b+='        \x3ch1 class\x3d"title"\x3e{0}\x3c/h1\x3e'.Format(a.title);b+='        \x3cdiv class\x3d"action-btns"\x3e';b=a.user.id!=MPData.user.id?b+MPTemplate.Widget.Package.Buttons.Follow(a,{"class":"btn"}):b+MPTemplate.Widget.Package.Buttons.Edit(a,{"class":"btn"});b+="        \x3c/div\x3e";b+='        \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e';b+='        \x3cdiv class\x3d"description"\x3e{0}\x3c/div\x3e'.Format(a.description);b+="    \x3c/div\x3e";var d=MPObject.User;b+='    \x3cdiv class\x3d"bar2"\x3e';b+='        \x3cdiv class\x3d"user"\x3e';b+='             \x3ca href\x3d"{0}"\x3e\x3cimg src\x3d"{1}" /\x3e\x3c/a\x3e'.Format(d.Pages.Home(a.user),d.Avt(a.user));b+='            \x3ca class\x3d"user-name" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(d.Pages.Home(a.user),d.Name(a.user));b+="        \x3c/div\x3e";b+='        \x3cdiv class\x3d"tabs"\x3e';b+='            \x3cdiv class\x3d"tab count"\x3e{0}\u56fe\u7247\x3c/div\x3e'.Format(a.imageCount);b+='            \x3cdiv class\x3d"tab follower"\x3e{0}\u4eba\u5173\u6ce8\x3c/div\x3e'.Format(a.followerCount);b+="        \x3c/div\x3e";b+="    \x3c/div\x3e";b+="    \x3c/div\x3e";b+='     \x3cdiv class\x3d"waterfall"\x3e\x3c/div\x3e';return b+="\x3c/div\x3e"};MPTemplate.Page.From=function(a,e){var b;b='\x3cdiv class\x3d"page-from"\x3e'+"    \x3ch1\x3e\u6765\u81ea{0}\u7684\u56fe\u7247\x3c/h1\x3e".Format(MPData.host);b+='    \x3cdiv class\x3d"waterfall"\x3e\x3c/div\x3e';return b+="\x3c/div\x3e"};MPTemplate.Widget.Package=function(a,e){e=e?e:MPTemplate.Widget.Package.Options.BigButton;var b;b='\x3cdiv class\x3d"widget-package"\x3e'+'    \x3ca class\x3d"previews" href\x3d"{0}"\x3e'.Format(host+"/package/"+a.id);if(0!=a.thumbs.length){b+='        \x3cdiv class\x3d"thumbs"\x3e';for(var d=a.thumbs.length,g=0;g<d;g++)b=0==g?b+' \x3cimg class\x3d"cover" src\x3d"{0}" /\x3e'.Format(MPObject.Image.sq236(a.thumbs[g]).url):b+' \x3cimg class\x3d"thumb" src\x3d"{0}" /\x3e'.Format(MPObject.Image.sq75(a.thumbs[g]).url);b+="        \x3c/div\x3e"}b+='        \x3cdiv class\x3d"borders"\x3e';b+='            \x3cdiv class\x3d"cover-border"\x3e\x3c/div\x3e';b+='            \x3cdiv class\x3d"thumb-border"\x3e\x3c/div\x3e';b+='            \x3cdiv class\x3d"thumb-border"\x3e\x3c/div\x3e';b+='            \x3cdiv class\x3d"thumb-border"\x3e\x3c/div\x3e';b+="        \x3c/div\x3e";0!=a.imageCount&&(b+='        \x3cdiv class\x3d"count"\x3e{0}\x3c/div\x3e'.Format(a.imageCount));b+='        \x3cdiv class\x3d"over{0}"\x3e'.Format(0==a.thumbs.length?" empty-package":"");b+="            \x3ch3\x3e{0}\x3c/h3\x3e".Format(a.title);b+="            \x3ch4\x3e{0}\x3c/h4\x3e".Format(a.description);b+="        \x3c/div\x3e";b+="    \x3c/a\x3e";d=MPFormat.User.New(a.user);b+='    \x3cdiv class\x3d"actions"\x3e';if(a.user.id==MPData.user.id)b+='\x3cdiv class\x3d"btn2 edit" data-id\x3d"{0}" data-title\x3d"{1}" data-description\x3d"{2}"\x3e\x3c/div\x3e'.Format(a.id,a.title,a.description);else switch(e){case MPTemplate.Widget.Package.Options.SmallButton:b+='        \x3ca class\x3d"avt" href\x3d"{0}"\x3e'.Format(d.Home());b+='            \x3cimg src\x3d"{0}" /\x3e'.Format(d.Avt());b+="        \x3c/a\x3e";b+='        \x3ca class\x3d"username" href\x3d"{0}" \x3e{1}\x3c/a\x3e'.Format(d.Home(),d.Name);b=!0===a.followed?b+'        \x3cdiv class\x3d"btn unfollow" data-id\x3d"{0}"\x3e\x3c/div\x3e'.Format(a.id):b+'        \x3cdiv class\x3d"btn follow" data-id\x3d"{0}"\x3e\x3c/div\x3e'.Format(a.id);break;case MPTemplate.Widget.Package.Options.BigButton:b=!0==a.followed?b+'        \x3cdiv class\x3d"btn2 unfollow" data-id\x3d"{0}"\x3e\x3c/div\x3e'.Format(a.id):b+'        \x3cdiv class\x3d"btn2 follow" data-id\x3d"{0}"\x3e\x3c/div\x3e'.Format(a.id)}return b+="\x3c/div\x3e"};MPTemplate.Widget.Package.Options={SmallButton:0,BigButton:1};MPTemplate.Widget.Package.Buttons={};MPTemplate.Widget.Package.Buttons.Edit=function(a,e){null==e&&(e={});return'\x3cdiv class\x3d"package-edit {0}" data-id\x3d"{1}" data-title\x3d"{2}" data-description\x3d"{4}"\x3e\u7f16\u8f91\x3c/div\x3e'.Format(e.class,a.id,a.title,a.description)};MPTemplate.Widget.Package.Buttons.Follow=function(a,e){null==e&&(e={});return'\x3cdiv class\x3d"{0} {1}" data-id\x3d"{2}" title\x3d"{3}"\x3e\x3c/div\x3e'.Format(!0==a.followed?"package-unfollow":"package-follow",e.class,a.id,!0==a.followed?"\u53d6\u6d88\u5173\u6ce8":"\u5173\u6ce8")};MPTemplate.Widget.Package.Buttons.Praise=function(a,e){null==e&&(e={});return'\x3cdiv class\x3d"{0} {1}" data-id\x3d"{2}" title\x3d"{3}"\x3e\x3c/div\x3e'.Format(!0==a.praised?"package-unpraise":"package-praise",e.class,a.id,!0==a.praised?"\u53d6\u6d88\u8d5e":"\u8d5e")};MPTemplate.Widget.Image=function(a,e){e=e?e:MPTemplate.Widget.Image.Options.ShowUser;var b=MPFormat.User.New(a.user),d;d=""+'\x3cdiv class\x3d"widget-image" data-id\x3d"{0}"\x3e'.Format(a.id);d+='    \x3cdiv class\x3d"actions"\x3e         \x3cdiv class\x3d"left"\x3e';d+='             \x3cdiv class\x3d"resave" title\x3d"\u8f6c\u5b58\u5230\u6211\u7684\u56fe\u5305" data-id\x3d"{0}" data-hash\x3d"{1}" data-description\x3d"{2}"\x3e\u8f6c\u5b58\x3c/div\x3e'.Format(a.id,a.file.hash,a.description);d+="         \x3c/div\x3e";if(a.user.id==MPData.user.id)d+='\x3cdiv class\x3d"right"\x3e',d+='    \x3cdiv class\x3d"edit" title\x3d"\u7f16\u8f91" data-id\x3d"{0}" data-hash\x3d"{1}" data-description\x3d"{2}" data-packageid\x3d"{3}" data-source\x3d"{4}" data-packagetitle\x3d"{5}" \x3e\u7f16\u8f91\x3c/div\x3e'.Format(a.id,a.file.hash,a.description,a.package.id,a.source,a.package.title);else{d+='\x3cdiv class\x3d"right"\x3e';var g,k;!0==a.praised?(g="unpraise",k="\u53d6\u6d88\u8d5e"):(g="praise",k="\u8d5e");d+='    \x3cdiv class\x3d"{0}" title\x3d"{1}" data-id\x3d"{2}" \x3e\x3cem\x3e\x3c/em\x3e\x3c/div\x3e'.Format(g,k,a.id)}d+="\x3c/div\x3e";d+="    \x3c/div\x3e";d+='    \x3ca class\x3d"img" href\x3d"{0}"\x3e'.Format("/image/"+a.id);g=MPObject.Image.fw236(a);d+='        \x3cimg src\x3d"{0}" width\x3d"236" height\x3d"{1}" /\x3e'.Format(g.url,g.height);d+='        \x3cdiv class\x3d"cover"\x3e\x3c/div\x3e';d+="    \x3c/a\x3e";d+='    \x3cdiv class\x3d"description"\x3e{0}\x3c/div\x3e'.FormatNoEncode(MPWidget.Image.Description(a.description));if(0!=a.resave_count||0!=a.praise_count)d+='    \x3cdiv class\x3d"count"\x3e',0!=a.resave_count&&(d+='         \x3cspan title\x3d"{0}\u4eba\u8f6c\u5b58\u4e86\u8fd9\u5f20\u56fe\u7247"\x3e'.Format(a.resave_count),d+='             \x3cem class\x3d"resave"\x3e\x3c/em\x3e',d+="             \x3cspan\x3e{0}\x3c/span\x3e".Format(a.resave_count),d+="         \x3c/span\x3e"),0!=a.praise_count&&(d+='         \x3cspan title\x3d"{0}\u4eba\u8d5e\u8fc7\u8fd9\u5f20\u56fe\u7247"\x3e'.Format(a.praise_count),d+='             \x3cem class\x3d"praise"\x3e\x3c/em\x3e',d+="             \x3cspan\x3e{0}\x3c/span\x3e".Format(a.praise_count),d+="         \x3c/span\x3e"),d+="    \x3c/div\x3e";d+='    \x3cdiv class\x3d"info"\x3e';e==MPTemplate.Widget.Image.Options.ShowUser?(d+='        \x3ca class\x3d"avt" href\x3d"{0}"\x3e'.Format(b.Home()),d+='            \x3cimg src\x3d"{0}" /\x3e'.Format(b.Avt()),d+="        \x3c/a\x3e",d+='        \x3cdiv class\x3d"text"\x3e',d+='            \x3cdiv class\x3d"line"\x3e\x3ca class\x3d"user-name" href\x3d"{0}"\x3e{1}\x3c/a\x3e\x3cspan\x3e\u6536\u96c6\u5230\x3c/span\x3e\x3c/div\x3e'.Format(b.Home(),b.Name()),d+='            \x3cdiv class\x3d"line"\x3e\x3ca class\x3d"package-title" href\x3d"{0}"\x3e{1}\x3c/a\x3e\x3c/div\x3e'.Format("/package/"+a.package.id,a.package.title),d+="        \x3c/div\x3e"):e==MPTemplate.Widget.Image.Options.ShowSource&&(d+='\x3ca class\x3d"source" href\x3d"/from/{0}"\x3e{0}\x3c/a\x3e'.Format(a.host));d+="    \x3c/div\x3e";return d+="\x3c/div\x3e"};MPTemplate.Widget.Image.Options={ShowUser:0,ShowSource:1};MPTemplate.Widget.Comment=function(a,e){var b;b='\x3cdiv class\x3d"comment"\x3e'+'\x3ca class\x3d"avt" href\x3d"{0}"\x3e'.Format(MPObject.User.Pages.Home(a.user));b+=' \x3cimg src\x3d"{0}" /\x3e'.Format(MPObject.User.Avt(a.user));b+="\x3c/a\x3e";b+='\x3ca class\x3d"name"\x3e{0}\x3c/a\x3e'.Format(MPObject.User.Name(a.user));b+='\x3cdiv class\x3d"text"\x3e{0}\x3c/div\x3e'.FormatNoEncode(mentionConvert(a.text,a.mentions));return b+="\x3c/div\x3e"};function mentionConvert(a,e){for(var b="",d=0,g=0,k=0;k<e.length;k++)g=e[k].pos,b+=a.substring(d,g),d=g++,g+=e[k].len,b+='\x3ca href\x3d"{0}"\x3e'.Format("/user/"+e[k].user_id),b=b+a.substring(d,g)+"\x3c/a\x3e",d=g++;g<a.length&&(g=a.length,b+=a.substring(d,g));return b}MPTemplate.Widget.Frame=function(){var a;a='\x3cdiv class\x3d"widget-frame"\x3e    \x3cdiv class\x3d"header"\x3e';a+='        \x3cdiv class\x3d"wrapper"\x3e';a+='            \x3cdiv class\x3d"menu-bar"\x3e';a+='                \x3cdiv class\x3d"left"\x3e';a+='                    \x3cdiv class\x3d"nav home-nav"\x3e';a+='                        \x3ca class\x3d"nav-link" href\x3d"{0}"\x3e\u4e3b\u9875\x3c/a\x3e'.Format(host);a+="                    \x3c/div\x3e";a+='                    \x3cdiv class\x3d"nav search"\x3e\x3c/div\x3e';a+="                \x3c/div\x3e";a+='                \x3cdiv class\x3d"right"\x3e';if(0==MPData.user.id)a+='\x3cdiv id\x3d"login"\x3e\u767b\u5f55\x3c/div\x3e',a+='\x3cdiv id\x3d"signup"\x3e\u6ce8\u518c\x3c/div\x3e';else{var e=MPObject.User;a+='\x3cdiv class\x3d"nav notice-nav"\x3e';a+='    \x3cdiv class\x3d"nav-link" title\x3d"\u901a\u77e5"\x3e';a+='         \x3cem class\x3d"count"\x3e\x3c/em\x3e';a+="    \x3c/div\x3e";a+='    \x3cdiv class\x3d"hide-menu"\x3e';a+='         \x3cdiv class\x3d"triangle"\x3e\x3c/div\x3e';a+="         \x3cul\x3e";a+='             \x3cli id\x3d"message" data-max\x3d"0"\x3e\u6d88\u606f\x3c/li\x3e';a+='             \x3cli id\x3d"activity" data-max\x3d"0"\x3e\u52a8\u6001\x3c/li\x3e';a+="         \x3c/ul\x3e";a+='         \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e';a+='         \x3cdiv class\x3d"content "\x3e';a+="         \x3c/div\x3e";a+="    \x3c/div\x3e";a+="\x3c/div\x3e";a+='\x3cdiv class\x3d"nav add-nav"\x3e';a+='    \x3cdiv class\x3d"nav-link" title\x3d"\u6dfb\u52a0"\x3e';a+="    \x3c/div\x3e";a+='    \x3cdiv class\x3d"hide-menu"\x3e\x3c/div\x3e';a+="\x3c/div\x3e";a+='\x3cdiv class\x3d"nav user-nav"\x3e';a+='    \x3ca class\x3d"nav-link" href\x3d"{0}"\x3e'.Format(e.Pages.Home(MPData.user));a+='        \x3cimg class\x3d"avt" src\x3d"{0}" /\x3e'.Format(e.Avt(MPData.user));a+='        \x3cdiv class\x3d"arrow"\x3e\x3c/div\x3e';a+="    \x3c/a\x3e";a+='    \x3cdiv class\x3d"hide-menu"\x3e';a+='        \x3ca class\x3d"item" href\x3d"{0}"\x3e\u6211\u7684\u4e3b\u9875\x3c/a\x3e'.Format(e.Pages.Home(MPData.user));a+='        \x3cdiv class\x3d"seperator"\x3e\x3c/div\x3e';a+='        \x3ca class\x3d"item" href\x3d"{0}"\x3e\u6211\u7684\u5173\u6ce8\x3c/a\x3e'.Format(e.Pages.Following(MPData.user));a+='        \x3ca class\x3d"item" href\x3d"{0}"\x3e\u6211\u7684\u7c89\u4e1d\x3c/a\x3e'.Format(e.Pages.Follower(MPData.user));a+='        \x3cdiv class\x3d"seperator"\x3e\x3c/div\x3e';a+='        \x3ca class\x3d"item" href\x3d"/setting"\x3e\u8bbe\u7f6e\x3c/a\x3e';a+='        \x3cdiv class\x3d"item" id\x3d"logout"\x3e\u9000\u51fa\x3c/div\x3e';a+="    \x3c/div\x3e";a+="\x3c/div\x3e"}a+="                \x3c/div\x3e";a+="            \x3c/div\x3e";a+="        \x3c/div\x3e";a+="    \x3c/div\x3e";a+='    \x3cdiv class\x3d"wrapper"\x3e';a+='        \x3cdiv class\x3d"body"\x3e\x3c/div\x3e';a+="    \x3c/div\x3e";a+='    \x3cdiv class\x3d"float-tools"\x3e';a+='        \x3cem class\x3d"top" title\x3d"\u56de\u5230\u9876\u90e8"\x3e\x3c/em\x3e';a+="    \x3c/div\x3e";return a+="\x3c/div\x3e"};MPTemplate.Widget.ImageView=function(a,e){var b=MPFormat.User.New(a.user),d;d='\x3cdiv class\x3d"image-view"\x3e    \x3cdiv class\x3d"main"\x3e';d+='        \x3cdiv class\x3d"image-piece piece"\x3e';d+='            \x3cdiv class\x3d"tool-bar"\x3e';d+='                \x3cdiv class\x3d"resave btn" data-id\x3d"{0}" data-hash\x3d"{1}" data-description\x3d"{2}"\x3e\u8f6c\u5b58\x3c/div\x3e'.Format(a.id,a.file.hash,a.description.replace('"',""));MPData.user.id==a.user.id?(d+='                \x3cdiv class\x3d"edit btn" data-id\x3d"{0}" data-hash\x3d"{1}" data-descripition\x3d"{2}" data-source\x3d"{3}" data-packageid\x3d"{4}" data-packagetitle\x3d"{5}"\x3e\u7f16\u8f91\x3c/div\x3e'.Format(a.id,a.file.hash,a.description,a.source,a.package.id,a.package.title),d+='                \x3cdiv class\x3d"delete btn" data-id\x3d"{0}" data-hash\x3d"{1}"\x3e\u5220\u9664\x3c/div\x3e'.Format(a.id,a.file.hash)):d+='\x3cdiv class\x3d"{0} btn" data-id\x3d"{1}"\x3e\x3cem\x3e\x3c/em\x3e\x3c/div\x3e'.Format(!0==a.praised?"image-unpraise":"image-praise",a.id);d+='         \x3cdiv class\x3d"big btn" title\x3d"\u67e5\u770b\u5927\u56fe" data-id\x3d"{0}"\x3e\x3cem\x3e\x3c/em\x3e\x3c/div\x3e'.Format(a.id);d+="            \x3c/div\x3e";d+='            \x3cdiv class\x3d"image"\x3e';d+='                \x3cimg src\x3d"{0}" alt\x3d"{1}" /\x3e'.Format(MPObject.Image.fw658(a).url,a.description.substring(0,20).replace('"',""));d+="            \x3c/div\x3e";""!=a.host&&(d+='            \x3cdiv class\x3d"bar-bottom"\x3e',d+='                \x3cdiv class\x3d"source"\x3e\x3cspan\x3e\u6765\u81ea\x3c/span\x3e\x3ca href\x3d"{0}" target\x3d"_blank"\x3e{1}\x3c/a\x3e\x3c/div\x3e'.Format(a.source,a.host),d+='                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e',d+="            \x3c/div\x3e");d+="        \x3c/div\x3e";d+='          \x3cdiv class\x3d"info-piece piece"\x3e';d+='                \x3cdiv class\x3d"info"\x3e';d+='                    \x3ca class\x3d"avt" href\x3d"{0}"\x3e'.Format(b.Home());d+='                        \x3cimg src\x3d"{0}" /\x3e'.Format(b.Avt());d+="                    \x3c/a\x3e";d+='                    \x3cdiv class\x3d"info-main"\x3e';d+='                        \x3ca class\x3d"name" href\x3d"{1}"\x3e{0}\x3c/a\x3e'.Format(b.Name(),b.Home());d+="                    \x3c/div\x3e";d+='                    \x3cdiv class\x3d"sub"\x3e';d+="                        \u6536\u96c6\u4e8e {0}".Format(a.time);d+="                    \x3c/div\x3e";d+="                \x3c/div\x3e";""!=a.description&&(d+='                \x3cdiv class\x3d"description"\x3e{0}\x3c/div\x3e'.Format(a.description));d+='                \x3cdiv class\x3d"comments"\x3e';for(var g=a.comments.length,k=0;k<g;k++)d+=MPTemplate.Widget.Comment(a.comments[k]);!0==MPCheckLogin(!1)&&(g=MPObject.User,d+='                \x3cdiv class\x3d"add-comment"\x3e',d+='                     \x3cimg class\x3d"avt" src\x3d"{0}" /\x3e'.Format(g.Avt(MPData.user)),d+='                    \x3cdiv class\x3d"new-comment"\x3e',d+='                        \x3ctextarea placeholder\x3d"\u8bf7\u5728\u8fd9\u91cc\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9" \x3e\x3c/textarea\x3e',d+="                    \x3c/div\x3e",d+='                    \x3cdiv class\x3d"submit"\x3e\u6dfb\u52a0\u8bc4\u8bba\x3c/div\x3e',d+="                \x3c/div\x3e",d+='                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e');d+="            \x3c/div\x3e";d+="        \x3c/div\x3e";d+="    \x3c/div\x3e";d+='    \x3cdiv class\x3d"side"\x3e';d+='        \x3cdiv class\x3d"package-piece piece"\x3e';d+='            \x3cdiv class\x3d"info"\x3e';d+='                \x3cimg class\x3d"avt" src\x3d"{0}" /\x3e'.Format(b.Avt());d+='                \x3ca class\x3d"username" href\x3d"{1}"\x3e{0}\x3c/a\x3e'.Format(b.Name(),"/user/"+b.ID());d+='                \x3ca class\x3d"title" href\x3d"{1}"\x3e{0}\x3c/a\x3e'.Format(a.package.title,"/package/"+a.package.id);d+="            \x3c/div\x3e";d+='            \x3cdiv class\x3d"images"\x3e';d+='                \x3cdiv class\x3d"image-waterfall"\x3e';d+="                \x3c/div\x3e";d+="            \x3c/div\x3e";d+="        \x3c/div\x3e";d+='        \x3cdiv class\x3d"ad-piece piece"\x3e';d+="        \x3c/div\x3e";d+='         \x3cdiv class\x3d"from-piece piece"\x3e';d+='             \x3ca href\x3d"/from/{0}"\x3e'.Format(a.host);d+='                     \x3cdiv class\x3d"text"\x3e\u66f4\u591a\u6765\u81ea\x3c/div\x3e';d+='                     \x3cdiv class\x3d"host"\x3e\x3c/div\x3e';d+='                     \x3cdiv class\x3d"thumbs"\x3e';d+="                     \x3c/div\x3e";d+='                     \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e';d+="             \x3c/a\x3e";d+="         \x3c/div\x3e";d+="    \x3c/div\x3e";d+='    \x3cdiv class\x3d"bottom"\x3e\x3c/div\x3e';return d+="\x3c/div\x3e"};MPTemplate.Widget.Link=function(a,e){var b,d;0==a.indexOf("http://")?(b="link",d="\u7f51\u9875\u94fe\u63a5"):0==a.indexOf("magnet:?xt\x3durn:btih:")&&(b="magnet",d="\u78c1\u529b\u94fe");'\x3ca class\x3d"widget-link" href\x3d"{0}"\x3e'.Format(a);'    \x3cdiv class\x3d"icon {0}"\x3e\x3c/div\x3e'.Format(b);'    \x3cdiv class\x3d"text"\x3e{0}\x3c/div\x3e'.Format(d)};MPTemplate.Widget.User=function(a,e){var b;b='\x3cdiv class\x3d"widget-user"\x3e'+'    \x3ca class\x3d"avt" href\x3d"/user/{0}"\x3e'.Format(a.id);b+='        \x3cimg src\x3d"{0}" /\x3e'.Format(MPObject.User.BigAvt(a));b+="    \x3c/a\x3e";b+='    \x3ca class\x3d"name"\x3e{0}\x3c/a\x3e'.Format(MPObject.User.Name(a));b+='    \x3cdiv class\x3d"counts"\x3e';b+='        \x3ca class\x3d"item" href\x3d"{1}"\x3e{0}\u56fe\u7247\x3c/a\x3e'.Format(a.images_count,MPObject.User.Pages.Image(a));b+='        \x3ca class\x3d"item" href\x3d"{1}"\x3e{0}\u56fe\u5305\x3c/a\x3e'.Format(a.packages_count,MPObject.User.Pages.Package(a));b+="    \x3c/div\x3e";b+='    \x3cdiv class\x3d"actions {0}" data-id\x3d"{1}"\x3e\x3c/div\x3e'.Format(a.followed?"unfollow":"follow",a.id);return b+="\x3c/div\x3e"};MPTemplate.Widget.User.Buttons={};MPTemplate.Widget.User.Buttons.Follow=function(a,e){null==e&&(e={});return'\x3cdiv class\x3d"{0} {4}" data-id\x3d"{1}" title\x3d"\u5173\u6ce8{2}"\x3e\x3c/div\x3e'.Format(a.followed?"user-unfollow":"user-follow",a.id,a.name,e.class)};MPTemplate.Widget.Add=function(a,e){var b;b=""+'\x3cdiv class\x3d"widget-add" data-id\x3d"{0}"\x3e'.Format(a.id);b+='    \x3cdiv class\x3d"border {0}"\x3e'.Format(e.class);b=b+"        \x3cem\x3e\x3c/em\x3e"+"        \x3cspan\x3e{0}\x3c/span\x3e".Format(e.text);b+="    \x3c/div\x3e";return b+="\x3c/div\x3e"};MPTemplate.Widget.Add.Options={AddPackage:{"class":"package",text:"\u521b\u5efa\u56fe\u5305"},AddImage:{"class":"image",text:"\u6dfb\u52a0\u56fe\u7247"}};MPTemplate.Widget.Notice={};MPTemplate.Widget.Notice.Activity=function(a,e){str="";switch(a.type){case "praise":var b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u8d5e\u4e86\u4f60\u7684\u56fe\u7247\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description);str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "resave":b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u8f6c\u5b58\u4e86\u4f60\u7684\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description);str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "follow_user":b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u5173\u6ce8\u4e86\u4f60\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "follow_package":b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u5173\u6ce8\u4e86\u4f60\u7684\u56fe\u5305\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"package-title" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/package/"+a.package.id,a.package.title);str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "resave_through":b=MPObject.User,str+='\x3cdiv class\x3d"widget-notice"\x3e',str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user)),str+='    \x3cdiv class\x3d"r"\x3e',str+='        \x3cdiv class\x3d"line"\x3e',str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user)),str+="            \x3cspan\x3e\u901a\u8fc7\x3c/span\x3e",str+='            \x3ca class\x3d"package-title" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/package/"+a.package.id,a.package.title),str+="            \x3cspan\x3e\u8f6c\u5b58\u4e86\x3c/span\x3e",str+="        \x3c/div\x3e",str+='        \x3cdiv class\x3d"line"\x3e',str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description),str+="        \x3c/div\x3e",str+="    \x3c/div\x3e",str+="\x3c/div\x3e"}return str};MPTemplate.Widget.Notice.Message=function(a,e){str="";switch(a.type){case "comment":var b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u5bf9\u4f60\u7684\u56fe\u7247\x3c/span\x3e";str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description);str+="            \x3cspan\x3e\u4f5c\u51fa\u4e86\u8bc4\u4ef7\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+="            \x3cspan\x3e{0}\x3c/span\x3e".Format(a.comment);str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "mention":b=MPObject.User;str+='\x3cdiv class\x3d"widget-notice"\x3e';str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user));str+='    \x3cdiv class\x3d"r"\x3e';str+='        \x3cdiv class\x3d"line"\x3e';str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user));str+="            \x3cspan\x3e\u5728\u8bc4\u8bba\x3c/span\x3e";str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description);str+="            \x3cspan\x3e\u65f6\u63d0\u5230\u4e86\u4f60\x3c/span\x3e";str+="        \x3c/div\x3e";str+='        \x3cdiv class\x3d"line"\x3e';str+="            \x3cspan\x3e{0}\x3c/span\x3e".Format(a.comment);str+="        \x3c/div\x3e";str+="    \x3c/div\x3e";str+="\x3c/div\x3e";break;case "reply":b=MPObject.User,str+='\x3cdiv class\x3d"widget-notice"\x3e',str+='    \x3ca href\x3d"{0}"\x3e\x3cimg class\x3d"avt" src\x3d"{1}"/\x3e\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Avt(a.user)),str+='    \x3cdiv class\x3d"r"\x3e',str+='        \x3cdiv class\x3d"line"\x3e',str+='            \x3ca class\x3d"username" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(b.Pages.Home(a.user),b.Name(a.user)),str+="            \x3cspan\x3e\u5728\x3c/span\x3e",str+='            \x3ca class\x3d"image-description" href\x3d"{0}"\x3e{1}\x3c/a\x3e'.Format(host+"/image/"+a.image.id,a.image.description),str+="            \x3cspan\x3e\u56de\u590d\u4e86\u4f60\x3c/span\x3e",str+="        \x3c/div\x3e",str+='        \x3cdiv class\x3d"line"\x3e',str+="            \x3cspan\x3e{0}\x3c/span\x3e".Format(a.comment),str+="        \x3c/div\x3e",str+="    \x3c/div\x3e",str+="\x3c/div\x3e"}return str};MPTemplate.Dialog.AvtCutDialog=function(a,e){var b={file:a},d;d='\x3cdiv class\x3d"dialog-mask"\x3e    \x3cdiv class\x3d"dialog-box"\x3e';d+='        \x3cdiv class\x3d"dialog-title"\x3e';d+='            \x3cspan class\x3d"text"\x3e\u56fe\u7247\u88c1\u526a\x3c/span\x3e';d+='            \x3cdiv class\x3d"dialog-close"\x3e\x3c/div\x3e';d+="        \x3c/div\x3e";d+='        \x3cdiv class\x3d"dialog-content"\x3e';d+='            \x3cdiv class\x3d"crop-dialog"\x3e';var g=400/a.width,k=300/a.height;1<g&&(g=1);1<k&&(k=1);k=g>k?k:g;g=Math.ceil(a.width*k);k=Math.ceil(a.height*k);d+='                \x3cdiv class\x3d"img" style\x3d"left:{0}px;top:{1}px;height:{2}px;width:{3}px"\x3e'.Format(Math.ceil((400-g)/2),Math.ceil((300-k)/2),k,g);d+='                    \x3cimg class\x3d"main" src\x3d"{0}" width\x3d"{1}" height\x3d"{2}"/\x3e'.Format(MPObject.Image.fw658(b).url,g,k);d+="                \x3c/div\x3e";d+='                \x3cdiv class\x3d"previews"\x3e';d+='                    \x3cdiv class\x3d"big"\x3e';d+='                        \x3cimg src\x3d"{0}" /\x3e'.Format(MPObject.Image.fw658(b).url);d+="                    \x3c/div\x3e";d+='                    \x3cdiv class\x3d"normal"\x3e';d+='                        \x3cimg src\x3d"{0}"/\x3e'.Format(MPObject.Image.fw658(b).url);d+="                    \x3c/div\x3e";d+="                \x3c/div\x3e";d+='                \x3cdiv class\x3d"clear"\x3e\x3c/div\x3e';d+="            \x3c/div\x3e";d+="        \x3c/div\x3e";d+='        \x3cdiv class\x3d"dialog-btns"\x3e';d+='            \x3cdiv class\x3d"ok"\x3e\u786e\u8ba4\x3c/div\x3e';d+='            \x3cdiv class\x3d"cancel"\x3e\u53d6\u6d88\x3c/div\x3e';d+="        \x3c/div\x3e";d+="    \x3c/div\x3e";return d+="\x3c/div\x3e"};MPWidget.Package={};MPWidget.Image={};MPWidget.Frame={};MPWidget.Frame.New=function(){function a(a){1!=a&&$.post(host+"/ajax/get-message",{max:a},function(a){if(0==a.code)for(var d=b.find(".notice-nav .content "),e=a.datas.length,g=0;g<e;g++)d.append(MPTemplate.Widget.Notice.Message(a.datas[g])),$("#message").attr("data-max",a.data_max)},"json")}function e(a){1!=a&&$.post(host+"/ajax/get-activity",{max:a},function(a){if(0==a.code)for(var d=b.find(".notice-nav .content "),e=a.datas.length,g=0;g<e;g++)d.append(MPTemplate.Widget.Notice.Activity(a.datas[g])),$("#activity").attr("data-max",a.data_max)},"json")}var b=$(MPTemplate.Widget.Frame()),d=b.find(".header .search");b.Body=b.find(".body");MPWidget.Search.New();d.append(MPWidget.Search.New());if(0==MPData.user.id){var d=b.find("#login"),g=b.find("#signup");d.click(function(){MPLoginDialog.New().onSuccess=function(){location.reload()}});g.click(function(){MPSignUpDialog.New()})}else{var k=b.find(".user-nav"),w=k.find(".hide-menu"),d=b.find("#logout");MPMenu(k,w);var g=b.find(".notice-nav"),s=g.find(".hide-menu");MPPopUpMenu(g,s,function(){MPMenu(k,w);$(".widget-notice").remove();$("#activity").removeClass("on");$("#message").removeClass("on")},function(){k.unbind();$("#activity").hasClass("on")||$("#message").hasClass("on")||($("#message").addClass("on"),a(0),u("#message"));$("#activity").click(function(a){a.stopPropagation();$("notice-nav .content").unbind();$(this).hasClass("on")||($("#message").removeClass("on"),$(this).addClass("on"),$(".widget-notice").remove(),e(0),u("#activity"))});$("#message").click(function(b){b.stopPropagation();$("notice-nav .content").unbind();$(this).hasClass("on")||($("#activity").removeClass("on"),$(this).addClass("on"),$(".widget-notice").remove(),a(0),u("#message"))})});var u=function(b){$(b);$(b).attr("data-max");1==$(b).attr("data-max")?$("notice-nav .content").unbind():$(".notice-nav .content").scroll(function(){var d=$(this)[0].scrollHeight,g=$(this)[0].scrollTop;$(this).height()+g>=d&&($("notice-nav .content").unbind(),"#message"==b?a($(b).attr("data-max")):e($(b).attr("data-max")),u(b))})};d.click(function(){null==$.cookie("login")?MPMessageBox.New(MPMessageBox.Icons.Error,"\u8bf7\u5148\u767b\u5f55"):$.post(host+"/ajax/logout",{},function(a){0==a.code&&($.cookie("login",null),location.href=host)},"json")});b.find(".add-nav").click(function(){MPObject.Image.CreateImage()})}var B=b.find(".float-tools .top");$(document).scroll(function(){200>$(document).scrollTop()?B.fadeOut():B.fadeIn().css("display","block")});B.click(function(){$("html,body").animate({scrollTop:0},200)});$.post(host+"/ajax/get-notice-count",{},function(a){if(0==a.code)if(a=a.activity_count+a.message_count,0==a)$(".notice-nav .count").hide();else{var b=$(".notice-nav .count");b.text(a);b.show()}},"json");return b};MPWidget.Search={};MPWidget.Search.New=function(){var a;a='\x3cdiv class\x3d"widget-search"\x3e    \x3cinput type\x3d"text" class\x3d"keyword" autocomplete\x3d"on" placeholder\x3d"\u641c\u7d22" /\x3e';a+='    \x3cdiv class\x3d"go"\x3e\x3c/div\x3e';a+="\x3c/div\x3e";a=$(a);var e=a.find("input");a.find(".go").click(function(){var a=e.val();location.href="/search/"+encodeURIComponent(a)});return a};MPWidget.Image.Description=function(a){a=MPHtmlEncode(a);return a.replace(/(#.*#)/g,function(a){var b=$.trim(a.substring(1,a.length-1));return""==b?a:'\x3ca href\x3d"/search/{0}"\x3e{1}\x3c/a\x3e'.FormatNoEncode(encodeURIComponent(b),a)})};MPWidget.Image.New=function(a,e){return $(MPTemplate.Widget.Image(a,e))};MPWidget.Image.Bind=function(){$(document).on("click",".widget-image .edit",function(){var a=$(this),e=a.attr("data-id"),b=a.attr("data-hash"),d=a.attr("data-source"),g=a.attr("data-description"),k=a.attr("data-packageid"),a=a.attr("data-packagetitle");MPObject.Image.Edit(e,b,g,d,k,a)}).on("click",".widget-image .resave",function(){var a=$(this),e=a.attr("data-id"),b=a.attr("data-hash"),a=a.attr("data-description");MPObject.Image.Resave(e,b,a,"")}).on("click",".widget-image .praise",function(){var a=$(this),e=a.attr("data-id");MPObject.Image.Praise(e,function(){a.removeClass("praise");a.addClass("unpraise")})}).on("click",".widget-image .unpraise",function(){var a=$(this),e=a.attr("data-id");MPObject.Image.UnPraise(e,function(){a.removeClass("unpraise");a.addClass("praise")})}).on("click",".widget-image a.img",function(a){a.preventDefault();a=$(".widget_window");if(0==a.length){a=MPWidget.Window.New();var e=$("body");a.onClose=function(){e.removeAttr("style")};$("body").append(a).css("overflow","hidden")}a.Init($(this).parents(".widget-image"))}).on("mouseenter",".widget-image",function(){$(this).find(".actions").show()}).on("mouseleave",".widget-image",function(){$(this).find(".actions").hide()})};MPWidget.Package.New=function(a,e){return $(MPTemplate.Widget.Package(a,e))};MPWidget.Package.Bind=function(){$(document).on("click",".widget-package .edit",function(){var a=$(this).attr("data-id"),e=$(this).attr("data-title"),b=$(this).attr("data-description");MPObject.Package.Edit(a,e,b)}).on("click",".widget-package .follow",function(){var a=$(this),e=a.attr("data-id");MPObject.Package.Follow(e,function(){a.removeClass("follow");a.addClass("unfollow");MPMessageBox.New(MPMessageBox.Icons.OK,"\u5173\u6ce8\u6210\u529f!")})}).on("click",".widget-package .unfollow",function(){var a=$(this);MPMessageBox.New(MPMessageBox.Icons.Warn,"\u786e\u8ba4\u8981\u53d6\u6d88\u5173\u6ce8?").onOK=function(){var e=a.attr("data-id");MPObject.Package.UnFollow(e,function(){a.removeClass("unfollow");a.addClass("follow")})}})};MPWidget.ImageView={};MPWidget.ImageView.New=function(a){var e=$(MPTemplate.Widget.ImageView(a));e.Run=function(){var d=MPWaterFall.New(e.find(".images"),e.find(".image-waterfall"),3,76,1,1,1,1,!1),g=0;d.onBottom=function(){d.BeginUpdate();$.getJSON("/package/"+a.package.id,{ajax:!0,simple:!0,max:g},function(a){g=d.Push(a,b,null,"id");d.EndUpdate()})};d.onBottom();e.find(".ad-piece.piece").append(MPPage.ad);""!=a.host&&$.getJSON("/from/"+a.host,{ajax:!0,limit:3}).success(function(b){var d=b.length;if(0!=d){e.find(".from-piece").show();e.find(".from-piece .host").text(a.host);var g=e.find(".from-piece .thumbs");g.empty();for(var u=0;u<d;u++){var B='\x3cimg src\x3d"{0}" class\x3d"thumb"/\x3e'.Format(MPObject.Image.sq236(b[u]).url);g.append(B)}}})};var b={New:function(a){var b;b=""+'\x3ca class\x3d"image" href\x3d"{0}" data-id\x3d"{1}"\x3e'.Format("/image/"+a.id,a.id);a=MPObject.Image.fw78(a);b+='     \x3cimg src\x3d"{0}" width\x3d"76" height\x3d"{1}"/\x3e'.Format(a.url,a.height);b+='     \x3cdiv class\x3d"cover"\x3e\x3c/div\x3e\x3c/a\x3e';return $(b)}};return e};MPWidget.ImageView.Bind=function(){$(document).on("click",".image-view .resave",function(){var a=$(this),e=a.attr("data-id"),b=a.attr("data-hash"),a=a.attr("data-description");MPObject.Image.Resave(e,b,a)}).on("click",".image-view .edit",function(){var a=$(this),e=a.attr("data-id"),b=a.attr("data-hash"),d=a.attr("data-packageid"),g=a.attr("data-packagetitle"),k=a.attr("data-description"),a=a.attr("data-source");MPObject.Image.Edit(e,b,k,a,d,g)}).on("click",".image-view .delete",function(){var a=$(this).attr("data-id");MPObject.Image.Delete(a)}).on("click",".image-view .submit",function(){var a=$(".image-view .resave").attr("data-id"),e=$(".new-comment textarea");""==$.trim(e.val())?MPMessageBox.New(MPMessageBox.Icons.Warn,"\u8bf7\u8f93\u5165\u8bc4\u8bba\u5185\u5bb9"):$.post(host+"/ajax/add-comment",{text:MPHtmlEncode(e.val()),image_id:a},function(a){0==a.code?($(".image-view .comments").prepend($(MPTemplate.Widget.Comment(a.comment))),e.val("")):MPMessageBox.New(MPMessageBox.Icons.Error,a.mag)},"json")}).on("keydown",".new-comment textarea",function(a){50==a.keyCode&&a.shiftKey&&$.post(host+"/ajax/get-following-user",{},function(a){if(0==a.code){a=a.users;var b=$("\x3cdiv/\x3e").addClass("mention-container ");if(0!=a.length){for(var d=0;d<a.length;d++){var g=$("\x3cdiv/\x3e").addClass("mention-option");g.text(a[d].name);b.append(g)}a=$(".new-comment textarea").position().top;d=$(".new-comment textarea").position().left;g=$(".new-comment textarea").caret("position");b.offset({left:g.left+d+2,top:g.top+a+1});$(".new-comment").append(b);$(document).click(function(a){var d={};d.X=a.clientX;d.Y=a.clientY;MPCheckInEle(b,d)||b.remove()});$(document).keydown(function(a){b.remove()})}}},"json")}).on("click",".mention-option",function(){var a=$(this).text()+" ",e=$(".new-comment textarea").val();$(".new-comment textarea").val(e+a);$(".new-comment .mention-container").remove()}).on("click",".image-view .image-praise",function(){var a=$(this),e=a.attr("data-id");MPObject.Image.Praise(e,function(){a.removeClass("image-praise ");a.addClass("image-unpraise")})}).on("click",".image-view .image-unpraise",function(){var a=$(this),e=a.attr("data-id");MPObject.Image.UnPraise(e,function(){a.removeClass("image-unpraise");a.addClass("image-praise ")})}).on("click",".image-view .big",function(){var a=$(this).attr("data-id");open(host+"/image/"+a+"/big")})};MPWidget.User={};MPWidget.User.New=function(a){return $(MPTemplate.Widget.User(a))};MPWidget.User.Bind=function(){$(document).on("click",".widget-user .follow",function(){var a=$(this),e=a.attr("data-id");MPObject.User.Actions.Follow(e,function(){a.removeClass("follow");a.addClass("unfollow")})}).on("click","widget-user .unfollow",function(){var a=$(this),e=a.attr("data-id");MPObject.User.Actions.UnFollow(e,function(){a.removeClass("unfollow");a.addClass("follow")})})};MPWidget.Window={};MPWidget.Window.New=function(a){function e(a){a.preventDefault();a=$(this).attr("data-id");k(a)}function b(){w.Init(v.next(".widget-image"))}function d(){w.Init(v.prev(".widget-image"))}function g(){w.remove();if(null!=w.onClose)w.onClose()}function k(a){$.getJSON("/image/"+a+"?ajax\x3d",function(a){B.empty();a=MPWidget.ImageView.New(a);B.append(a);a.Run()})}var w=null;if(void 0!=a)w=$(a);else{a='\x3cdiv class\x3d"widget-window"\x3e     \x3cdiv class\x3d"container"\x3e';a+='         \x3cdiv class\x3d"close"\x3e\x3c/div\x3e';a+='         \x3cdiv class\x3d"prev"\x3e\x3c/div\x3e';a+='         \x3cdiv class\x3d"next"\x3e\x3c/div\x3e';a+='         \x3cdiv class\x3d"viewer"\x3e\x3c/div\x3e';a+="      \x3c/div\x3e";a+="\x3c/div\x3e";var w=$(a),s=w.find(".next"),u=w.find(".prev");a=w.find(".close");var B=w.find(".viewer"),v=null;s.click(b);u.click(d);a.click(g);w.on("click",".image-waterfall .image",e)}w.Init=function(a){v=a;0==a.next(".widget-image").length?s.hide():s.show();0==a.prev(".widget-image").length?u.hide():u.show();a=a.attr("data-id");k(a)};w.onClose=null;return w};$(function(){MPWidget.Image.Bind();MPWidget.Package.Bind();MPWidget.User.Bind();MPWidget.ImageView.Bind();MPPage={};MPPage.ad=$("#tanxssp_con_mm_26054915_7856098_30982792")});